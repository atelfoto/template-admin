!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";function g(e){return null!=e&&e===e.window}var t=[],n=Object.getPrototypeOf,s=t.slice,m=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},l=t.push,r=t.indexOf,i={},a=i.toString,v=i.hasOwnProperty,o=v.toString,u=o.call(Object),b={},y=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},T=C.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,i){var n,r,a=(i=i||T).createElement("script");if(a.text=e,t)for(n in c)(r=t[n]||t.getAttribute&&t.getAttribute(n))&&a.setAttribute(n,r);i.head.appendChild(a).parentNode.removeChild(a)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?i[a.call(e)]||"object":typeof e}var d="3.5.0",E=function(e,t){return new E.fn.init(e,t)};function f(e){var t=!!e&&"length"in e&&e.length,i=x(e);return!y(e)&&!g(e)&&("array"===i||0===t||"number"==typeof t&&0<t&&t-1 in e)}E.fn=E.prototype={jquery:d,constructor:E,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=E.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return E.each(this,e)},map:function(i){return this.pushStack(E.map(this,function(e,t){return i.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(E.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(0<=i&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:t.sort,splice:t.splice},E.extend=E.fn.extend=function(){var e,t,i,n,r,a,o=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[s]||{},s++),"object"==typeof o||y(o)||(o={}),s===l&&(o=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=e[t],"__proto__"!==t&&o!==n&&(u&&n&&(E.isPlainObject(n)||(r=Array.isArray(n)))?(i=o[t],a=r&&!Array.isArray(i)?[]:r||E.isPlainObject(i)?i:{},r=!1,o[t]=E.extend(u,a,n)):void 0!==n&&(o[t]=n));return o},E.extend({expando:"jQuery"+(d+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,i;return!(!e||"[object Object]"!==a.call(e))&&(!(t=n(e))||"function"==typeof(i=v.call(t,"constructor")&&t.constructor)&&o.call(i)===u)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,i){w(e,{nonce:t&&t.nonce},i)},each:function(e,t){var i,n=0;if(f(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},makeArray:function(e,t){var i=t||[];return null!=e&&(f(Object(e))?E.merge(i,"string"==typeof e?[e]:e):l.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:r.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;n<i;n++)e[r++]=t[n];return e.length=r,e},grep:function(e,t,i){for(var n=[],r=0,a=e.length,o=!i;r<a;r++)!t(e[r],r)!=o&&n.push(e[r]);return n},map:function(e,t,i){var n,r,a=0,o=[];if(f(e))for(n=e.length;a<n;a++)null!=(r=t(e[a],a,i))&&o.push(r);else for(a in e)null!=(r=t(e[a],a,i))&&o.push(r);return m(o)},guid:1,support:b}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=t[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){i["[object "+t+"]"]=t.toLowerCase()});var p=function(i){function d(e,t){var i="0x"+e.slice(1)-65536;return t||(i<0?String.fromCharCode(65536+i):String.fromCharCode(i>>10|55296,1023&i|56320))}function r(){_()}var e,p,w,a,o,h,f,g,x,l,u,_,C,s,T,m,c,v,b,E="sizzle"+ +new Date,y=i.document,S=0,n=0,k=le(),P=le(),F=le(),I=le(),A=function(e,t){return e===t&&(u=!0),0},D={}.hasOwnProperty,t=[],j=t.pop,z=t.push,M=t.push,$=t.slice,U=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="[\\x20\\t\\r\\n\\f]",R="(?:\\\\[\\da-fA-F]{1,6}"+N+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",O="\\["+N+"*("+R+")(?:"+N+"*([*^$|!~]?=)"+N+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+N+"*\\]",B=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",q=new RegExp(N+"+","g"),H=new RegExp("^"+N+"+|((?:^|[^\\\\])(?:\\\\.)*)"+N+"+$","g"),Z=new RegExp("^"+N+"*,"+N+"*"),W=new RegExp("^"+N+"*([>+~]|"+N+")"+N+"*"),V=new RegExp(N+"|>"),G=new RegExp(B),X=new RegExp("^"+R+"$"),Q={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+N+"*(even|odd|(([+-]|)(\\d*)n|)"+N+"*(?:([+-]|)"+N+"*(\\d+)|))"+N+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+N+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+N+"*((?:-\\d)?\\d*)"+N+"*\\)|)(?=[^-]|$)","i")},K=/HTML$/i,Y=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,ee=/^[^{]+\{\s*\[native \w/,te=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ie=/[+~]/,ne=new RegExp("\\\\[\\da-fA-F]{1,6}"+N+"?|\\\\([^\\r\\n\\f])","g"),re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ae=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=we(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{M.apply(t=$.call(y.childNodes),y.childNodes),t[y.childNodes.length].nodeType}catch(e){M={apply:t.length?function(e,t){z.apply(e,$.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}function se(t,e,i,n){var r,a,o,s,l,u,c,d=e&&e.ownerDocument,f=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==f&&9!==f&&11!==f)return i;if(!n&&(_(e),e=e||C,T)){if(11!==f&&(l=te.exec(t)))if(r=l[1]){if(9===f){if(!(o=e.getElementById(r)))return i;if(o.id===r)return i.push(o),i}else if(d&&(o=d.getElementById(r))&&b(e,o)&&o.id===r)return i.push(o),i}else{if(l[2])return M.apply(i,e.getElementsByTagName(t)),i;if((r=l[3])&&p.getElementsByClassName&&e.getElementsByClassName)return M.apply(i,e.getElementsByClassName(r)),i}if(p.qsa&&!I[t+" "]&&(!m||!m.test(t))&&(1!==f||"object"!==e.nodeName.toLowerCase())){if(c=t,d=e,1===f&&(V.test(t)||W.test(t))){for((d=ie.test(t)&&ve(e.parentNode)||e)===e&&p.scope||((s=e.getAttribute("id"))?s=s.replace(re,ae):e.setAttribute("id",s=E)),a=(u=h(t)).length;a--;)u[a]=(s?"#"+s:":scope")+" "+ye(u[a]);c=u.join(",")}try{return M.apply(i,d.querySelectorAll(c)),i}catch(e){I(t,!0)}finally{s===E&&e.removeAttribute("id")}}}return g(t.replace(H,"$1"),e,i,n)}function le(){var i=[];function n(e,t){return i.push(e+" ")>w.cacheLength&&delete n[i.shift()],n[e+" "]=t}return n}function ue(e){return e[E]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var i=e.split("|"),n=i.length;n--;)w.attrHandle[i[n]]=t}function fe(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function pe(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(i){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===i}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&oe(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function me(o){return ue(function(a){return a=+a,ue(function(e,t){for(var i,n=o([],e.length,a),r=n.length;r--;)e[i=n[r]]&&(e[i]=!(t[i]=e[i]))})})}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in p=se.support={},o=se.isXML=function(e){var t=e.namespaceURI,i=(e.ownerDocument||e).documentElement;return!K.test(t||i&&i.nodeName||"HTML")},_=se.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:y;return n!=C&&9===n.nodeType&&n.documentElement&&(s=(C=n).documentElement,T=!o(C),y!=C&&(i=C.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",r,!1):i.attachEvent&&i.attachEvent("onunload",r)),p.scope=ce(function(e){return s.appendChild(e).appendChild(C.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),p.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),p.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),p.getElementsByClassName=ee.test(C.getElementsByClassName),p.getById=ce(function(e){return s.appendChild(e).id=E,!C.getElementsByName||!C.getElementsByName(E).length}),p.getById?(w.filter.ID=function(e){var t=e.replace(ne,d);return function(e){return e.getAttribute("id")===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&T){var i=t.getElementById(e);return i?[i]:[]}}):(w.filter.ID=function(e){var i=e.replace(ne,d);return function(e){var t=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===i}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&T){var i,n,r,a=t.getElementById(e);if(a){if((i=a.getAttributeNode("id"))&&i.value===e)return[a];for(r=t.getElementsByName(e),n=0;a=r[n++];)if((i=a.getAttributeNode("id"))&&i.value===e)return[a]}return[]}}),w.find.TAG=p.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):p.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],r=0,a=t.getElementsByTagName(e);if("*"!==e)return a;for(;i=a[r++];)1===i.nodeType&&n.push(i);return n},w.find.CLASS=p.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&T)return t.getElementsByClassName(e)},c=[],m=[],(p.qsa=ee.test(C.querySelectorAll))&&(ce(function(e){var t;s.appendChild(e).innerHTML="<a id='"+E+"'></a><select id='"+E+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+N+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+N+"*(?:value|"+L+")"),e.querySelectorAll("[id~="+E+"-]").length||m.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||m.push("\\["+N+"*name"+N+"*="+N+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+E+"+*").length||m.push(".#.+[+~]"),e.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+N+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),s.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(p.matchesSelector=ee.test(v=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&ce(function(e){p.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),c.push("!=",B)}),m=m.length&&new RegExp(m.join("|")),c=c.length&&new RegExp(c.join("|")),t=ee.test(s.compareDocumentPosition),b=t||ee.test(s.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},A=t?function(e,t){if(e===t)return u=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!p.sortDetached&&t.compareDocumentPosition(e)===i?e==C||e.ownerDocument==y&&b(y,e)?-1:t==C||t.ownerDocument==y&&b(y,t)?1:l?U(l,e)-U(l,t):0:4&i?-1:1)}:function(e,t){if(e===t)return u=!0,0;var i,n=0,r=e.parentNode,a=t.parentNode,o=[e],s=[t];if(!r||!a)return e==C?-1:t==C?1:r?-1:a?1:l?U(l,e)-U(l,t):0;if(r===a)return fe(e,t);for(i=e;i=i.parentNode;)o.unshift(i);for(i=t;i=i.parentNode;)s.unshift(i);for(;o[n]===s[n];)n++;return n?fe(o[n],s[n]):o[n]==y?-1:s[n]==y?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(_(e),p.matchesSelector&&T&&!I[t+" "]&&(!c||!c.test(t))&&(!m||!m.test(t)))try{var i=v.call(e,t);if(i||p.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){I(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&_(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&_(e);var i=w.attrHandle[t.toLowerCase()],n=i&&D.call(w.attrHandle,t.toLowerCase())?i(e,t,!T):void 0;return void 0!==n?n:p.attributes||!T?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},se.escape=function(e){return(e+"").replace(re,ae)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,i=[],n=0,r=0;if(u=!p.detectDuplicates,l=!p.sortStable&&e.slice(0),e.sort(A),u){for(;t=e[r++];)t===e[r]&&(n=i.push(r));for(;n--;)e.splice(i[n],1)}return l=null,e},a=se.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=a(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n++];)i+=a(t);return i},(w=se.selectors={cacheLength:50,createPseudo:ue,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ne,d),e[3]=(e[3]||e[4]||e[5]||"").replace(ne,d),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&G.test(i)&&(t=h(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ne,d).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|"+N+")"+e+"("+N+"|$)"))&&k(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(i,n,r){return function(e){var t=se.attr(e,i);return null==t?"!="===n:!n||(t+="","="===n?t===r:"!="===n?t!==r:"^="===n?r&&0===t.indexOf(r):"*="===n?r&&-1<t.indexOf(r):"$="===n?r&&t.slice(-r.length)===r:"~="===n?-1<(" "+t.replace(q," ")+" ").indexOf(r):"|="===n&&(t===r||t.slice(0,r.length+1)===r+"-"))}},CHILD:function(h,e,t,g,m){var v="nth"!==h.slice(0,3),b="last"!==h.slice(-4),y="of-type"===e;return 1===g&&0===m?function(e){return!!e.parentNode}:function(e,t,i){var n,r,a,o,s,l,u=v!=b?"nextSibling":"previousSibling",c=e.parentNode,d=y&&e.nodeName.toLowerCase(),f=!i&&!y,p=!1;if(c){if(v){for(;u;){for(o=e;o=o[u];)if(y?o.nodeName.toLowerCase()===d:1===o.nodeType)return!1;l=u="only"===h&&!l&&"nextSibling"}return!0}if(l=[b?c.firstChild:c.lastChild],b&&f){for(p=(s=(n=(r=(a=(o=c)[E]||(o[E]={}))[o.uniqueID]||(a[o.uniqueID]={}))[h]||[])[0]===S&&n[1])&&n[2],o=s&&c.childNodes[s];o=++s&&o&&o[u]||(p=s=0)||l.pop();)if(1===o.nodeType&&++p&&o===e){r[h]=[S,s,p];break}}else if(f&&(p=s=(n=(r=(a=(o=e)[E]||(o[E]={}))[o.uniqueID]||(a[o.uniqueID]={}))[h]||[])[0]===S&&n[1]),!1===p)for(;(o=++s&&o&&o[u]||(p=s=0)||l.pop())&&((y?o.nodeName.toLowerCase()!==d:1!==o.nodeType)||!++p||(f&&((r=(a=o[E]||(o[E]={}))[o.uniqueID]||(a[o.uniqueID]={}))[h]=[S,p]),o!==e)););return(p-=m)===g||p%g==0&&0<=p/g}}},PSEUDO:function(e,a){var t,o=w.pseudos[e]||w.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return o[E]?o(a):1<o.length?(t=[e,e,"",a],w.setFilters.hasOwnProperty(e.toLowerCase())?ue(function(e,t){for(var i,n=o(e,a),r=n.length;r--;)e[i=U(e,n[r])]=!(t[i]=n[r])}):function(e){return o(e,0,t)}):o}},pseudos:{not:ue(function(e){var n=[],r=[],s=f(e.replace(H,"$1"));return s[E]?ue(function(e,t,i,n){for(var r,a=s(e,null,n,[]),o=e.length;o--;)(r=a[o])&&(e[o]=!(t[o]=r))}):function(e,t,i){return n[0]=e,s(n,null,i,r),n[0]=null,!r.pop()}}),has:ue(function(t){return function(e){return 0<se(t,e).length}}),contains:ue(function(t){return t=t.replace(ne,d),function(e){return-1<(e.textContent||a(e)).indexOf(t)}}),lang:ue(function(i){return X.test(i||"")||se.error("unsupported lang: "+i),i=i.replace(ne,d).toLowerCase(),function(e){var t;do{if(t=T?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===i||0===t.indexOf(i+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=i.location&&i.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===s},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:me(function(){return[0]}),last:me(function(e,t){return[t-1]}),eq:me(function(e,t,i){return[i<0?i+t:i]}),even:me(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:me(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:me(function(e,t,i){for(var n=i<0?i+t:t<i?t:i;0<=--n;)e.push(n);return e}),gt:me(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[e]=pe(e);for(e in{submit:!0,reset:!0})w.pseudos[e]=he(e);function be(){}function ye(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function we(s,e,t){var l=e.dir,u=e.next,c=u||l,d=t&&"parentNode"===c,f=n++;return e.first?function(e,t,i){for(;e=e[l];)if(1===e.nodeType||d)return s(e,t,i);return!1}:function(e,t,i){var n,r,a,o=[S,f];if(i){for(;e=e[l];)if((1===e.nodeType||d)&&s(e,t,i))return!0}else for(;e=e[l];)if(1===e.nodeType||d)if(r=(a=e[E]||(e[E]={}))[e.uniqueID]||(a[e.uniqueID]={}),u&&u===e.nodeName.toLowerCase())e=e[l]||e;else{if((n=r[c])&&n[0]===S&&n[1]===f)return o[2]=n[2];if((r[c]=o)[2]=s(e,t,i))return!0}return!1}}function xe(r){return 1<r.length?function(e,t,i){for(var n=r.length;n--;)if(!r[n](e,t,i))return!1;return!0}:r[0]}function _e(e,t,i,n,r){for(var a,o=[],s=0,l=e.length,u=null!=t;s<l;s++)(a=e[s])&&(i&&!i(a,n,r)||(o.push(a),u&&t.push(s)));return o}function Ce(p,h,g,m,v,e){return m&&!m[E]&&(m=Ce(m)),v&&!v[E]&&(v=Ce(v,e)),ue(function(e,t,i,n){var r,a,o,s=[],l=[],u=t.length,c=e||function(e,t,i){for(var n=0,r=t.length;n<r;n++)se(e,t[n],i);return i}(h||"*",i.nodeType?[i]:i,[]),d=!p||!e&&h?c:_e(c,s,p,i,n),f=g?v||(e?p:u||m)?[]:t:d;if(g&&g(d,f,i,n),m)for(r=_e(f,l),m(r,[],i,n),a=r.length;a--;)(o=r[a])&&(f[l[a]]=!(d[l[a]]=o));if(e){if(v||p){if(v){for(r=[],a=f.length;a--;)(o=f[a])&&r.push(d[a]=o);v(null,f=[],r,n)}for(a=f.length;a--;)(o=f[a])&&-1<(r=v?U(e,o):s[a])&&(e[r]=!(t[r]=o))}}else f=_e(f===t?f.splice(u,f.length):f),v?v(null,t,f,n):M.apply(t,f)})}function Te(e){for(var r,t,i,n=e.length,a=w.relative[e[0].type],o=a||w.relative[" "],s=a?1:0,l=we(function(e){return e===r},o,!0),u=we(function(e){return-1<U(r,e)},o,!0),c=[function(e,t,i){var n=!a&&(i||t!==x)||((r=t).nodeType?l:u)(e,t,i);return r=null,n}];s<n;s++)if(t=w.relative[e[s].type])c=[we(xe(c),t)];else{if((t=w.filter[e[s].type].apply(null,e[s].matches))[E]){for(i=++s;i<n&&!w.relative[e[i].type];i++);return Ce(1<s&&xe(c),1<s&&ye(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(H,"$1"),t,s<i&&Te(e.slice(s,i)),i<n&&Te(e=e.slice(i)),i<n&&ye(e))}c.push(t)}return xe(c)}function Ee(m,v){function e(e,t,i,n,r){var a,o,s,l=0,u="0",c=e&&[],d=[],f=x,p=e||y&&w.find.TAG("*",r),h=S+=null==f?1:Math.random()||.1,g=p.length;for(r&&(x=t==C||t||r);u!==g&&null!=(a=p[u]);u++){if(y&&a){for(o=0,t||a.ownerDocument==C||(_(a),i=!T);s=m[o++];)if(s(a,t||C,i)){n.push(a);break}r&&(S=h)}b&&((a=!s&&a)&&l--,e&&c.push(a))}if(l+=u,b&&u!==l){for(o=0;s=v[o++];)s(c,d,t,i);if(e){if(0<l)for(;u--;)c[u]||d[u]||(d[u]=j.call(n));d=_e(d)}M.apply(n,d),r&&!e&&0<d.length&&1<l+v.length&&se.uniqueSort(n)}return r&&(S=h,x=f),c}var b=0<v.length,y=0<m.length;return b?ue(e):e}return be.prototype=w.filters=w.pseudos,w.setFilters=new be,h=se.tokenize=function(e,t){var i,n,r,a,o,s,l,u=P[e+" "];if(u)return t?0:u.slice(0);for(o=e,s=[],l=w.preFilter;o;){for(a in i&&!(n=Z.exec(o))||(n&&(o=o.slice(n[0].length)||o),s.push(r=[])),i=!1,(n=W.exec(o))&&(i=n.shift(),r.push({value:i,type:n[0].replace(H," ")}),o=o.slice(i.length)),w.filter)!(n=Q[a].exec(o))||l[a]&&!(n=l[a](n))||(i=n.shift(),r.push({value:i,type:a,matches:n}),o=o.slice(i.length));if(!i)break}return t?o.length:o?se.error(e):P(e,s).slice(0)},f=se.compile=function(e,t){var i,n=[],r=[],a=F[e+" "];if(!a){for(i=(t=t||h(e)).length;i--;)(a=Te(t[i]))[E]?n.push(a):r.push(a);(a=F(e,Ee(r,n))).selector=e}return a},g=se.select=function(e,t,i,n){var r,a,o,s,l,u="function"==typeof e&&e,c=!n&&h(e=u.selector||e);if(i=i||[],1===c.length){if(2<(a=c[0]=c[0].slice(0)).length&&"ID"===(o=a[0]).type&&9===t.nodeType&&T&&w.relative[a[1].type]){if(!(t=(w.find.ID(o.matches[0].replace(ne,d),t)||[])[0]))return i;u&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(r=Q.needsContext.test(e)?0:a.length;r--&&(o=a[r],!w.relative[s=o.type]);)if((l=w.find[s])&&(n=l(o.matches[0].replace(ne,d),ie.test(a[0].type)&&ve(t.parentNode)||t))){if(a.splice(r,1),!(e=n.length&&ye(a)))return M.apply(i,n),i;break}}return(u||f(e,c))(n,t,!T,i,!t||ie.test(e)&&ve(t.parentNode)||t),i},p.sortStable=E.split("").sort(A).join("")===E,p.detectDuplicates=!!u,_(),p.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||de("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),p.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||de("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||de(L,function(e,t,i){var n;if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),se}(C);E.find=p,E.expr=p.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=p.uniqueSort,E.text=p.getText,E.isXMLDoc=p.isXML,E.contains=p.contains,E.escapeSelector=p.escape;function h(e,t,i){for(var n=[],r=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&E(e).is(i))break;n.push(e)}return n}function _(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}var S=E.expr.match.needsContext;function k(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function F(e,i,n){return y(i)?E.grep(e,function(e,t){return!!i.call(e,t,e)!==n}):i.nodeType?E.grep(e,function(e){return e===i!==n}):"string"!=typeof i?E.grep(e,function(e){return-1<r.call(i,e)!==n}):E.filter(i,e,n)}E.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?E.find.matchesSelector(n,e)?[n]:[]:E.find.matches(e,E.grep(t,function(e){return 1===e.nodeType}))},E.fn.extend({find:function(e){var t,i,n=this.length,r=this;if("string"!=typeof e)return this.pushStack(E(e).filter(function(){for(t=0;t<n;t++)if(E.contains(r[t],this))return!0}));for(i=this.pushStack([]),t=0;t<n;t++)E.find(e,r[t],i);return 1<n?E.uniqueSort(i):i},filter:function(e){return this.pushStack(F(this,e||[],!1))},not:function(e){return this.pushStack(F(this,e||[],!0))},is:function(e){return!!F(this,"string"==typeof e&&S.test(e)?E(e):e||[],!1).length}});var I,A=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(e,t,i){var n,r;if(!e)return this;if(i=i||I,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==i.ready?i.ready(e):e(E):E.makeArray(e,this);if(!(n="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:A.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof E?t[0]:t,E.merge(this,E.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:T,!0)),P.test(n[1])&&E.isPlainObject(t))for(n in t)y(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(r=T.getElementById(n[2]))&&(this[0]=r,this.length=1),this}).prototype=E.fn,I=E(T);var D=/^(?:parents|prev(?:Until|All))/,j={children:!0,contents:!0,next:!0,prev:!0};function z(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}E.fn.extend({has:function(e){var t=E(e,this),i=t.length;return this.filter(function(){for(var e=0;e<i;e++)if(E.contains(this,t[e]))return!0})},closest:function(e,t){var i,n=0,r=this.length,a=[],o="string"!=typeof e&&E(e);if(!S.test(e))for(;n<r;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(o?-1<o.index(i):1===i.nodeType&&E.find.matchesSelector(i,e))){a.push(i);break}return this.pushStack(1<a.length?E.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?r.call(E(e),this[0]):r.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),E.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,i){return h(e,"parentNode",i)},next:function(e){return z(e,"nextSibling")},prev:function(e){return z(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,i){return h(e,"nextSibling",i)},prevUntil:function(e,t,i){return h(e,"previousSibling",i)},siblings:function(e){return _((e.parentNode||{}).firstChild,e)},children:function(e){return _(e.firstChild)},contents:function(e){return null!=e.contentDocument&&n(e.contentDocument)?e.contentDocument:(k(e,"template")&&(e=e.content||e),E.merge([],e.childNodes))}},function(n,r){E.fn[n]=function(e,t){var i=E.map(this,r,e);return"Until"!==n.slice(-5)&&(t=e),t&&"string"==typeof t&&(i=E.filter(t,i)),1<this.length&&(j[n]||E.uniqueSort(i),D.test(n)&&i.reverse()),this.pushStack(i)}});var M=/[^\x20\t\r\n\f]+/g;function $(e){return e}function U(e){throw e}function L(e,t,i,n){var r;try{e&&y(r=e.promise)?r.call(e).done(t).fail(i):e&&y(r=e.then)?r.call(e,t,i):t.apply(void 0,[e].slice(n))}catch(e){i.apply(void 0,[e])}}E.Callbacks=function(n){var e,i;n="string"==typeof n?(e=n,i={},E.each(e.match(M)||[],function(e,t){i[t]=!0}),i):E.extend({},n);function r(){for(s=s||n.once,o=a=!0;u.length;c=-1)for(t=u.shift();++c<l.length;)!1===l[c].apply(t[0],t[1])&&n.stopOnFalse&&(c=l.length,t=!1);n.memory||(t=!1),a=!1,s&&(l=t?[]:"")}var a,t,o,s,l=[],u=[],c=-1,d={add:function(){return l&&(t&&!a&&(c=l.length-1,u.push(t)),function i(e){E.each(e,function(e,t){y(t)?n.unique&&d.has(t)||l.push(t):t&&t.length&&"string"!==x(t)&&i(t)})}(arguments),t&&!a&&r()),this},remove:function(){return E.each(arguments,function(e,t){for(var i;-1<(i=E.inArray(t,l,i));)l.splice(i,1),i<=c&&c--}),this},has:function(e){return e?-1<E.inArray(e,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return s=u=[],l=t="",this},disabled:function(){return!l},lock:function(){return s=u=[],t||a||(l=t=""),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),a||r()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!o}};return d},E.extend({Deferred:function(e){var a=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],r="pending",o={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var r=arguments;return E.Deferred(function(n){E.each(a,function(e,t){var i=y(r[t[4]])&&r[t[4]];s[t[1]](function(){var e=i&&i.apply(this,arguments);e&&y(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[t[0]+"With"](this,i?[e]:arguments)})}),r=null}).promise()},then:function(t,i,n){var l=0;function u(r,a,o,s){return function(){function e(){var e,t;if(!(r<l)){if((e=o.apply(i,n))===a.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,y(t)?s?t.call(e,u(l,a,$,s),u(l,a,U,s)):(l++,t.call(e,u(l,a,$,s),u(l,a,U,s),u(l,a,$,a.notifyWith))):(o!==$&&(i=void 0,n=[e]),(s||a.resolveWith)(i,n))}}var i=this,n=arguments,t=s?e:function(){try{e()}catch(e){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(e,t.stackTrace),l<=r+1&&(o!==U&&(i=void 0,n=[e]),a.rejectWith(i,n))}};r?t():(E.Deferred.getStackHook&&(t.stackTrace=E.Deferred.getStackHook()),C.setTimeout(t))}}return E.Deferred(function(e){a[0][3].add(u(0,e,y(n)?n:$,e.notifyWith)),a[1][3].add(u(0,e,y(t)?t:$)),a[2][3].add(u(0,e,y(i)?i:U))}).promise()},promise:function(e){return null!=e?E.extend(e,o):o}},s={};return E.each(a,function(e,t){var i=t[2],n=t[5];o[t[1]]=i.add,n&&i.add(function(){r=n},a[3-e][2].disable,a[3-e][3].disable,a[0][2].lock,a[0][3].lock),i.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=i.fireWith}),o.promise(s),e&&e.call(s,s),s},when:function(e){function t(t){return function(e){r[t]=this,a[t]=1<arguments.length?s.call(arguments):e,--i||o.resolveWith(r,a)}}var i=arguments.length,n=i,r=Array(n),a=s.call(arguments),o=E.Deferred();if(i<=1&&(L(e,o.done(t(n)).resolve,o.reject,!i),"pending"===o.state()||y(a[n]&&a[n].then)))return o.then();for(;n--;)L(a[n],t(n),o.reject);return o.promise()}});var N=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&N.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},E.readyException=function(e){C.setTimeout(function(){throw e})};var R=E.Deferred();function O(){T.removeEventListener("DOMContentLoaded",O),C.removeEventListener("load",O),E.ready()}E.fn.ready=function(e){return R.then(e).catch(function(e){E.readyException(e)}),this},E.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--E.readyWait:E.isReady)||(E.isReady=!0)!==e&&0<--E.readyWait||R.resolveWith(T,[E])}}),E.ready.then=R.then,"complete"===T.readyState||"loading"!==T.readyState&&!T.documentElement.doScroll?C.setTimeout(E.ready):(T.addEventListener("DOMContentLoaded",O),C.addEventListener("load",O));var B=function(e,t,i,n,r,a,o){var s=0,l=e.length,u=null==i;if("object"===x(i))for(s in r=!0,i)B(e,t,s,i[s],!0,a,o);else if(void 0!==n&&(r=!0,y(n)||(o=!0),u&&(t=o?(t.call(e,n),null):(u=t,function(e,t,i){return u.call(E(e),i)})),t))for(;s<l;s++)t(e[s],i,o?n:n.call(e[s],s,t(e[s],i)));return r?e:u?t.call(e):l?t(e[0],i):a},q=/^-ms-/,H=/-([a-z])/g;function Z(e,t){return t.toUpperCase()}function W(e){return e.replace(q,"ms-").replace(H,Z)}function V(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function G(){this.expando=E.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t=Object.create(null),V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,r=this.cache(e);if("string"==typeof t)r[W(t)]=i;else for(n in t)r[W(n)]=t[n];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][W(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n=e[this.expando];if(void 0!==n){if(void 0!==t){i=(t=Array.isArray(t)?t.map(W):(t=W(t))in n?[t]:t.match(M)||[]).length;for(;i--;)delete n[t[i]]}void 0!==t&&!E.isEmptyObject(n)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!E.isEmptyObject(t)}};var X=new G,Q=new G,K=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Y=/[A-Z]/g;function J(e,t,i){var n,r;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(Y,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i="true"===(r=i)||"false"!==r&&("null"===r?null:r===+r+""?+r:K.test(r)?JSON.parse(r):r)}catch(e){}Q.set(e,t,i)}else i=void 0;return i}E.extend({hasData:function(e){return Q.hasData(e)||X.hasData(e)},data:function(e,t,i){return Q.access(e,t,i)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,i){return X.access(e,t,i)},_removeData:function(e,t){X.remove(e,t)}}),E.fn.extend({data:function(i,e){var t,n,r,a=this[0],o=a&&a.attributes;if(void 0!==i)return"object"==typeof i?this.each(function(){Q.set(this,i)}):B(this,function(e){var t;if(a&&void 0===e)return void 0!==(t=Q.get(a,i))||void 0!==(t=J(a,i))?t:void 0;this.each(function(){Q.set(this,i,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(r=Q.get(a),1===a.nodeType&&!X.get(a,"hasDataAttrs"))){for(t=o.length;t--;)o[t]&&0===(n=o[t].name).indexOf("data-")&&(n=W(n.slice(5)),J(a,n,r[n]));X.set(a,"hasDataAttrs",!0)}return r},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),E.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=X.get(e,t),i&&(!n||Array.isArray(i)?n=X.access(e,t,E.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=E.queue(e,t),n=i.length,r=i.shift(),a=E._queueHooks(e,t);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete a.stop,r.call(e,function(){E.dequeue(e,t)},a)),!n&&a&&a.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return X.get(e,i)||X.access(e,i,{empty:E.Callbacks("once memory").add(function(){X.remove(e,[t+"queue",i])})})}}),E.fn.extend({queue:function(t,i){var e=2;return"string"!=typeof t&&(i=t,t="fx",e--),arguments.length<e?E.queue(this[0],t):void 0===i?this:this.each(function(){var e=E.queue(this,t,i);E._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&E.dequeue(this,t)})},dequeue:function(e){return this.each(function(){E.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function i(){--r||a.resolveWith(o,[o])}var n,r=1,a=E.Deferred(),o=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=X.get(o[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(i));return i(),a.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ie=["Top","Right","Bottom","Left"],ne=T.documentElement,re=function(e){return E.contains(e.ownerDocument,e)},ae={composed:!0};ne.getRootNode&&(re=function(e){return E.contains(e.ownerDocument,e)||e.getRootNode(ae)===e.ownerDocument});var oe=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&re(e)&&"none"===E.css(e,"display")};function se(e,t,i,n){var r,a,o=20,s=n?function(){return n.cur()}:function(){return E.css(e,t,"")},l=s(),u=i&&i[3]||(E.cssNumber[t]?"":"px"),c=e.nodeType&&(E.cssNumber[t]||"px"!==u&&+l)&&te.exec(E.css(e,t));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;o--;)E.style(e,t,c+u),(1-a)*(1-(a=s()/l||.5))<=0&&(o=0),c/=a;c*=2,E.style(e,t,c+u),i=i||[]}return i&&(c=+c||+l||0,r=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=u,n.start=c,n.end=r)),r}var le={};function ue(e,t){for(var i,n,r,a,o,s,l,u=[],c=0,d=e.length;c<d;c++)(n=e[c]).style&&(i=n.style.display,t?("none"===i&&(u[c]=X.get(n,"display")||null,u[c]||(n.style.display="")),""===n.style.display&&oe(n)&&(u[c]=(l=o=a=void 0,o=(r=n).ownerDocument,s=r.nodeName,(l=le[s])||(a=o.body.appendChild(o.createElement(s)),l=E.css(a,"display"),a.parentNode.removeChild(a),"none"===l&&(l="block"),le[s]=l)))):"none"!==i&&(u[c]="none",X.set(n,"display",i)));for(c=0;c<d;c++)null!=u[c]&&(e[c].style.display=u[c]);return e}E.fn.extend({show:function(){return ue(this,!0)},hide:function(){return ue(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){oe(this)?E(this).show():E(this).hide()})}});var ce,de,fe=/^(?:checkbox|radio)$/i,pe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;ce=T.createDocumentFragment().appendChild(T.createElement("div")),(de=T.createElement("input")).setAttribute("type","radio"),de.setAttribute("checked","checked"),de.setAttribute("name","t"),ce.appendChild(de),b.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",b.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",b.option=!!ce.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function me(e,t){var i;return i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&k(e,t)?E.merge([e],i):i}function ve(e,t){for(var i=0,n=e.length;i<n;i++)X.set(e[i],"globalEval",!t||X.get(t[i],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,b.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var be=/<|&#?\w+;/;function ye(e,t,i,n,r){for(var a,o,s,l,u,c,d=t.createDocumentFragment(),f=[],p=0,h=e.length;p<h;p++)if((a=e[p])||0===a)if("object"===x(a))E.merge(f,a.nodeType?[a]:a);else if(be.test(a)){for(o=o||d.appendChild(t.createElement("div")),s=(pe.exec(a)||["",""])[1].toLowerCase(),l=ge[s]||ge._default,o.innerHTML=l[1]+E.htmlPrefilter(a)+l[2],c=l[0];c--;)o=o.lastChild;E.merge(f,o.childNodes),(o=d.firstChild).textContent=""}else f.push(t.createTextNode(a));for(d.textContent="",p=0;a=f[p++];)if(n&&-1<E.inArray(a,n))r&&r.push(a);else if(u=re(a),o=me(d.appendChild(a),"script"),u&&ve(o),i)for(c=0;a=o[c++];)he.test(a.type||"")&&i.push(a);return d}var we=/^key/,xe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_e=/^([^.]*)(?:\.(.+)|)/;function Ce(){return!0}function Te(){return!1}function Ee(e,t){return e===function(){try{return T.activeElement}catch(e){}}()==("focus"===t)}function Se(e,t,i,n,r,a){var o,s;if("object"==typeof t){for(s in"string"!=typeof i&&(n=n||i,i=void 0),t)Se(e,s,i,n,t[s],a);return e}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=Te;else if(!r)return e;return 1===a&&(o=r,(r=function(e){return E().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=E.guid++)),e.each(function(){E.event.add(this,t,r,n,i)})}function ke(e,r,a){a?(X.set(e,r,!1),E.event.add(e,r,{namespace:!1,handler:function(e){var t,i,n=X.get(this,r);if(1&e.isTrigger&&this[r]){if(n.length)(E.event.special[r]||{}).delegateType&&e.stopPropagation();else if(n=s.call(arguments),X.set(this,r,n),t=a(this,r),this[r](),n!==(i=X.get(this,r))||t?X.set(this,r,!1):i={},n!==i)return e.stopImmediatePropagation(),e.preventDefault(),i.value}else n.length&&(X.set(this,r,{value:E.event.trigger(E.extend(n[0],E.Event.prototype),n.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===X.get(e,r)&&E.event.add(e,r,Ce)}E.event={global:{},add:function(t,e,i,n,r){var a,o,s,l,u,c,d,f,p,h,g,m=X.get(t);if(V(t))for(i.handler&&(i=(a=i).handler,r=a.selector),r&&E.find.matchesSelector(ne,r),i.guid||(i.guid=E.guid++),(l=m.events)||(l=m.events=Object.create(null)),(o=m.handle)||(o=m.handle=function(e){return void 0!==E&&E.event.triggered!==e.type?E.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(M)||[""]).length;u--;)p=g=(s=_e.exec(e[u])||[])[1],h=(s[2]||"").split(".").sort(),p&&(d=E.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=E.event.special[p]||{},c=E.extend({type:p,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&E.expr.match.needsContext.test(r),namespace:h.join(".")},a),(f=l[p])||((f=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,n,h,o)||t.addEventListener&&t.addEventListener(p,o)),d.add&&(d.add.call(t,c),c.handler.guid||(c.handler.guid=i.guid)),r?f.splice(f.delegateCount++,0,c):f.push(c),E.event.global[p]=!0)},remove:function(e,t,i,n,r){var a,o,s,l,u,c,d,f,p,h,g,m=X.hasData(e)&&X.get(e);if(m&&(l=m.events)){for(u=(t=(t||"").match(M)||[""]).length;u--;)if(p=g=(s=_e.exec(t[u])||[])[1],h=(s[2]||"").split(".").sort(),p){for(d=E.event.special[p]||{},f=l[p=(n?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=f.length;a--;)c=f[a],!r&&g!==c.origType||i&&i.guid!==c.guid||s&&!s.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(f.splice(a,1),c.selector&&f.delegateCount--,d.remove&&d.remove.call(e,c));o&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,h,m.handle)||E.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)E.event.remove(e,p+t[u],i,n,!0);E.isEmptyObject(l)&&X.remove(e,"handle events")}},dispatch:function(e){var t,i,n,r,a,o,s=new Array(arguments.length),l=E.event.fix(e),u=(X.get(this,"events")||Object.create(null))[l.type]||[],c=E.event.special[l.type]||{};for(s[0]=l,t=1;t<arguments.length;t++)s[t]=arguments[t];if(l.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,l)){for(o=E.event.handlers.call(this,l,u),t=0;(r=o[t++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,i=0;(a=r.handlers[i++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==a.namespace&&!l.rnamespace.test(a.namespace)||(l.handleObj=a,l.data=a.data,void 0!==(n=((E.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,s))&&!1===(l.result=n)&&(l.preventDefault(),l.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,l),l.result}},handlers:function(e,t){var i,n,r,a,o,s=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&1<=e.button))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(a=[],o={},i=0;i<l;i++)void 0===o[r=(n=t[i]).selector+" "]&&(o[r]=n.needsContext?-1<E(r,this).index(u):E.find(r,this,null,[u]).length),o[r]&&a.push(n);a.length&&s.push({elem:u,handlers:a})}return u=this,l<t.length&&s.push({elem:u,handlers:t.slice(l)}),s},addProp:function(t,e){Object.defineProperty(E.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[E.expando]?e:new E.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return fe.test(t.type)&&t.click&&k(t,"input")&&ke(t,"click",Ce),!1},trigger:function(e){var t=this||e;return fe.test(t.type)&&t.click&&k(t,"input")&&ke(t,"click"),!0},_default:function(e){var t=e.target;return fe.test(t.type)&&t.click&&k(t,"input")&&X.get(t,"click")||k(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},E.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},E.Event=function(e,t){if(!(this instanceof E.Event))return new E.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ce:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&E.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ce,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ce,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ce,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&we.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&xe.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},function(e,t){E.event.special[e]={setup:function(){return ke(this,e,Ee),!1},trigger:function(){return ke(this,e),!0},delegateType:t}}),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,r){E.event.special[e]={delegateType:r,bindType:r,handle:function(e){var t,i=e.relatedTarget,n=e.handleObj;return i&&(i===this||E.contains(this,i))||(e.type=n.origType,t=n.handler.apply(this,arguments),e.type=r),t}}}),E.fn.extend({on:function(e,t,i,n){return Se(this,e,t,i,n)},one:function(e,t,i,n){return Se(this,e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,E(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=Te),this.each(function(){E.event.remove(this,e,i,t)});for(r in e)this.off(r,t,e[r]);return this}});var Pe=/<script|<style|<link/i,Fe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ie=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ae(e,t){return k(e,"table")&&k(11!==t.nodeType?t:t.firstChild,"tr")&&E(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function je(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function ze(e,t){var i,n,r,a,o,s;if(1===t.nodeType){if(X.hasData(e)&&(s=X.get(e).events))for(r in X.remove(t,"handle events"),s)for(i=0,n=s[r].length;i<n;i++)E.event.add(t,r,s[r][i]);Q.hasData(e)&&(a=Q.access(e),o=E.extend({},a),Q.set(t,o))}}function Me(i,n,r,a){n=m(n);var e,t,o,s,l,u,c=0,d=i.length,f=d-1,p=n[0],h=y(p);if(h||1<d&&"string"==typeof p&&!b.checkClone&&Fe.test(p))return i.each(function(e){var t=i.eq(e);h&&(n[0]=p.call(this,e,t.html())),Me(t,n,r,a)});if(d&&(t=(e=ye(n,i[0].ownerDocument,!1,i,a)).firstChild,1===e.childNodes.length&&(e=t),t||a)){for(s=(o=E.map(me(e,"script"),De)).length;c<d;c++)l=e,c!==f&&(l=E.clone(l,!0,!0),s&&E.merge(o,me(l,"script"))),r.call(i[c],l,c);if(s)for(u=o[o.length-1].ownerDocument,E.map(o,je),c=0;c<s;c++)l=o[c],he.test(l.type||"")&&!X.access(l,"globalEval")&&E.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?E._evalUrl&&!l.noModule&&E._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},u):w(l.textContent.replace(Ie,""),l,u))}return i}function $e(e,t,i){for(var n,r=t?E.filter(t,e):e,a=0;null!=(n=r[a]);a++)i||1!==n.nodeType||E.cleanData(me(n)),n.parentNode&&(i&&re(n)&&ve(me(n,"script")),n.parentNode.removeChild(n));return e}E.extend({htmlPrefilter:function(e){return e},clone:function(e,t,i){var n,r,a,o,s,l,u,c=e.cloneNode(!0),d=re(e);if(!(b.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||E.isXMLDoc(e)))for(o=me(c),n=0,r=(a=me(e)).length;n<r;n++)s=a[n],l=o[n],"input"===(u=l.nodeName.toLowerCase())&&fe.test(s.type)?l.checked=s.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=s.defaultValue);if(t)if(i)for(a=a||me(e),o=o||me(c),n=0,r=a.length;n<r;n++)ze(a[n],o[n]);else ze(e,c);return 0<(o=me(c,"script")).length&&ve(o,!d&&me(e,"script")),c},cleanData:function(e){for(var t,i,n,r=E.event.special,a=0;void 0!==(i=e[a]);a++)if(V(i)){if(t=i[X.expando]){if(t.events)for(n in t.events)r[n]?E.event.remove(i,n):E.removeEvent(i,n,t.handle);i[X.expando]=void 0}i[Q.expando]&&(i[Q.expando]=void 0)}}}),E.fn.extend({detach:function(e){return $e(this,e,!0)},remove:function(e){return $e(this,e)},text:function(e){return B(this,function(e){return void 0===e?E.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Me(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ae(this,e).appendChild(e)})},prepend:function(){return Me(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ae(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Me(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Me(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(E.cleanData(me(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return E.clone(this,e,t)})},html:function(e){return B(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Pe.test(e)&&!ge[(pe.exec(e)||["",""])[1].toLowerCase()]){e=E.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(E.cleanData(me(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var i=[];return Me(this,arguments,function(e){var t=this.parentNode;E.inArray(this,i)<0&&(E.cleanData(me(this)),t&&t.replaceChild(e,this))},i)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,o){E.fn[e]=function(e){for(var t,i=[],n=E(e),r=n.length-1,a=0;a<=r;a++)t=a===r?this:this.clone(!0),E(n[a])[o](t),l.apply(i,t.get());return this.pushStack(i)}});function Ue(e,t,i){var n,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];for(r in n=i.call(e),t)e.style[r]=a[r];return n}var Le,Ne,Re,Oe,Be,qe,He,Ze,We=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Ve=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Ge=new RegExp(ie.join("|"),"i");function Xe(){if(Ze){He.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ze.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ne.appendChild(He).appendChild(Ze);var e=C.getComputedStyle(Ze);Le="1%"!==e.top,qe=12===Qe(e.marginLeft),Ze.style.right="60%",Oe=36===Qe(e.right),Ne=36===Qe(e.width),Ze.style.position="absolute",Re=12===Qe(Ze.offsetWidth/3),ne.removeChild(He),Ze=null}}function Qe(e){return Math.round(parseFloat(e))}function Ke(e,t,i){var n,r,a,o,s=e.style;return(i=i||Ve(e))&&(""!==(o=i.getPropertyValue(t)||i[t])||re(e)||(o=E.style(e,t)),!b.pixelBoxStyles()&&We.test(o)&&Ge.test(t)&&(n=s.width,r=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=i.width,s.width=n,s.minWidth=r,s.maxWidth=a)),void 0!==o?o+"":o}function Ye(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}He=T.createElement("div"),(Ze=T.createElement("div")).style&&(Ze.style.backgroundClip="content-box",Ze.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===Ze.style.backgroundClip,E.extend(b,{boxSizingReliable:function(){return Xe(),Ne},pixelBoxStyles:function(){return Xe(),Oe},pixelPosition:function(){return Xe(),Le},reliableMarginLeft:function(){return Xe(),qe},scrollboxSize:function(){return Xe(),Re},reliableTrDimensions:function(){var e,t,i,n;return null==Be&&(e=T.createElement("table"),t=T.createElement("tr"),i=T.createElement("div"),e.style.cssText="position:absolute;left:-11111px",t.style.height="1px",i.style.height="9px",ne.appendChild(e).appendChild(t).appendChild(i),n=C.getComputedStyle(t),Be=3<parseInt(n.height),ne.removeChild(e)),Be}}));var Je=["Webkit","Moz","ms"],et=T.createElement("div").style,tt={};function it(e){var t=E.cssProps[e]||tt[e];return t||(e in et?e:tt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),i=Je.length;i--;)if((e=Je[i]+t)in et)return e}(e)||e)}var nt=/^(none|table(?!-c[ea]).+)/,rt=/^--/,at={position:"absolute",visibility:"hidden",display:"block"},ot={letterSpacing:"0",fontWeight:"400"};function st(e,t,i){var n=te.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function lt(e,t,i,n,r,a){var o="width"===t?1:0,s=0,l=0;if(i===(n?"border":"content"))return 0;for(;o<4;o+=2)"margin"===i&&(l+=E.css(e,i+ie[o],!0,r)),n?("content"===i&&(l-=E.css(e,"padding"+ie[o],!0,r)),"margin"!==i&&(l-=E.css(e,"border"+ie[o]+"Width",!0,r))):(l+=E.css(e,"padding"+ie[o],!0,r),"padding"!==i?l+=E.css(e,"border"+ie[o]+"Width",!0,r):s+=E.css(e,"border"+ie[o]+"Width",!0,r));return!n&&0<=a&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-l-s-.5))||0),l}function ut(e,t,i){var n=Ve(e),r=(!b.boxSizingReliable()||i)&&"border-box"===E.css(e,"boxSizing",!1,n),a=r,o=Ke(e,t,n),s="offset"+t[0].toUpperCase()+t.slice(1);if(We.test(o)){if(!i)return o;o="auto"}return(!b.boxSizingReliable()&&r||!b.reliableTrDimensions()&&k(e,"tr")||"auto"===o||!parseFloat(o)&&"inline"===E.css(e,"display",!1,n))&&e.getClientRects().length&&(r="border-box"===E.css(e,"boxSizing",!1,n),(a=s in e)&&(o=e[s])),(o=parseFloat(o)||0)+lt(e,t,i||(r?"border":"content"),a,n,o)+"px"}function ct(e,t,i,n,r){return new ct.prototype.init(e,t,i,n,r)}E.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=Ke(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,a,o,s=W(t),l=rt.test(t),u=e.style;if(l||(t=it(s)),o=E.cssHooks[t]||E.cssHooks[s],void 0===i)return o&&"get"in o&&void 0!==(r=o.get(e,!1,n))?r:u[t];"string"===(a=typeof i)&&(r=te.exec(i))&&r[1]&&(i=se(e,t,r),a="number"),null!=i&&i==i&&("number"!==a||l||(i+=r&&r[3]||(E.cssNumber[s]?"":"px")),b.clearCloneStyle||""!==i||0!==t.indexOf("background")||(u[t]="inherit"),o&&"set"in o&&void 0===(i=o.set(e,i,n))||(l?u.setProperty(t,i):u[t]=i))}},css:function(e,t,i,n){var r,a,o,s=W(t);return rt.test(t)||(t=it(s)),(o=E.cssHooks[t]||E.cssHooks[s])&&"get"in o&&(r=o.get(e,!0,i)),void 0===r&&(r=Ke(e,t,n)),"normal"===r&&t in ot&&(r=ot[t]),""===i||i?(a=parseFloat(r),!0===i||isFinite(a)?a||0:r):r}}),E.each(["height","width"],function(e,l){E.cssHooks[l]={get:function(e,t,i){if(t)return!nt.test(E.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ut(e,l,i):Ue(e,at,function(){return ut(e,l,i)})},set:function(e,t,i){var n,r=Ve(e),a=!b.scrollboxSize()&&"absolute"===r.position,o=(a||i)&&"border-box"===E.css(e,"boxSizing",!1,r),s=i?lt(e,l,i,o,r):0;return o&&a&&(s-=Math.ceil(e["offset"+l[0].toUpperCase()+l.slice(1)]-parseFloat(r[l])-lt(e,l,"border",!1,r)-.5)),s&&(n=te.exec(t))&&"px"!==(n[3]||"px")&&(e.style[l]=t,t=E.css(e,l)),st(0,t,s)}}}),E.cssHooks.marginLeft=Ye(b.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ke(e,"marginLeft"))||e.getBoundingClientRect().left-Ue(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(r,a){E.cssHooks[r+a]={expand:function(e){for(var t=0,i={},n="string"==typeof e?e.split(" "):[e];t<4;t++)i[r+ie[t]+a]=n[t]||n[t-2]||n[0];return i}},"margin"!==r&&(E.cssHooks[r+a].set=st)}),E.fn.extend({css:function(e,t){return B(this,function(e,t,i){var n,r,a={},o=0;if(Array.isArray(t)){for(n=Ve(e),r=t.length;o<r;o++)a[t[o]]=E.css(e,t[o],!1,n);return a}return void 0!==i?E.style(e,t,i):E.css(e,t)},e,t,1<arguments.length)}}),(E.Tween=ct).prototype={constructor:ct,init:function(e,t,i,n,r,a){this.elem=e,this.prop=i,this.easing=r||E.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=a||(E.cssNumber[i]?"":"px")},cur:function(){var e=ct.propHooks[this.prop];return e&&e.get?e.get(this):ct.propHooks._default.get(this)},run:function(e){var t,i=ct.propHooks[this.prop];return this.options.duration?this.pos=t=E.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):ct.propHooks._default.set(this),this}},ct.prototype.init.prototype=ct.prototype,ct.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=E.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){E.fx.step[e.prop]?E.fx.step[e.prop](e):1!==e.elem.nodeType||!E.cssHooks[e.prop]&&null==e.elem.style[it(e.prop)]?e.elem[e.prop]=e.now:E.style(e.elem,e.prop,e.now+e.unit)}}},ct.propHooks.scrollTop=ct.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},E.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},E.fx=ct.prototype.init,E.fx.step={};var dt,ft,pt,ht,gt=/^(?:toggle|show|hide)$/,mt=/queueHooks$/;function vt(){ft&&(!1===T.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(vt):C.setTimeout(vt,E.fx.interval),E.fx.tick())}function bt(){return C.setTimeout(function(){dt=void 0}),dt=Date.now()}function yt(e,t){var i,n=0,r={height:e};for(t=t?1:0;n<4;n+=2-t)r["margin"+(i=ie[n])]=r["padding"+i]=e;return t&&(r.opacity=r.width=e),r}function wt(e,t,i){for(var n,r=(xt.tweeners[t]||[]).concat(xt.tweeners["*"]),a=0,o=r.length;a<o;a++)if(n=r[a].call(i,t,e))return n}function xt(a,e,t){var i,o,n=0,r=xt.prefilters.length,s=E.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=dt||bt(),t=Math.max(0,u.startTime+u.duration-e),i=1-(t/u.duration||0),n=0,r=u.tweens.length;n<r;n++)u.tweens[n].run(i);return s.notifyWith(a,[u,i,t]),i<1&&r?t:(r||s.notifyWith(a,[u,1,0]),s.resolveWith(a,[u]),!1)},u=s.promise({elem:a,props:E.extend({},e),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},t),originalProperties:e,originalOptions:t,startTime:dt||bt(),duration:t.duration,tweens:[],createTween:function(e,t){var i=E.Tween(a,u.opts,e,t,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var t=0,i=e?u.tweens.length:0;if(o)return this;for(o=!0;t<i;t++)u.tweens[t].run(1);return e?(s.notifyWith(a,[u,1,0]),s.resolveWith(a,[u,e])):s.rejectWith(a,[u,e]),this}}),c=u.props;for(!function(e,t){var i,n,r,a,o;for(i in e)if(r=t[n=W(i)],a=e[i],Array.isArray(a)&&(r=a[1],a=e[i]=a[0]),i!==n&&(e[n]=a,delete e[i]),(o=E.cssHooks[n])&&"expand"in o)for(i in a=o.expand(a),delete e[n],a)i in e||(e[i]=a[i],t[i]=r);else t[n]=r}(c,u.opts.specialEasing);n<r;n++)if(i=xt.prefilters[n].call(u,a,c,u.opts))return y(i.stop)&&(E._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return E.map(c,wt,u),y(u.opts.start)&&u.opts.start.call(a,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),E.fx.timer(E.extend(l,{elem:a,anim:u,queue:u.opts.queue})),u}E.Animation=E.extend(xt,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return se(i.elem,e,te.exec(t),i),i}]},tweener:function(e,t){for(var i,n=0,r=(e=y(e)?(t=e,["*"]):e.match(M)).length;n<r;n++)i=e[n],xt.tweeners[i]=xt.tweeners[i]||[],xt.tweeners[i].unshift(t)},prefilters:[function(e,t,i){var n,r,a,o,s,l,u,c,d="width"in t||"height"in t,f=this,p={},h=e.style,g=e.nodeType&&oe(e),m=X.get(e,"fxshow");for(n in i.queue||(null==(o=E._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,f.always(function(){f.always(function(){o.unqueued--,E.queue(e,"fx").length||o.empty.fire()})})),t)if(r=t[n],gt.test(r)){if(delete t[n],a=a||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[n])continue;g=!0}p[n]=m&&m[n]||E.style(e,n)}if((l=!E.isEmptyObject(t))||!E.isEmptyObject(p))for(n in d&&1===e.nodeType&&(i.overflow=[h.overflow,h.overflowX,h.overflowY],null==(u=m&&m.display)&&(u=X.get(e,"display")),"none"===(c=E.css(e,"display"))&&(u?c=u:(ue([e],!0),u=e.style.display||u,c=E.css(e,"display"),ue([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===E.css(e,"float")&&(l||(f.done(function(){h.display=u}),null==u&&(c=h.display,u="none"===c?"":c)),h.display="inline-block")),i.overflow&&(h.overflow="hidden",f.always(function(){h.overflow=i.overflow[0],h.overflowX=i.overflow[1],h.overflowY=i.overflow[2]})),l=!1,p)l||(m?"hidden"in m&&(g=m.hidden):m=X.access(e,"fxshow",{display:u}),a&&(m.hidden=!g),g&&ue([e],!0),f.done(function(){for(n in g||ue([e]),X.remove(e,"fxshow"),p)E.style(e,n,p[n])})),l=wt(g?m[n]:0,n,f),n in m||(m[n]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?xt.prefilters.unshift(e):xt.prefilters.push(e)}}),E.speed=function(e,t,i){var n=e&&"object"==typeof e?E.extend({},e):{complete:i||!i&&t||y(e)&&e,duration:e,easing:i&&t||t&&!y(t)&&t};return E.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in E.fx.speeds?n.duration=E.fx.speeds[n.duration]:n.duration=E.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){y(n.old)&&n.old.call(this),n.queue&&E.dequeue(this,n.queue)},n},E.fn.extend({fadeTo:function(e,t,i,n){return this.filter(oe).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(t,e,i,n){function r(){var e=xt(this,E.extend({},t),o);(a||X.get(this,"finish"))&&e.stop(!0)}var a=E.isEmptyObject(t),o=E.speed(e,i,n);return r.finish=r,a||!1===o.queue?this.each(r):this.queue(o.queue,r)},stop:function(r,e,a){function o(e){var t=e.stop;delete e.stop,t(a)}return"string"!=typeof r&&(a=e,e=r,r=void 0),e&&this.queue(r||"fx",[]),this.each(function(){var e=!0,t=null!=r&&r+"queueHooks",i=E.timers,n=X.get(this);if(t)n[t]&&n[t].stop&&o(n[t]);else for(t in n)n[t]&&n[t].stop&&mt.test(t)&&o(n[t]);for(t=i.length;t--;)i[t].elem!==this||null!=r&&i[t].queue!==r||(i[t].anim.stop(a),e=!1,i.splice(t,1));!e&&a||E.dequeue(this,r)})},finish:function(o){return!1!==o&&(o=o||"fx"),this.each(function(){var e,t=X.get(this),i=t[o+"queue"],n=t[o+"queueHooks"],r=E.timers,a=i?i.length:0;for(t.finish=!0,E.queue(this,o,[]),n&&n.stop&&n.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===o&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete t.finish})}}),E.each(["toggle","show","hide"],function(e,n){var r=E.fn[n];E.fn[n]=function(e,t,i){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(yt(n,!0),e,t,i)}}),E.each({slideDown:yt("show"),slideUp:yt("hide"),slideToggle:yt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,n){E.fn[e]=function(e,t,i){return this.animate(n,e,t,i)}}),E.timers=[],E.fx.tick=function(){var e,t=0,i=E.timers;for(dt=Date.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||E.fx.stop(),dt=void 0},E.fx.timer=function(e){E.timers.push(e),E.fx.start()},E.fx.interval=13,E.fx.start=function(){ft||(ft=!0,vt())},E.fx.stop=function(){ft=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(n,e){return n=E.fx&&E.fx.speeds[n]||n,e=e||"fx",this.queue(e,function(e,t){var i=C.setTimeout(e,n);t.stop=function(){C.clearTimeout(i)}})},pt=T.createElement("input"),ht=T.createElement("select").appendChild(T.createElement("option")),pt.type="checkbox",b.checkOn=""!==pt.value,b.optSelected=ht.selected,(pt=T.createElement("input")).value="t",pt.type="radio",b.radioValue="t"===pt.value;var _t,Ct=E.expr.attrHandle;E.fn.extend({attr:function(e,t){return B(this,E.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){E.removeAttr(this,e)})}}),E.extend({attr:function(e,t,i){var n,r,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?E.prop(e,t,i):(1===a&&E.isXMLDoc(e)||(r=E.attrHooks[t.toLowerCase()]||(E.expr.match.bool.test(t)?_t:void 0)),void 0!==i?null===i?void E.removeAttr(e,t):r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:(e.setAttribute(t,i+""),i):!(r&&"get"in r&&null!==(n=r.get(e,t)))&&null==(n=E.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!b.radioValue&&"radio"===t&&k(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n=0,r=t&&t.match(M);if(r&&1===e.nodeType)for(;i=r[n++];)e.removeAttribute(i)}}),_t={set:function(e,t,i){return!1===t?E.removeAttr(e,i):e.setAttribute(i,i),i}},E.each(E.expr.match.bool.source.match(/\w+/g),function(e,t){var o=Ct[t]||E.find.attr;Ct[t]=function(e,t,i){var n,r,a=t.toLowerCase();return i||(r=Ct[a],Ct[a]=n,n=null!=o(e,t,i)?a:null,Ct[a]=r),n}});var Tt=/^(?:input|select|textarea|button)$/i,Et=/^(?:a|area)$/i;function St(e){return(e.match(M)||[]).join(" ")}function kt(e){return e.getAttribute&&e.getAttribute("class")||""}function Pt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(M)||[]}E.fn.extend({prop:function(e,t){return B(this,E.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[E.propFix[e]||e]})}}),E.extend({prop:function(e,t,i){var n,r,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&E.isXMLDoc(e)||(t=E.propFix[t]||t,r=E.propHooks[t]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=E.find.attr(e,"tabindex");return t?parseInt(t,10):Tt.test(e.nodeName)||Et.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),b.optSelected||(E.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this}),E.fn.extend({addClass:function(t){var e,i,n,r,a,o,s,l=0;if(y(t))return this.each(function(e){E(this).addClass(t.call(this,e,kt(this)))});if((e=Pt(t)).length)for(;i=this[l++];)if(r=kt(i),n=1===i.nodeType&&" "+St(r)+" "){for(o=0;a=e[o++];)n.indexOf(" "+a+" ")<0&&(n+=a+" ");r!==(s=St(n))&&i.setAttribute("class",s)}return this},removeClass:function(t){var e,i,n,r,a,o,s,l=0;if(y(t))return this.each(function(e){E(this).removeClass(t.call(this,e,kt(this)))});if(!arguments.length)return this.attr("class","");if((e=Pt(t)).length)for(;i=this[l++];)if(r=kt(i),n=1===i.nodeType&&" "+St(r)+" "){for(o=0;a=e[o++];)for(;-1<n.indexOf(" "+a+" ");)n=n.replace(" "+a+" "," ");r!==(s=St(n))&&i.setAttribute("class",s)}return this},toggleClass:function(r,t){var a=typeof r,o="string"==a||Array.isArray(r);return"boolean"==typeof t&&o?t?this.addClass(r):this.removeClass(r):y(r)?this.each(function(e){E(this).toggleClass(r.call(this,e,kt(this),t),t)}):this.each(function(){var e,t,i,n;if(o)for(t=0,i=E(this),n=Pt(r);e=n[t++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else void 0!==r&&"boolean"!=a||((e=kt(this))&&X.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==r&&X.get(this,"__className__")||""))})},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&-1<(" "+St(kt(i))+" ").indexOf(t))return!0;return!1}});var Ft=/\r/g;E.fn.extend({val:function(i){var n,e,r,t=this[0];return arguments.length?(r=y(i),this.each(function(e){var t;1===this.nodeType&&(null==(t=r?i.call(this,e,E(this).val()):i)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=E.map(t,function(e){return null==e?"":e+""})),(n=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,t,"value")||(this.value=t))})):t?(n=E.valHooks[t.type]||E.valHooks[t.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(Ft,""):null==e?"":e:void 0}}),E.extend({valHooks:{option:{get:function(e){var t=E.find.attr(e,"value");return null!=t?t:St(E.text(e))}},select:{get:function(e){var t,i,n,r=e.options,a=e.selectedIndex,o="select-one"===e.type,s=o?null:[],l=o?a+1:r.length;for(n=a<0?l:o?a:0;n<l;n++)if(((i=r[n]).selected||n===a)&&!i.disabled&&(!i.parentNode.disabled||!k(i.parentNode,"optgroup"))){if(t=E(i).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var i,n,r=e.options,a=E.makeArray(t),o=r.length;o--;)((n=r[o]).selected=-1<E.inArray(E.valHooks.option.get(n),a))&&(i=!0);return i||(e.selectedIndex=-1),a}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<E.inArray(E(e).val(),t)}},b.checkOn||(E.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),b.focusin="onfocusin"in C;function It(e){e.stopPropagation()}var At=/^(?:focusinfocus|focusoutblur)$/;E.extend(E.event,{trigger:function(e,t,i,n){var r,a,o,s,l,u,c,d,f=[i||T],p=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[];if(a=d=o=i=i||T,3!==i.nodeType&&8!==i.nodeType&&!At.test(p+E.event.triggered)&&(-1<p.indexOf(".")&&(p=(h=p.split(".")).shift(),h.sort()),l=p.indexOf(":")<0&&"on"+p,(e=e[E.expando]?e:new E.Event(p,"object"==typeof e&&e)).isTrigger=n?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:E.makeArray(t,[e]),c=E.event.special[p]||{},n||!c.trigger||!1!==c.trigger.apply(i,t))){if(!n&&!c.noBubble&&!g(i)){for(s=c.delegateType||p,At.test(s+p)||(a=a.parentNode);a;a=a.parentNode)f.push(a),o=a;o===(i.ownerDocument||T)&&f.push(o.defaultView||o.parentWindow||C)}for(r=0;(a=f[r++])&&!e.isPropagationStopped();)d=a,e.type=1<r?s:c.bindType||p,(u=(X.get(a,"events")||Object.create(null))[e.type]&&X.get(a,"handle"))&&u.apply(a,t),(u=l&&a[l])&&u.apply&&V(a)&&(e.result=u.apply(a,t),!1===e.result&&e.preventDefault());return e.type=p,n||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(f.pop(),t)||!V(i)||l&&y(i[p])&&!g(i)&&((o=i[l])&&(i[l]=null),E.event.triggered=p,e.isPropagationStopped()&&d.addEventListener(p,It),i[p](),e.isPropagationStopped()&&d.removeEventListener(p,It),E.event.triggered=void 0,o&&(i[l]=o)),e.result}},simulate:function(e,t,i){var n=E.extend(new E.Event,i,{type:e,isSimulated:!0});E.event.trigger(n,null,t)}}),E.fn.extend({trigger:function(e,t){return this.each(function(){E.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return E.event.trigger(e,t,i,!0)}}),b.focusin||E.each({focus:"focusin",blur:"focusout"},function(i,n){function r(e){E.event.simulate(n,e.target,E.event.fix(e))}E.event.special[n]={setup:function(){var e=this.ownerDocument||this.document||this,t=X.access(e,n);t||e.addEventListener(i,r,!0),X.access(e,n,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=X.access(e,n)-1;t?X.access(e,n,t):(e.removeEventListener(i,r,!0),X.remove(e,n))}}});var Dt=C.location,jt={guid:Date.now()},zt=/\?/;E.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||E.error("Invalid XML: "+e),t};var Mt=/\[\]$/,$t=/\r?\n/g,Ut=/^(?:submit|button|image|reset|file)$/i,Lt=/^(?:input|select|textarea|keygen)/i;function Nt(i,e,n,r){var t;if(Array.isArray(e))E.each(e,function(e,t){n||Mt.test(i)?r(i,t):Nt(i+"["+("object"==typeof t&&null!=t?e:"")+"]",t,n,r)});else if(n||"object"!==x(e))r(i,e);else for(t in e)Nt(i+"["+t+"]",e[t],n,r)}E.param=function(e,t){function i(e,t){var i=y(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)}var n,r=[];if(null==e)return"";if(Array.isArray(e)||e.jquery&&!E.isPlainObject(e))E.each(e,function(){i(this.name,this.value)});else for(n in e)Nt(n,e[n],t,i);return r.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=E.prop(this,"elements");return e?E.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!E(this).is(":disabled")&&Lt.test(this.nodeName)&&!Ut.test(e)&&(this.checked||!fe.test(e))}).map(function(e,t){var i=E(this).val();return null==i?null:Array.isArray(i)?E.map(i,function(e){return{name:t.name,value:e.replace($t,"\r\n")}}):{name:t.name,value:i.replace($t,"\r\n")}}).get()}});var Rt=/%20/g,Ot=/#.*$/,Bt=/([?&])_=[^&]*/,qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ht=/^(?:GET|HEAD)$/,Zt=/^\/\//,Wt={},Vt={},Gt="*/".concat("*"),Xt=T.createElement("a");function Qt(a){return function(e,t){"string"!=typeof e&&(t=e,e="*");var i,n=0,r=e.toLowerCase().match(M)||[];if(y(t))for(;i=r[n++];)"+"===i[0]?(i=i.slice(1)||"*",(a[i]=a[i]||[]).unshift(t)):(a[i]=a[i]||[]).push(t)}}function Kt(t,r,a,o){var s={},l=t===Vt;function u(e){var n;return s[e]=!0,E.each(t[e]||[],function(e,t){var i=t(r,a,o);return"string"!=typeof i||l||s[i]?l?!(n=i):void 0:(r.dataTypes.unshift(i),u(i),!1)}),n}return u(r.dataTypes[0])||!s["*"]&&u("*")}function Yt(e,t){var i,n,r=E.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n=n||{})[i]=t[i]);return n&&E.extend(!0,e,n),e}Xt.href=Dt.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Dt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Dt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Gt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Yt(Yt(e,E.ajaxSettings),t):Yt(E.ajaxSettings,e)},ajaxPrefilter:Qt(Wt),ajaxTransport:Qt(Vt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,d,f,i,p,n,h,g,r,a,m=E.ajaxSetup({},t),v=m.context||m,b=m.context&&(v.nodeType||v.jquery)?E(v):E.event,y=E.Deferred(),w=E.Callbacks("once memory"),x=m.statusCode||{},o={},s={},l="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(h){if(!i)for(i={};t=qt.exec(f);)i[t[1].toLowerCase()+" "]=(i[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=i[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?f:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,o[e]=t),this},overrideMimeType:function(e){return null==h&&(m.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)_.always(e[_.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||l;return c&&c.abort(t),u(0,t),this}};if(y.promise(_),m.url=((e||m.url||Dt.href)+"").replace(Zt,Dt.protocol+"//"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=(m.dataType||"*").toLowerCase().match(M)||[""],null==m.crossDomain){n=T.createElement("a");try{n.href=m.url,n.href=n.href,m.crossDomain=Xt.protocol+"//"+Xt.host!=n.protocol+"//"+n.host}catch(e){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=E.param(m.data,m.traditional)),Kt(Wt,m,t,_),h)return _;for(r in(g=E.event&&m.global)&&0==E.active++&&E.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Ht.test(m.type),d=m.url.replace(Ot,""),m.hasContent?m.data&&m.processData&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&(m.data=m.data.replace(Rt,"+")):(a=m.url.slice(d.length),m.data&&(m.processData||"string"==typeof m.data)&&(d+=(zt.test(d)?"&":"?")+m.data,delete m.data),!1===m.cache&&(d=d.replace(Bt,"$1"),a=(zt.test(d)?"&":"?")+"_="+jt.guid+++a),m.url=d+a),m.ifModified&&(E.lastModified[d]&&_.setRequestHeader("If-Modified-Since",E.lastModified[d]),E.etag[d]&&_.setRequestHeader("If-None-Match",E.etag[d])),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&_.setRequestHeader("Content-Type",m.contentType),_.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Gt+"; q=0.01":""):m.accepts["*"]),m.headers)_.setRequestHeader(r,m.headers[r]);if(m.beforeSend&&(!1===m.beforeSend.call(v,_,m)||h))return _.abort();if(l="abort",w.add(m.complete),_.done(m.success),_.fail(m.error),c=Kt(Vt,m,t,_)){if(_.readyState=1,g&&b.trigger("ajaxSend",[_,m]),h)return _;m.async&&0<m.timeout&&(p=C.setTimeout(function(){_.abort("timeout")},m.timeout));try{h=!1,c.send(o,u)}catch(e){if(h)throw e;u(-1,e)}}else u(-1,"No Transport");function u(e,t,i,n){var r,a,o,s,l,u=t;h||(h=!0,p&&C.clearTimeout(p),c=void 0,f=n||"",_.readyState=0<e?4:0,r=200<=e&&e<300||304===e,i&&(s=function(e,t,i){for(var n,r,a,o,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(r in s)if(s[r]&&s[r].test(n)){l.unshift(r);break}if(l[0]in i)a=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){a=r;break}o=o||r}a=a||o}if(a)return a!==l[0]&&l.unshift(a),i[a]}(m,_,i)),!r&&-1<E.inArray("script",m.dataTypes)&&(m.converters["text script"]=function(){}),s=function(e,t,i,n){var r,a,o,s,l,u={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)u[o.toLowerCase()]=e.converters[o];for(a=c.shift();a;)if(e.responseFields[a]&&(i[e.responseFields[a]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=c.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(o=u[l+" "+a]||u["* "+a]))for(r in u)if((s=r.split(" "))[1]===a&&(o=u[l+" "+s[0]]||u["* "+s[0]])){!0===o?o=u[r]:!0!==u[r]&&(a=s[0],c.unshift(s[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}(m,s,_,r),r?(m.ifModified&&((l=_.getResponseHeader("Last-Modified"))&&(E.lastModified[d]=l),(l=_.getResponseHeader("etag"))&&(E.etag[d]=l)),204===e||"HEAD"===m.type?u="nocontent":304===e?u="notmodified":(u=s.state,a=s.data,r=!(o=s.error))):(o=u,!e&&u||(u="error",e<0&&(e=0))),_.status=e,_.statusText=(t||u)+"",r?y.resolveWith(v,[a,u,_]):y.rejectWith(v,[_,u,o]),_.statusCode(x),x=void 0,g&&b.trigger(r?"ajaxSuccess":"ajaxError",[_,m,r?a:o]),w.fireWith(v,[_,u]),g&&(b.trigger("ajaxComplete",[_,m]),--E.active||E.event.trigger("ajaxStop")))}return _},getJSON:function(e,t,i){return E.get(e,t,i,"json")},getScript:function(e,t){return E.get(e,void 0,t,"script")}}),E.each(["get","post"],function(e,r){E[r]=function(e,t,i,n){return y(t)&&(n=n||i,i=t,t=void 0),E.ajax(E.extend({url:e,type:r,dataType:n,data:t,success:i},E.isPlainObject(e)&&e))}}),E.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),E._evalUrl=function(e,t,i){return E.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){E.globalEval(e,t,i)}})},E.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=E(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(i){return y(i)?this.each(function(e){E(this).wrapInner(i.call(this,e))}):this.each(function(){var e=E(this),t=e.contents();t.length?t.wrapAll(i):e.append(i)})},wrap:function(t){var i=y(t);return this.each(function(e){E(this).wrapAll(i?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(e){return!E.expr.pseudos.visible(e)},E.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var Jt={0:200,1223:204},ei=E.ajaxSettings.xhr();b.cors=!!ei&&"withCredentials"in ei,b.ajax=ei=!!ei,E.ajaxTransport(function(r){var a,o;if(b.cors||ei&&!r.crossDomain)return{send:function(e,t){var i,n=r.xhr();if(n.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(i in r.xhrFields)n[i]=r.xhrFields[i];for(i in r.mimeType&&n.overrideMimeType&&n.overrideMimeType(r.mimeType),r.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)n.setRequestHeader(i,e[i]);a=function(e){return function(){a&&(a=o=n.onload=n.onerror=n.onabort=n.ontimeout=n.onreadystatechange=null,"abort"===e?n.abort():"error"===e?"number"!=typeof n.status?t(0,"error"):t(n.status,n.statusText):t(Jt[n.status]||n.status,n.statusText,"text"!==(n.responseType||"text")||"string"!=typeof n.responseText?{binary:n.response}:{text:n.responseText},n.getAllResponseHeaders()))}},n.onload=a(),o=n.onerror=n.ontimeout=a("error"),void 0!==n.onabort?n.onabort=o:n.onreadystatechange=function(){4===n.readyState&&C.setTimeout(function(){a&&o()})},a=a("abort");try{n.send(r.hasContent&&r.data||null)}catch(e){if(a)throw e}},abort:function(){a&&a()}}}),E.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return E.globalEval(e),e}}}),E.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),E.ajaxTransport("script",function(i){var n,r;if(i.crossDomain||i.scriptAttrs)return{send:function(e,t){n=E("<script>").attr(i.scriptAttrs||{}).prop({charset:i.scriptCharset,src:i.url}).on("load error",r=function(e){n.remove(),r=null,e&&t("error"===e.type?404:200,e.type)}),T.head.appendChild(n[0])},abort:function(){r&&r()}}});var ti,ii=[],ni=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ii.pop()||E.expando+"_"+jt.guid++;return this[e]=!0,e}}),E.ajaxPrefilter("json jsonp",function(e,t,i){var n,r,a,o=!1!==e.jsonp&&(ni.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&ni.test(e.data)&&"data");if(o||"jsonp"===e.dataTypes[0])return n=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(ni,"$1"+n):!1!==e.jsonp&&(e.url+=(zt.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return a||E.error(n+" was not called"),a[0]},e.dataTypes[0]="json",r=C[n],C[n]=function(){a=arguments},i.always(function(){void 0===r?E(C).removeProp(n):C[n]=r,e[n]&&(e.jsonpCallback=t.jsonpCallback,ii.push(n)),a&&y(r)&&r(a[0]),a=r=void 0}),"script"}),b.createHTMLDocument=((ti=T.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===ti.childNodes.length),E.parseHTML=function(e,t,i){return"string"!=typeof e?[]:("boolean"==typeof t&&(i=t,t=!1),t||(b.createHTMLDocument?((n=(t=T.implementation.createHTMLDocument("")).createElement("base")).href=T.location.href,t.head.appendChild(n)):t=T),a=!i&&[],(r=P.exec(e))?[t.createElement(r[1])]:(r=ye([e],t,a),a&&a.length&&E(a).remove(),E.merge([],r.childNodes)));var n,r,a},E.fn.load=function(e,t,i){var n,r,a,o=this,s=e.indexOf(" ");return-1<s&&(n=St(e.slice(s)),e=e.slice(0,s)),y(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),0<o.length&&E.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){a=arguments,o.html(n?E("<div>").append(E.parseHTML(e)).find(n):e)}).always(i&&function(e,t){o.each(function(){i.apply(this,a||[e.responseText,t,e])})}),this},E.expr.pseudos.animated=function(t){return E.grep(E.timers,function(e){return t===e.elem}).length},E.offset={setOffset:function(e,t,i){var n,r,a,o,s,l,u=E.css(e,"position"),c=E(e),d={};"static"===u&&(e.style.position="relative"),s=c.offset(),a=E.css(e,"top"),l=E.css(e,"left"),r=("absolute"===u||"fixed"===u)&&-1<(a+l).indexOf("auto")?(o=(n=c.position()).top,n.left):(o=parseFloat(a)||0,parseFloat(l)||0),y(t)&&(t=t.call(e,i,E.extend({},s))),null!=t.top&&(d.top=t.top-s.top+o),null!=t.left&&(d.left=t.left-s.left+r),"using"in t?t.using.call(e,d):("number"==typeof d.top&&(d.top+="px"),"number"==typeof d.left&&(d.left+="px"),c.css(d))}},E.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){E.offset.setOffset(this,t,e)});var e,i,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i,n=this[0],r={top:0,left:0};if("fixed"===E.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),i=n.ownerDocument,e=n.offsetParent||i.documentElement;e&&(e===i.body||e===i.documentElement)&&"static"===E.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((r=E(e).offset()).top+=E.css(e,"borderTopWidth",!0),r.left+=E.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-E.css(n,"marginTop",!0),left:t.left-r.left-E.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===E.css(e,"position");)e=e.offsetParent;return e||ne})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var a="pageYOffset"===r;E.fn[t]=function(e){return B(this,function(e,t,i){var n;if(g(e)?n=e:9===e.nodeType&&(n=e.defaultView),void 0===i)return n?n[r]:e[t];n?n.scrollTo(a?n.pageXOffset:i,a?i:n.pageYOffset):e[t]=i},t,e,arguments.length)}}),E.each(["top","left"],function(e,i){E.cssHooks[i]=Ye(b.pixelPosition,function(e,t){if(t)return t=Ke(e,i),We.test(t)?E(e).position()[i]+"px":t})}),E.each({Height:"height",Width:"width"},function(o,s){E.each({padding:"inner"+o,content:s,"":"outer"+o},function(n,a){E.fn[a]=function(e,t){var i=arguments.length&&(n||"boolean"!=typeof e),r=n||(!0===e||!0===t?"margin":"border");return B(this,function(e,t,i){var n;return g(e)?0===a.indexOf("outer")?e["inner"+o]:e.document.documentElement["client"+o]:9===e.nodeType?(n=e.documentElement,Math.max(e.body["scroll"+o],n["scroll"+o],e.body["offset"+o],n["offset"+o],n["client"+o])):void 0===i?E.css(e,t,r):E.style(e,t,i,r)},s,i?e:void 0,i)}})}),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){E.fn[t]=function(e){return this.on(t,e)}}),E.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,i){E.fn[i]=function(e,t){return 0<arguments.length?this.on(i,null,e,t):this.trigger(i)}});var ri=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;E.proxy=function(e,t){var i,n,r;if("string"==typeof t&&(i=e[t],t=e,e=i),y(e))return n=s.call(arguments,2),(r=function(){return e.apply(t||this,n.concat(s.call(arguments)))}).guid=e.guid=e.guid||E.guid++,r},E.holdReady=function(e){e?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=k,E.isFunction=y,E.isWindow=g,E.camelCase=W,E.type=x,E.now=Date.now,E.isNumeric=function(e){var t=E.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},E.trim=function(e){return null==e?"":(e+"").replace(ri,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return E});var ai=C.jQuery,oi=C.$;return E.noConflict=function(e){return C.$===E&&(C.$=oi),e&&C.jQuery===E&&(C.jQuery=ai),E},void 0===e&&(C.jQuery=C.$=E),E}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(window.jQuery)}(function(X){"use strict";var Q,d;X.fn.fileinputLocales={},X.fn.fileinputThemes={},String.prototype.setTokens=function(e){var t,i,n=this.toString();for(t in e)e.hasOwnProperty(t)&&(i=new RegExp("{"+t+"}","g"),n=n.replace(i,e[t]));return n},Q={FRAMES:".kv-preview-thumb",SORT_CSS:"file-sortable",INIT_FLAG:"init-",OBJECT_PARAMS:'<param name="controller" value="true" />\n<param name="allowFullScreen" value="true" />\n<param name="allowScriptAccess" value="always" />\n<param name="autoPlay" value="false" />\n<param name="autoStart" value="false" />\n<param name="quality" value="high" />\n',DEFAULT_PREVIEW:'<div class="file-preview-other">\n<span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>',MODAL_ID:"kvFileinputModal",MODAL_EVENTS:["show","shown","hide","hidden","loaded"],logMessages:{ajaxError:"{status}: {error}. Error Details: {text}.",badDroppedFiles:"Error scanning dropped files!",badExifParser:"Error loading the piexif.js library. {details}",badInputType:'The input "type" must be set to "file" for initializing the "bootstrap-fileinput" plugin.',exifWarning:'To avoid this warning, either set "autoOrientImage" to "false" OR ensure you have loaded the "piexif.js" library correctly on your page before the "fileinput.js" script.',invalidChunkSize:'Invalid upload chunk size: "{chunkSize}". Resumable uploads are disabled.',invalidThumb:'Invalid thumb frame with id: "{id}".',noResumableSupport:"The browser does not support resumable or chunk uploads.",noUploadUrl:'The "uploadUrl" is not set. Ajax uploads and resumable uploads have been disabled.',retryStatus:"Retrying upload for chunk # {chunk} for {filename}... retry # {retry}."},objUrl:window.URL||window.webkitURL,now:function(){return new Date},round:function(e){return e=parseFloat(e),isNaN(e)?0:Math.floor(Math.round(e))},getFileRelativePath:function(e){return String(e.relativePath||e.webkitRelativePath||Q.getFileName(e)||null)},getFileId:function(e,t){var i=Q.getFileRelativePath(e);return"function"==typeof t?t(e):e&&i?e.size+"_"+i.replace(/\s/gim,"_"):null},getFrameSelector:function(e,t){return'[id="'+e+'"]'+(t=t||"")},getZoomSelector:function(e,t){return'[id="zoom-'+e+'"]'+(t=t||"")},getFrameElement:function(e,t,i){return e.find(Q.getFrameSelector(t,i))},getZoomElement:function(e,t,i){return e.find(Q.getZoomSelector(t,i))},getElapsed:function(e){var t=e,i="",n={},r={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60,second:1};return Object.keys(r).forEach(function(e){n[e]=Math.floor(t/r[e]),t-=n[e]*r[e]}),X.each(n,function(e,t){0<t&&(i+=(i?" ":"")+t+e.substring(0,1))}),i},debounce:function(i,n){var r;return function(){var e=arguments,t=this;clearTimeout(r),r=setTimeout(function(){i.apply(t,e)},n)}},stopEvent:function(e){e.stopPropagation(),e.preventDefault()},getFileName:function(e){return e&&(e.fileName||e.name)||""},createObjectURL:function(e){return Q.objUrl&&Q.objUrl.createObjectURL&&e?Q.objUrl.createObjectURL(e):""},revokeObjectURL:function(e){Q.objUrl&&Q.objUrl.revokeObjectURL&&e&&Q.objUrl.revokeObjectURL(e)},compare:function(e,t,i){return void 0!==e&&(i?e===t:e.match(t))},isIE:function(e){var t,i;return"Microsoft Internet Explorer"===navigator.appName&&(10===e?new RegExp("msie\\s"+e,"i").test(navigator.userAgent):((t=document.createElement("div")).innerHTML="\x3c!--[if IE "+e+"]> <i></i> <![endif]--\x3e",i=t.getElementsByTagName("i").length,document.body.appendChild(t),t.parentNode.removeChild(t),i))},canAssignFilesToInput:function(){var e=document.createElement("input");try{return e.type="file",!(e.files=null)}catch(e){return!1}},getDragDropFolders:function(e){var t,i,n=e?e.length:0,r=0;if(0<n&&e[0].webkitGetAsEntry())for(t=0;t<n;t++)(i=e[t].webkitGetAsEntry())&&i.isDirectory&&r++;return r},initModal:function(e){var t=X("body");t.length&&e.appendTo(t)},isFunction:function(e){return"function"==typeof e},isEmpty:function(e,t){return null==e||!Q.isFunction(e)&&(0===e.length||t&&""===X.trim(e))},isArray:function(e){return Array.isArray(e)||"[object Array]"===Object.prototype.toString.call(e)},ifSet:function(e,t,i){return i=i||"",t&&"object"==typeof t&&e in t?t[e]:i},cleanArray:function(e){return e instanceof Array||(e=[]),e.filter(function(e){return null!=e})},spliceArray:function(e,t,i){var n,r,a=0,o=[];if(!(e instanceof Array))return[];for(r=X.extend(!0,[],e),i&&r.reverse(),n=0;n<r.length;n++)n!==t&&(o[a]=r[n],a++);return i&&o.reverse(),o},getNum:function(e,t){return t=t||0,"number"==typeof e?e:("string"==typeof e&&(e=parseFloat(e)),isNaN(e)?t:e)},hasFileAPISupport:function(){return!(!window.File||!window.FileReader)},hasDragDropSupport:function(){var e=document.createElement("div");return!Q.isIE(9)&&(void 0!==e.draggable||void 0!==e.ondragstart&&void 0!==e.ondrop)},hasFileUploadSupport:function(){return Q.hasFileAPISupport()&&window.FormData},hasBlobSupport:function(){try{return!!window.Blob&&Boolean(new Blob)}catch(e){return!1}},hasArrayBufferViewSupport:function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}},hasResumableUploadSupport:function(){return Q.hasFileUploadSupport()&&Q.hasBlobSupport()&&Q.hasArrayBufferViewSupport()&&(!!Blob.prototype.webkitSlice||!!Blob.prototype.mozSlice||!!Blob.prototype.slice||!1)},dataURI2Blob:function(e){var t,i,n,r,a,o,s=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,l=Q.hasBlobSupport();if(!((l||s)&&window.atob&&window.ArrayBuffer&&window.Uint8Array))return null;for(t=(0<=e.split(",")[0].indexOf("base64")?atob:decodeURIComponent)(e.split(",")[1]),i=new ArrayBuffer(t.length),n=new Uint8Array(i),r=0;r<t.length;r+=1)n[r]=t.charCodeAt(r);return a=e.split(",")[0].split(":")[1].split(";")[0],l?new Blob([Q.hasArrayBufferViewSupport()?n:i],{type:a}):((o=new s).append(i),o.getBlob(a))},arrayBuffer2String:function(e){if(window.TextDecoder)return new TextDecoder("utf-8").decode(e);var t,i,n,r,a=Array.prototype.slice.apply(new Uint8Array(e)),o="",s=0;for(t=a.length;s<t;)switch((i=a[s++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(i);break;case 12:case 13:n=a[s++],o+=String.fromCharCode((31&i)<<6|63&n);break;case 14:n=a[s++],r=a[s++],o+=String.fromCharCode((15&i)<<12|(63&n)<<6|(63&r)<<0)}return o},isHtml:function(e){var t=document.createElement("div");t.innerHTML=e;for(var i=t.childNodes,n=i.length;n--;)if(1===i[n].nodeType)return!0;return!1},isSvg:function(e){return e.match(/^\s*<\?xml/i)&&(e.match(/<!DOCTYPE svg/i)||e.match(/<svg/i))},getMimeType:function(e,t,i){switch(e){case"ffd8ffe0":case"ffd8ffe1":case"ffd8ffe2":return"image/jpeg";case"89504E47":return"image/png";case"47494638":return"image/gif";case"49492a00":return"image/tiff";case"52494646":return"image/webp";case"66747970":return"video/3gp";case"4f676753":return"video/ogg";case"1a45dfa3":return"video/mkv";case"000001ba":case"000001b3":return"video/mpeg";case"3026b275":return"video/wmv";case"25504446":return"application/pdf";case"25215053":return"application/ps";case"504b0304":case"504b0506":case"504b0508":return"application/zip";case"377abcaf":return"application/7z";case"75737461":return"application/tar";case"7801730d":return"application/dmg";default:switch(e.substring(0,6)){case"435753":return"application/x-shockwave-flash";case"494433":return"audio/mp3";case"425a68":return"application/bzip";default:switch(e.substring(0,4)){case"424d":return"image/bmp";case"fffb":return"audio/mp3";case"4d5a":return"application/exe";case"1f9d":case"1fa0":return"application/zip";case"1f8b":return"application/gzip";default:return t&&!t.match(/[^\u0000-\u007f]/)?"application/text-plain":i}}}},addCss:function(e,t){e.removeClass(t).addClass(t)},getElement:function(e,t,i){return Q.isEmpty(e)||Q.isEmpty(e[t])?i:X(e[t])},uniqId:function(){return Math.round((new Date).getTime())+"_"+Math.round(100*Math.random())},htmlEncode:function(e,t){return void 0===e?t||null:e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},replaceTags:function(e,t){var i=e;return t&&X.each(t,function(e,t){"function"==typeof t&&(t=t()),i=i.split(e).join(t)}),i},cleanMemory:function(e){var t=e.is("img")?e.attr("src"):e.find("source").attr("src");Q.revokeObjectURL(t)},findFileName:function(e){var t=e.lastIndexOf("/");return-1===t&&(t=e.lastIndexOf("\\")),e.split(e.substring(t,t+1)).pop()},checkFullScreen:function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},toggleFullScreen:function(e){var t=document,i=t.documentElement;i&&e&&!Q.checkFullScreen()?i.requestFullscreen?i.requestFullscreen():i.msRequestFullscreen?i.msRequestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullscreen&&i.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):t.exitFullscreen?t.exitFullscreen():t.msExitFullscreen?t.msExitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitExitFullscreen&&t.webkitExitFullscreen()},moveArray:function(e,t,i,n){var r=X.extend(!0,[],e);if(n&&r.reverse(),i>=r.length)for(var a=i-r.length;1+a--;)r.push(void 0);return r.splice(i,0,r.splice(t,1)[0]),n&&r.reverse(),r},cleanZoomCache:function(e){var t=e.closest(".kv-zoom-cache-theme");t.length||(t=e.closest(".kv-zoom-cache")),t.remove()},closeButton:function(e){return'<button type="button" class="'+(e=e?"close "+e:"close")+'" aria-label="Close">\n  <span aria-hidden="true">&times;</span>\n</button>'},getRotation:function(e){switch(e){case 2:return"rotateY(180deg)";case 3:return"rotate(180deg)";case 4:return"rotate(180deg) rotateY(180deg)";case 5:return"rotate(270deg) rotateY(180deg)";case 6:return"rotate(90deg)";case 7:return"rotate(90deg) rotateY(180deg)";case 8:return"rotate(270deg)";default:return""}},setTransform:function(e,t){e&&(e.style.transform=t,e.style.webkitTransform=t,e.style["-moz-transform"]=t,e.style["-ms-transform"]=t,e.style["-o-transform"]=t)}},(d=function(e,t){var i=this;i.$element=X(e),i.$parent=i.$element.parent(),i._validate()&&(i.isPreviewable=Q.hasFileAPISupport(),i.isIE9=Q.isIE(9),i.isIE10=Q.isIE(10),(i.isPreviewable||i.isIE9)&&(i._init(t),i._listen()),i.$element.removeClass("file-loading"))}).prototype={constructor:d,_cleanup:function(){var e=this;e.reader=null,e.clearFileStack(),e.fileBatchCompleted=!0,e.isError=!1,e.cancelling=!1,e.paused=!1,e.lastProgress=0,e._initAjax()},_initAjax:function(){var e=this;e.ajaxQueue=[],e.ajaxRequests=[],e.ajaxQueueIntervalId=null,e.ajaxCurrentThreads=0,e.ajaxAborted=!1},_init:function(e,t){var i,n,r,a,o=this,s=o.$element;o.options=e,X.each(e,function(e,t){switch(e){case"minFileCount":case"maxFileCount":case"maxTotalFileCount":case"minFileSize":case"maxFileSize":case"maxFilePreviewSize":case"resizeImageQuality":case"resizeIfSizeMoreThan":case"progressUploadThreshold":case"initialPreviewCount":case"zoomModalHeight":case"minImageHeight":case"maxImageHeight":case"minImageWidth":case"maxImageWidth":o[e]=Q.getNum(t);break;default:o[e]=t}}),0<o.maxTotalFileCount&&o.maxTotalFileCount<o.maxFileCount&&(o.maxTotalFileCount=o.maxFileCount),o.rtl&&(a=o.previewZoomButtonIcons.prev,o.previewZoomButtonIcons.prev=o.previewZoomButtonIcons.next,o.previewZoomButtonIcons.next=a),!isNaN(o.maxAjaxThreads)&&o.maxAjaxThreads<o.resumableUploadOptions.maxThreads&&(o.resumableUploadOptions.maxThreads=o.maxAjaxThreads),o._initFileManager(),"function"==typeof o.autoOrientImage&&(o.autoOrientImage=o.autoOrientImage()),"function"==typeof o.autoOrientImageInitial&&(o.autoOrientImageInitial=o.autoOrientImageInitial()),t||o._cleanup(),o.duplicateErrors=[],o.$form=s.closest("form"),o._initTemplateDefaults(),o.uploadFileAttr=Q.isEmpty(s.attr("name"))?"file_data":s.attr("name"),r=o._getLayoutTemplate("progress"),o.progressTemplate=r.replace("{class}",o.progressClass),o.progressInfoTemplate=r.replace("{class}",o.progressInfoClass),o.progressPauseTemplate=r.replace("{class}",o.progressPauseClass),o.progressCompleteTemplate=r.replace("{class}",o.progressCompleteClass),o.progressErrorTemplate=r.replace("{class}",o.progressErrorClass),o.isDisabled=s.attr("disabled")||s.attr("readonly"),o.isDisabled&&s.attr("disabled",!0),o.isClickable=o.browseOnZoneClick&&o.showPreview&&(o.dropZoneEnabled||!Q.isEmpty(o.defaultPreviewContent)),o.isAjaxUpload=Q.hasFileUploadSupport()&&!Q.isEmpty(o.uploadUrl),o.dropZoneEnabled=Q.hasDragDropSupport()&&o.dropZoneEnabled,o.isAjaxUpload||(o.dropZoneEnabled=o.dropZoneEnabled&&Q.canAssignFilesToInput()),o.slug="function"==typeof e.slugCallback?e.slugCallback:o._slugDefault,o.mainTemplate=o.showCaption?o._getLayoutTemplate("main1"):o._getLayoutTemplate("main2"),o.captionTemplate=o._getLayoutTemplate("caption"),o.previewGenericTemplate=o._getPreviewTemplate("generic"),!o.imageCanvas&&o.resizeImage&&(o.maxImageWidth||o.maxImageHeight)&&(o.imageCanvas=document.createElement("canvas"),o.imageCanvasContext=o.imageCanvas.getContext("2d")),Q.isEmpty(s.attr("id"))&&s.attr("id",Q.uniqId()),o.namespace=".fileinput_"+s.attr("id").replace(/-/g,"_"),void 0===o.$container?o.$container=o._createContainer():o._refreshContainer(),n=o.$container,o.$dropZone=n.find(".file-drop-zone"),o.$progress=n.find(".kv-upload-progress"),o.$btnUpload=n.find(".fileinput-upload"),o.$captionContainer=Q.getElement(e,"elCaptionContainer",n.find(".file-caption")),o.$caption=Q.getElement(e,"elCaptionText",n.find(".file-caption-name")),Q.isEmpty(o.msgPlaceholder)||(i=s.attr("multiple")?o.filePlural:o.fileSingle,o.$caption.attr("placeholder",o.msgPlaceholder.replace("{files}",i))),o.$captionIcon=o.$captionContainer.find(".file-caption-icon"),o.$previewContainer=Q.getElement(e,"elPreviewContainer",n.find(".file-preview")),o.$preview=Q.getElement(e,"elPreviewImage",n.find(".file-preview-thumbnails")),o.$previewStatus=Q.getElement(e,"elPreviewStatus",n.find(".file-preview-status")),o.$errorContainer=Q.getElement(e,"elErrorContainer",o.$previewContainer.find(".kv-fileinput-error")),o._validateDisabled(),Q.isEmpty(o.msgErrorClass)||Q.addCss(o.$errorContainer,o.msgErrorClass),t?o._errorsExist()||o.$errorContainer.hide():(o.$errorContainer.hide(),o.previewInitId="thumb-"+s.attr("id"),o._initPreviewCache(),o._initPreview(!0),o._initPreviewActions(),o.$parent.hasClass("file-loading")&&(o.$container.insertBefore(o.$parent),o.$parent.remove())),o._setFileDropZoneTitle(),s.attr("disabled")&&o.disable(),o._initZoom(),o.hideThumbnailContent&&Q.addCss(o.$preview,"hide-content")},_initFileManager:function(){var l=this;l.fileManager={stack:{},processed:[],errors:[],loadedImages:{},totalImages:0,totalFiles:null,totalSize:null,uploadedSize:0,stats:{},initStats:function(e){var t={started:Q.now().getTime()};e?l.fileManager.stats[e]=t:l.fileManager.stats=t},getUploadStats:function(e,t,i){var n=l.fileManager,r=e&&n.stats[e]&&n.stats[e].started||null;r=r||Q.now().getTime();var a=(Q.now().getTime()-r)/1e3,o=a?t/a:0,s={fileId:e,started:r,elapsed:a,loaded:t,total:i,bps:o,bitrate:l._getSize(o,["B/s","KB/s","MB/s","GB/s","TB/s","PB/s","EB/s","ZB/s","YB/s"]),pendingBytes:i-t};return e?n.stats[e]=s:n.stats=s,s},exists:function(e){return-1!==X.inArray(e,l.fileManager.getIdList())},count:function(){return l.fileManager.getIdList().length},total:function(){var e=l.fileManager;return e.totalFiles||(e.totalFiles=e.count()),e.totalFiles},getTotalSize:function(){var n=l.fileManager;return n.totalSize||(n.totalSize=0,X.each(l.fileManager.stack,function(e,t){var i=parseFloat(t.size);n.totalSize+=isNaN(i)?0:i})),n.totalSize},add:function(e,t){(t=t||l.fileManager.getId(e))&&(l.fileManager.stack[t]={file:e,name:Q.getFileName(e),relativePath:Q.getFileRelativePath(e),size:e.size,nameFmt:l._getFileName(e,""),sizeFmt:l._getSize(e.size)})},remove:function(e){var t=e.attr("data-fileid");t&&l.fileManager.removeFile(t)},removeFile:function(e){delete l.fileManager.stack[e],delete l.fileManager.loadedImages[e]},move:function(i,n){var r={},a=l.fileManager.stack;(i||n)&&i!==n&&(X.each(a,function(e,t){e!==i&&(r[e]=t),e===n&&(r[i]=a[i])}),l.fileManager.stack=r)},list:function(){var i=[];return X.each(l.fileManager.stack,function(e,t){t&&t.file&&i.push(t.file)}),i},isPending:function(e){return-1===X.inArray(e,l.fileManager.processed)&&l.fileManager.exists(e)},isProcessed:function(){var t=!0,i=l.fileManager;return X.each(i.stack,function(e){i.isPending(e)&&(t=!1)}),t},clear:function(){var e=l.fileManager;e.totalFiles=null,e.totalSize=null,e.uploadedSize=0,e.stack={},e.errors=[],e.processed=[],e.stats={},e.clearImages()},clearImages:function(){l.fileManager.loadedImages={},l.fileManager.totalImages=0},addImage:function(e,t){l.fileManager.loadedImages[e]=t},removeImage:function(e){delete l.fileManager.loadedImages[e]},getImageIdList:function(){return Object.keys(l.fileManager.loadedImages)},getImageCount:function(){return l.fileManager.getImageIdList().length},getId:function(e){return l._getFileId(e)},getIndex:function(e){return l.fileManager.getIdList().indexOf(e)},getThumb:function(t){var i=null;return l._getThumbs().each(function(){var e=X(this);e.attr("data-fileid")===t&&(i=e)}),i},getThumbIndex:function(e){var t=e.attr("data-fileid");return l.fileManager.getIndex(t)},getIdList:function(){return Object.keys(l.fileManager.stack)},getFile:function(e){return l.fileManager.stack[e]||null},getFileName:function(e,t){var i=l.fileManager.getFile(e);return i?t?i.nameFmt||"":i.name||"":""},getFirstFile:function(){var e=l.fileManager.getIdList(),t=e&&e.length?e[0]:null;return l.fileManager.getFile(t)},setFile:function(e,t){l.fileManager.getFile(e)?l.fileManager.stack[e].file=t:l.fileManager.add(t,e)},setProcessed:function(e){l.fileManager.processed.push(e)},getProgress:function(){var e=l.fileManager.total(),t=l.fileManager.processed.length;return e?Math.ceil(t/e*100):0},setProgress:function(e,t){var i=l.fileManager.getFile(e);!isNaN(t)&&i&&(i.progress=t)}}},_setUploadData:function(n,e){var r=this;X.each(e,function(e,t){var i=r.uploadParamNames[e]||e;Q.isArray(t)?n.append(i,t[0],t[1]):n.append(i,t)})},_initResumableUpload:function(){var b=this,e=b.resumableUploadOptions,y=Q.logMessages;if(b.enableResumableUpload)if(!1!==e.fallback&&"function"!=typeof e.fallback&&(e.fallback=function(e){e._log(y.noResumableSupport),e.enableResumableUpload=!1}),Q.hasResumableUploadSupport()||!1===e.fallback){if(!b.uploadUrl&&b.enableResumableUpload)return b._log(y.noUploadUrl),void(b.enableResumableUpload=!1);if(e.chunkSize=parseFloat(e.chunkSize),e.chunkSize<=0||isNaN(e.chunkSize))return b._log(y.invalidChunkSize,{chunkSize:e.chunkSize}),void(b.enableResumableUpload=!1);b.resumableManager={init:function(e,t,i){var n=b.resumableManager,r=b.fileManager;n.currThreads=0,n.logs=[],n.stack=[],n.error="",n.chunkIntervalId=null,n.id=e,n.file=t.file,n.fileName=t.name,n.fileIndex=i,n.completed=!1,n.testing=!1,n.lastProgress=0,b.showPreview&&(n.$thumb=r.getThumb(e)||null,n.$progress=n.$btnDelete=null,n.$thumb&&n.$thumb.length&&(n.$progress=n.$thumb.find(".file-thumb-progress"),n.$btnDelete=n.$thumb.find(".kv-file-remove"))),n.chunkSize=1024*b.resumableUploadOptions.chunkSize,n.chunkCount=n.getTotalChunks()},logAjaxError:function(e,t,i){b.resumableUploadOptions.showErrorLog&&b._log(y.ajaxError,{status:e.status,error:i,text:e.responseText||""})},reset:function(){b.resumableManager.processed={}},setProcessed:function(e){var t,i=b.resumableManager,n=b.fileManager,r=i.id,a=i.$thumb,o=i.$progress,s=a&&a.length,l={id:s?a.attr("id"):"",index:n.getIndex(r),fileId:r};i.completed=!0,i.lastProgress=0,n.uploadedSize+=i.file.size,s&&a.removeClass("file-uploading"),"success"===e?(b.showPreview&&(b._setProgress(101,o),b._setThumbStatus(a,"Success"),b._initUploadSuccess(i.processed[r].data,a)),b.fileManager.removeFile(r),delete i.processed[r],b._raise("fileuploaded",[l.id,l.index,l.fileId]),n.isProcessed()&&b._setProgress(101)):(b.showPreview&&(b._setThumbStatus(a,"Error"),b._setPreviewError(a,!0),b._setProgress(101,o,b.msgProgressError),b._setProgress(101,b.$progress,b.msgProgressError),b.cancelling=!0),b.$errorContainer.find('li[data-file-id="'+l.fileId+'"]').length||(t=b.msgResumableUploadRetriesExceeded.setTokens({file:i.fileName,max:b.resumableUploadOptions.maxRetries,error:i.error}),b._showFileError(t,l))),n.isProcessed()&&i.reset()},check:function(){var e=b.resumableManager,i=!0;X.each(e.logs,function(e,t){if(!t)return i=!1}),i&&(clearInterval(e.chunkIntervalId),e.setProcessed("success"))},processedResumables:function(){var e,t=b.resumableManager.logs,i=0;if(!t||!t.length)return 0;for(e=0;e<t.length;e++)!0===t[e]&&i++;return i},getUploadedSize:function(){var e=b.resumableManager,t=e.processedResumables()*e.chunkSize;return t>e.file.size?e.file.size:t},getTotalChunks:function(){var e=b.resumableManager,t=parseFloat(e.chunkSize);return!isNaN(t)&&0<t?Math.ceil(e.file.size/t):0},getProgress:function(){var e=b.resumableManager,t=e.processedResumables(),i=e.chunkCount;return 0===i?0:Math.ceil(t/i*100)},checkAborted:function(e){(b.paused||b.cancelling)&&(clearInterval(e),b.unlock())},upload:function(){var i,n=b.resumableManager,r=b.fileManager,a=r.getIdList(),o="new";i=setInterval(function(){var e;if(n.checkAborted(i),"new"===o&&(b.lock(),o="processing",e=a.shift(),r.initStats(e),r.stack[e]&&(n.init(e,r.stack[e],r.getIndex(e)),n.testUpload(),n.uploadResumable())),!r.isPending(e)&&n.completed&&(o="new"),r.isProcessed()){var t=b.$preview.find(".file-preview-initial");t.length&&(Q.addCss(t,Q.SORT_CSS),b._initSortable()),clearInterval(i),b._clearFileInput(),b.unlock(),setTimeout(function(){var e=b.previewCache.data;e&&(b.initialPreview=e.content,b.initialPreviewConfig=e.config,b.initialPreviewThumbTags=e.tags),b._raise("filebatchuploadcomplete",[b.initialPreview,b.initialPreviewConfig,b.initialPreviewThumbTags,b._getExtraData()])},b.processDelay)}},b.processDelay)},uploadResumable:function(){var e,t=b.resumableManager,i=t.chunkCount;for(e=0;e<i;e++)t.logs[e]=!(!t.processed[t.id]||!t.processed[t.id][e]);for(e=0;e<i;e++)t.pushAjax(e,0);t.chunkIntervalId=setInterval(t.loopAjax,b.queueDelay)},testUpload:function(){var a,e,t,i,n,r,o,s=b.resumableManager,l=b.resumableUploadOptions,u=b.fileManager,c=s.id;l.testUrl?(s.testing=!0,a=new FormData,e=u.stack[c],b._setUploadData(a,{fileId:c,fileName:e.fileName,fileSize:e.size,fileRelativePath:e.relativePath,chunkSize:s.chunkSize,chunkCount:s.chunkCount}),t=function(e){o=b._getOutData(a,e),b._raise("filetestbeforesend",[c,u,s,o])},i=function(e,t,i){o=b._getOutData(a,i,e);var n=b.uploadParamNames.chunksUploaded||"chunksUploaded",r=[c,u,s,o];e[n]&&Q.isArray(e[n])?(s.processed[c]||(s.processed[c]={}),X.each(e[n],function(e,t){s.logs[t]=!0,s.processed[c][t]=!0}),s.processed[c].data=e,b._raise("filetestsuccess",r)):b._raise("filetesterror",r),s.testing=!1},n=function(e,t,i){o=b._getOutData(a,e),b._raise("filetestajaxerror",[c,u,s,o]),s.logAjaxError(e,t,i),s.testing=!1},r=function(){b._raise("filetestcomplete",[c,u,s,b._getOutData(a)]),s.testing=!1},b._ajaxSubmit(t,i,r,n,a,c,s.fileIndex,l.testUrl)):s.testing=!1},pushAjax:function(e,t){b.resumableManager.stack.push([e,t])},sendAjax:function(o,s){var e,l=b.fileManager,u=b.resumableManager,t=b.resumableUploadOptions,i=u.chunkSize,c=u.id,n=u.file,r=u.$thumb,a=u.$btnDelete;if(!u.processed[c]||!u.processed[c][o])if(u.currThreads++,s>t.maxRetries)u.setProcessed("error");else{var d,f,p,h,g,m,v=n[n.slice?"slice":n.mozSlice?"mozSlice":n.webkitSlice?"webkitSlice":"slice"](i*o,i*(o+1));d=new FormData,e=l.stack[c],b._setUploadData(d,{chunkCount:u.chunkCount,chunkIndex:o,chunkSize:i,chunkSizeStart:i*o,fileBlob:[v,u.fileName],fileId:c,fileName:u.fileName,fileRelativePath:e.relativePath,fileSize:n.size,retryCount:s}),u.$progress&&u.$progress.length&&u.$progress.show(),p=function(e){f=b._getOutData(d,e),b.showPreview&&(r.hasClass("file-preview-success")||(b._setThumbStatus(r,"Loading"),Q.addCss(r,"file-uploading")),a.attr("disabled",!0)),b._raise("filechunkbeforesend",[c,o,s,l,u,f])},h=function(e,t,i){f=b._getOutData(d,i,e);var n=b.uploadParamNames.chunkIndex||"chunkIndex",r=b.resumableUploadOptions,a=[c,o,s,l,u,f];u.currThreads--,e.error?(r.showErrorLog&&b._log(y.retryStatus,{retry:s+1,filename:u.fileName,chunk:o}),u.pushAjax(o,s+1),u.error=e.error,b._raise("filechunkerror",a)):(u.logs[e[n]]=!0,u.processed[c]||(u.processed[c]={}),u.processed[c][e[n]]=!0,u.processed[c].data=e,b._raise("filechunksuccess",a),u.check())},g=function(e,t,i){f=b._getOutData(d,e),u.currThreads--,u.error=i,u.logAjaxError(e,t,i),b._raise("filechunkajaxerror",[c,o,s,l,u,f]),u.pushAjax(o,s+1)},m=function(){b._raise("filechunkcomplete",[c,o,s,l,u,b._getOutData(d)])},b._ajaxSubmit(p,h,m,g,d,c,u.fileIndex)}},loopAjax:function(){var e=b.resumableManager;if(e.currThreads<b.resumableUploadOptions.maxThreads&&!e.testing){var t,i=e.stack.shift();void 0!==i&&(t=i[0],e.processed[e.id]&&e.processed[e.id][t]?e.processedResumables()>=e.getTotalChunks()&&(e.setProcessed("success"),clearInterval(e.chunkIntervalId)):e.sendAjax(t,i[1]))}}},b.resumableManager.reset()}else e.fallback(b)},_initTemplateDefaults:function(){var e,t,i,n,r,a,o,s,l,u=this;e=Q.closeButton("fileinput-remove"),t='<div id="'+Q.MODAL_ID+'" class="file-zoom-dialog modal fade" tabindex="-1" aria-labelledby="'+Q.MODAL_ID+'Label"></div>',s=" {style}",i='<video class="kv-preview-data file-preview-video" controls'+s+'>\n<source src="{data}" type="{type}">\n'+Q.DEFAULT_PREVIEW+"\n</video>\n",n='\x3c!--suppress ALL --\x3e<audio class="kv-preview-data file-preview-audio" controls'+s+'>\n<source src="{data}" type="{type}">\n'+Q.DEFAULT_PREVIEW+"\n</audio>\n",a='<embed class="kv-preview-data file-preview-pdf" src="{data}" type="application/pdf"'+s+">\n",r='<object class="kv-preview-data file-preview-object file-object {typeCss}" data="{data}" type="{type}"'+s+'>\n<param name="movie" value="{caption}" />\n'+Q.OBJECT_PARAMS+" "+Q.DEFAULT_PREVIEW+"\n</object>\n",o='<div class="kv-preview-data file-preview-other-frame"'+s+">\n"+Q.DEFAULT_PREVIEW+"\n</div>\n",l={width:"100%",height:"100%","min-height":"480px"},u._isPdfRendered()&&(a=u.pdfRendererTemplate.replace("{renderer}",u._encodeURI(u.pdfRendererUrl))),u.defaults={layoutTemplates:{main1:'{preview}\n<div class="kv-upload-progress kv-hidden"></div><div class="clearfix"></div>\n<div class="input-group {class}">\n  {caption}\n<div class="input-group-btn input-group-append">\n      {remove}\n      {cancel}\n      {pause}\n      {upload}\n      {browse}\n    </div>\n</div>',main2:'{preview}\n<div class="kv-upload-progress kv-hidden"></div>\n<div class="clearfix"></div>\n{remove}\n{cancel}\n{upload}\n{browse}\n',preview:'<div class="file-preview {class}">\n  {close}  <div class="{dropClass} clearfix">\n    <div class="file-preview-thumbnails clearfix">\n    </div>\n    <div class="file-preview-status text-center text-success"></div>\n    <div class="kv-fileinput-error"></div>\n  </div>\n</div>',close:e,fileIcon:'<i class="glyphicon glyphicon-file"></i>',caption:'<div class="file-caption form-control {class}" tabindex="500">\n  <span class="file-caption-icon"></span>\n  <input class="file-caption-name" onkeydown="return false;" onpaste="return false;">\n</div>',modalMain:t,modal:'<div class="modal-dialog modal-lg{rtl}" role="document">\n  <div class="modal-content">\n    <div class="modal-header">\n      <h5 class="modal-title">{heading}</h5>\n      <span class="kv-zoom-title"></span>\n      <div class="kv-zoom-actions">{toggleheader}{fullscreen}{borderless}{close}</div>\n    </div>\n    <div class="modal-body">\n      <div class="floating-buttons"></div>\n      <div class="kv-zoom-body file-zoom-content {zoomFrameClass}"></div>\n{prev} {next}\n    </div>\n  </div>\n</div>\n',progress:'<div class="progress">\n    <div class="{class}" role="progressbar" aria-valuenow="{percent}" aria-valuemin="0" aria-valuemax="100" style="width:{percent}%;">\n        {status}\n     </div>\n</div>{stats}',stats:'<div class="text-info file-upload-stats"><span class="pending-time">{pendingTime}</span> <span class="upload-speed">{uploadSpeed}</span></div>',size:" <samp>({sizeText})</samp>",footer:'<div class="file-thumbnail-footer">\n    <div class="file-footer-caption" title="{caption}">\n        <div class="file-caption-info">{caption}</div>\n        <div class="file-size-info">{size}</div>\n    </div>\n    {progress}\n{indicator}\n{actions}\n</div>',indicator:'<div class="file-upload-indicator" title="{indicatorTitle}">{indicator}</div>',actions:'<div class="file-actions">\n    <div class="file-footer-buttons">\n        {download} {upload} {delete} {zoom} {other}    </div>\n</div>\n{drag}\n<div class="clearfix"></div>',actionDelete:'<button type="button" class="kv-file-remove {removeClass}" title="{removeTitle}" {dataUrl}{dataKey}>{removeIcon}</button>\n',actionUpload:'<button type="button" class="kv-file-upload {uploadClass}" title="{uploadTitle}">{uploadIcon}</button>',actionDownload:'<a class="kv-file-download {downloadClass}" title="{downloadTitle}" href="{downloadUrl}" download="{caption}" target="_blank">{downloadIcon}</a>',actionZoom:'<button type="button" class="kv-file-zoom {zoomClass}" title="{zoomTitle}">{zoomIcon}</button>',actionDrag:'<span class="file-drag-handle {dragClass}" title="{dragTitle}">{dragIcon}</span>',btnDefault:'<button type="{type}" tabindex="500" title="{title}" class="{css}" {status}>{icon} {label}</button>',btnLink:'<a href="{href}" tabindex="500" title="{title}" class="{css}" {status}>{icon} {label}</a>',btnBrowse:'<div tabindex="500" class="{css}" {status}>{icon} {label}</div>',zoomCache:'<div class="kv-zoom-cache" style="display:none">{zoomContent}</div>'},previewMarkupTags:{tagBefore1:'<div class="file-preview-frame {frameClass}" id="{previewId}" data-fileindex="{fileindex}" data-fileid="{fileid}" data-template="{template}"><div class="kv-file-content">\n',tagBefore2:'<div class="file-preview-frame {frameClass}" id="{previewId}" data-fileindex="{fileindex}" data-fileid="{fileid}" data-template="{template}" title="{caption}"><div class="kv-file-content">\n',tagAfter:"</div>{footer}\n</div>\n"},previewContentTemplates:{generic:"{content}\n",html:'<div class="kv-preview-data file-preview-html" title="{caption}" {style}>{data}</div>\n',image:'<img src="{data}" class="file-preview-image kv-preview-data" title="{title}" alt="{alt}" {style}>\n',text:'<textarea class="kv-preview-data file-preview-text" title="{caption}" readonly {style}>{data}</textarea>\n',office:'<iframe class="kv-preview-data file-preview-office" src="https://view.officeapps.live.com/op/embed.aspx?src={data}" {style}></iframe>',gdocs:'<iframe class="kv-preview-data file-preview-gdocs" src="https://docs.google.com/gview?url={data}&embedded=true" {style}></iframe>',video:i,audio:n,flash:'<embed class="kv-preview-data file-preview-flash" src="{data}" type="application/x-shockwave-flash" {style}>\n',object:r,pdf:a,other:o},allowedPreviewTypes:["image","html","text","video","audio","flash","pdf","object"],previewTemplates:{},previewSettings:{image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:{width:"213px",height:"160px"},text:{width:"213px",height:"160px"},office:{width:"213px",height:"160px"},gdocs:{width:"213px",height:"160px"},video:{width:"213px",height:"160px"},audio:{width:"100%",height:"30px"},flash:{width:"213px",height:"160px"},object:{width:"213px",height:"160px"},pdf:{width:"100%",height:"160px",position:"relative"},other:{width:"213px",height:"160px"}},previewSettingsSmall:{image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:{width:"100%",height:"160px"},text:{width:"100%",height:"160px"},office:{width:"100%",height:"160px"},gdocs:{width:"100%",height:"160px"},video:{width:"100%",height:"auto"},audio:{width:"100%",height:"30px"},flash:{width:"100%",height:"auto"},object:{width:"100%",height:"auto"},pdf:{width:"100%",height:"160px"},other:{width:"100%",height:"160px"}},previewZoomSettings:{image:{width:"auto",height:"auto","max-width":"100%","max-height":"100%"},html:l,text:l,office:{width:"100%",height:"100%","max-width":"100%","min-height":"480px"},gdocs:{width:"100%",height:"100%","max-width":"100%","min-height":"480px"},video:{width:"auto",height:"100%","max-width":"100%"},audio:{width:"100%",height:"30px"},flash:{width:"auto",height:"480px"},object:{width:"auto",height:"100%","max-width":"100%","min-height":"480px"},pdf:l,other:{width:"auto",height:"100%","min-height":"480px"}},mimeTypeAliases:{"video/quicktime":"video/mp4"},fileTypeSettings:{image:function(e,t){return Q.compare(e,"image.*")&&!Q.compare(e,/(tiff?|wmf)$/i)||Q.compare(t,/\.(gif|png|jpe?g)$/i)},html:function(e,t){return Q.compare(e,"text/html")||Q.compare(t,/\.(htm|html)$/i)},office:function(e,t){return Q.compare(e,/(word|excel|powerpoint|office)$/i)||Q.compare(t,/\.(docx?|xlsx?|pptx?|pps|potx?)$/i)},gdocs:function(e,t){return Q.compare(e,/(word|excel|powerpoint|office|iwork-pages|tiff?)$/i)||Q.compare(t,/\.(docx?|xlsx?|pptx?|pps|potx?|rtf|ods|odt|pages|ai|dxf|ttf|tiff?|wmf|e?ps)$/i)},text:function(e,t){return Q.compare(e,"text.*")||Q.compare(t,/\.(xml|javascript)$/i)||Q.compare(t,/\.(txt|md|csv|nfo|ini|json|php|js|css)$/i)},video:function(e,t){return Q.compare(e,"video.*")&&(Q.compare(e,/(ogg|mp4|mp?g|mov|webm|3gp)$/i)||Q.compare(t,/\.(og?|mp4|webm|mp?g|mov|3gp)$/i))},audio:function(e,t){return Q.compare(e,"audio.*")&&(Q.compare(t,/(ogg|mp3|mp?g|wav)$/i)||Q.compare(t,/\.(og?|mp3|mp?g|wav)$/i))},flash:function(e,t){return Q.compare(e,"application/x-shockwave-flash",!0)||Q.compare(t,/\.(swf)$/i)},pdf:function(e,t){return Q.compare(e,"application/pdf",!0)||Q.compare(t,/\.(pdf)$/i)},object:function(){return!0},other:function(){return!0}},fileActionSettings:{showRemove:!0,showUpload:!0,showDownload:!0,showZoom:!0,showDrag:!0,removeIcon:'<i class="glyphicon glyphicon-trash"></i>',removeClass:"btn btn-sm btn-kv btn-default btn-outline-secondary",removeErrorClass:"btn btn-sm btn-kv btn-danger",removeTitle:"Remove file",uploadIcon:'<i class="glyphicon glyphicon-upload"></i>',uploadClass:"btn btn-sm btn-kv btn-default btn-outline-secondary",uploadTitle:"Upload file",uploadRetryIcon:'<i class="glyphicon glyphicon-repeat"></i>',uploadRetryTitle:"Retry upload",downloadIcon:'<i class="glyphicon glyphicon-download"></i>',downloadClass:"btn btn-sm btn-kv btn-default btn-outline-secondary",downloadTitle:"Download file",zoomIcon:'<i class="glyphicon glyphicon-zoom-in"></i>',zoomClass:"btn btn-sm btn-kv btn-default btn-outline-secondary",zoomTitle:"View Details",dragIcon:'<i class="glyphicon glyphicon-move"></i>',dragClass:"text-info",dragTitle:"Move / Rearrange",dragSettings:{},indicatorNew:'<i class="glyphicon glyphicon-plus-sign text-warning"></i>',indicatorSuccess:'<i class="glyphicon glyphicon-ok-sign text-success"></i>',indicatorError:'<i class="glyphicon glyphicon-exclamation-sign text-danger"></i>',indicatorLoading:'<i class="glyphicon glyphicon-hourglass text-muted"></i>',indicatorPaused:'<i class="glyphicon glyphicon-pause text-primary"></i>',indicatorNewTitle:"Not uploaded yet",indicatorSuccessTitle:"Uploaded",indicatorErrorTitle:"Upload Error",indicatorLoadingTitle:"Uploading ...",indicatorPausedTitle:"Upload Paused"}},X.each(u.defaults,function(e,t){"allowedPreviewTypes"!==e?u[e]=X.extend(!0,{},t,u[e]):void 0===u.allowedPreviewTypes&&(u.allowedPreviewTypes=t)}),u._initPreviewTemplates()},_initPreviewTemplates:function(){var i,n=this,r=n.previewMarkupTags,a=r.tagAfter;X.each(n.previewContentTemplates,function(e,t){Q.isEmpty(n.previewTemplates[e])&&(i=r.tagBefore2,"generic"!==e&&"image"!==e&&"html"!==e&&"text"!==e||(i=r.tagBefore1),n._isPdfRendered()&&"pdf"===e&&(i=i.replace("kv-file-content","kv-file-content kv-pdf-rendered")),n.previewTemplates[e]=i+t+a)})},_initPreviewCache:function(){var _=this;_.previewCache={data:{},init:function(){var e=_.initialPreview;0<e.length&&!Q.isArray(e)&&(e=e.split(_.initialPreviewDelimiter)),_.previewCache.data={content:e,config:_.initialPreviewConfig,tags:_.initialPreviewThumbTags}},count:function(e){return _.previewCache.data&&_.previewCache.data.content?e?_.previewCache.data.content.filter(function(e){return null!==e}).length:_.previewCache.data.content.length:0},get:function(e,t){function i(e,t,i,n,r,a,o,s){var l=" file-preview-initial "+Q.SORT_CSS+(o?" "+o:""),u=_.previewInitId+"-"+a,c=f&&f.fileId||u;return _._generatePreviewTemplate(e,t,i,n,u,c,!1,null,l,r,a,s,g,f&&f.zoomData||t)}var n,r,a,o,s,l,u,c=Q.INIT_FLAG+e,d=_.previewCache.data,f=d.config[e],p=d.content[e],h=Q.ifSet("previewAsData",f,_.initialPreviewAsData),g=f?{title:f.title||null,alt:f.alt||null}:{title:null,alt:null};return p&&p.length?(t=void 0===t||t,a=Q.ifSet("type",f,_.initialPreviewFileType||"generic"),s=Q.ifSet("filename",f,Q.ifSet("caption",f)),l=Q.ifSet("filetype",f,a),o=_.previewCache.footer(e,t,f&&f.size||null),u=Q.ifSet("frameClass",f),n=h?i(a,p,s,l,o,c,u):i("generic",p,s,l,o,c,u,a).setTokens({content:d.content[e]}),d.tags.length&&d.tags[e]&&(n=Q.replaceTags(n,d.tags[e])),Q.isEmpty(f)||Q.isEmpty(f.frameAttr)||((r=X(document.createElement("div")).html(n)).find(".file-preview-initial").attr(f.frameAttr),n=r.html(),r.remove()),n):""},clean:function(e){e.content=Q.cleanArray(e.content),e.config=Q.cleanArray(e.config),e.tags=Q.cleanArray(e.tags),_.previewCache.data=e},add:function(e,t,i,n){var r,a=_.previewCache.data;return e&&e.length?(r=e.length-1,Q.isArray(e)||(e=e.split(_.initialPreviewDelimiter)),n&&a.content&&a.content.length?(r=a.content.push(e[0])-1,a.config[r]=t,a.tags[r]=i):(a.content=e,a.config=t,a.tags=i),_.previewCache.clean(a),r):0},set:function(e,t,i,n){var r,a=_.previewCache.data;if(e&&e.length&&(Q.isArray(e)||(e=e.split(_.initialPreviewDelimiter)),e.filter(function(e){return null!==e}).length)){if(void 0===a.content&&(a.content=[]),void 0===a.config&&(a.config=[]),void 0===a.tags&&(a.tags=[]),n){for(r=0;r<e.length;r++)e[r]&&a.content.push(e[r]);for(r=0;r<t.length;r++)t[r]&&a.config.push(t[r]);for(r=0;r<i.length;r++)i[r]&&a.tags.push(i[r])}else a.content=e,a.config=t,a.tags=i;_.previewCache.clean(a)}},unset:function(e){var t=_.previewCache.count(),i=_.reversePreviewOrder;if(t){if(1===t)return _.previewCache.data.content=[],_.previewCache.data.config=[],_.previewCache.data.tags=[],_.initialPreview=[],_.initialPreviewConfig=[],void(_.initialPreviewThumbTags=[]);_.previewCache.data.content=Q.spliceArray(_.previewCache.data.content,e,i),_.previewCache.data.config=Q.spliceArray(_.previewCache.data.config,e,i),_.previewCache.data.tags=Q.spliceArray(_.previewCache.data.tags,e,i);var n=X.extend(!0,{},_.previewCache.data);_.previewCache.clean(n)}},out:function(){var e,t,i="",n=_.previewCache.count();if(0===n)return{content:"",caption:""};for(e=0;e<n;e++)t=_.previewCache.get(e),i=_.reversePreviewOrder?t+i:i+t;return{content:i,caption:_._getMsgSelected(n)}},footer:function(e,t,i){var n=_.previewCache.data||{};if(Q.isEmpty(n.content))return"";(Q.isEmpty(n.config)||Q.isEmpty(n.config[e]))&&(n.config[e]={}),t=void 0===t||t;var r,a=n.config[e],o=Q.ifSet("caption",a),s=Q.ifSet("width",a,"auto"),l=Q.ifSet("url",a,!1),u=Q.ifSet("key",a,null),c=Q.ifSet("fileId",a,null),d=_.fileActionSettings,f=_.initialPreviewShowDelete||!1,p=_.initialPreviewDownloadUrl?_.initialPreviewDownloadUrl+"?key="+u+(c?"&fileId="+c:""):"",h=a.downloadUrl||p,g=a.filename||a.caption||"",m=!!h,v=Q.ifSet("showRemove",a,f),b=Q.ifSet("showDownload",a,Q.ifSet("showDownload",d,m)),y=Q.ifSet("showZoom",a,Q.ifSet("showZoom",d,!0)),w=Q.ifSet("showDrag",a,Q.ifSet("showDrag",d,!0)),x=!1===l&&t;return b=b&&!1!==a.downloadUrl&&!!h,r=_._renderFileActions(a,!1,b,v,y,w,x,l,u,!0,h,g),_._getLayoutTemplate("footer").setTokens({progress:_._renderThumbProgress(),actions:r,caption:o,size:_._getSize(i),width:s,indicator:""})}},_.previewCache.init()},_isPdfRendered:function(){var e=this.usePdfRenderer;return("function"==typeof e?e():!!e)&&this.pdfRendererUrl},_handler:function(e,t,i){var n=this.namespace,r=t.split(" ").join(n+" ")+n;e&&e.length&&e.off(r).on(r,i)},_encodeURI:function(e){return this.encodeUrl?encodeURI(e):e},_log:function(e,t){var i=this.$element.attr("id");this.showConsoleLogs&&(i&&(e='"'+i+'": '+e),e="bootstrap-fileinput: "+e,"object"==typeof t&&(e=e.setTokens(t)),window.console&&void 0!==window.console.log?window.console.log(e):window.alert(e))},_validate:function(){var e="file"===this.$element.attr("type");return e||this._log(Q.logMessages.badInputType),e},_errorsExist:function(){var e;return!!this.$errorContainer.find("li").length||((e=X(document.createElement("div")).html(this.$errorContainer.html())).find(".kv-error-close").remove(),e.find("ul").remove(),!!X.trim(e.text()).length)},_errorHandler:function(e,t){function i(e){n._showError(e.replace("{name}",t))}var n=this,r=e.target.error;r.code===r.NOT_FOUND_ERR?i(n.msgFileNotFound):r.code===r.SECURITY_ERR?i(n.msgFileSecured):r.code===r.NOT_READABLE_ERR?i(n.msgFileNotReadable):r.code===r.ABORT_ERR?i(n.msgFilePreviewAborted):i(n.msgFilePreviewError)},_addError:function(e){var t=this,i=t.$errorContainer;e&&i.length&&(i.html(t.errorCloseButton+e),t._handler(i.find(".kv-error-close"),"click",function(){setTimeout(function(){t.showPreview&&!t.getFrames().length&&t.clear(),i.fadeOut("slow")},t.processDelay)}))},_setValidationError:function(e){e=(e?e+" ":"")+"has-error",this.$container.removeClass(e).addClass("has-error"),Q.addCss(this.$captionContainer,"is-invalid")},_resetErrors:function(e){var t=this.$errorContainer;this.isError=!1,this.$container.removeClass("has-error"),this.$captionContainer.removeClass("is-invalid"),t.html(""),e?t.fadeOut("slow"):t.hide()},_showFolderError:function(e){var t,i=this,n=i.$errorContainer;e&&(i.isAjaxUpload||i._clearFileInput(),t=i.msgFoldersNotAllowed.replace("{n}",e),i._addError(t),i._setValidationError(),n.fadeIn(i.fadeDelay),i._raise("filefoldererror",[e,t]))},_showFileError:function(e,t,i){var n=this,r=n.$errorContainer,a=i||"fileuploaderror",o=t&&t.fileId||"",s=t&&t.id?'<li data-thumb-id="'+t.id+'" data-file-id="'+o+'">'+e+"</li>":"<li>"+e+"</li>";return 0===r.find("ul").length?n._addError("<ul>"+s+"</ul>"):r.find("ul").append(s),r.fadeIn(n.fadeDelay),n._raise(a,[t,e]),n._setValidationError("file-input-new"),!0},_showError:function(e,t,i){var n=this,r=n.$errorContainer,a=i||"fileerror";return(t=t||{}).reader=n.reader,n._addError(e),r.fadeIn(n.fadeDelay),n._raise(a,[t,e]),n.isAjaxUpload||n._clearFileInput(),n._setValidationError("file-input-new"),n.$btnUpload.attr("disabled",!0),!0},_noFilesError:function(e){var t=this,i=1<t.minFileCount?t.filePlural:t.fileSingle,n=t.msgFilesTooLess.replace("{n}",t.minFileCount).replace("{files}",i),r=t.$errorContainer;n="<li>"+n+"</li>",0===r.find("ul").length?t._addError("<ul>"+n+"</ul>"):r.find("ul").append(n),t.isError=!0,t._updateFileDetails(0),r.fadeIn(t.fadeDelay),t._raise("fileerror",[e,n]),t._clearFileInput(),t._setValidationError()},_parseError:function(e,t,i,n){var r,a=this,o=X.trim(i+""),s=void 0!==t.responseJSON&&void 0!==t.responseJSON.error?t.responseJSON.error:t.responseText;return a.cancelling&&a.msgUploadAborted&&(o=a.msgUploadAborted),a.showAjaxErrorDetails&&s&&(r=(s=X.trim(s.replace(/\n\s*\n/g,"\n"))).length?"<pre>"+s+"</pre>":"",o+=o?r:s),o=o||a.msgAjaxError.replace("{operation}",e),a.cancelling=!1,n?"<b>"+n+": </b>"+o:o},_parseFileType:function(e,t){var i,n,r,a=this.allowedPreviewTypes||[];if("application/text-plain"===e)return"text";for(r=0;r<a.length;r++)if(n=a[r],i=(0,this.fileTypeSettings[n])(e,t)?n:"",!Q.isEmpty(i))return i;return"other"},_getPreviewIcon:function(e){var i,n=this,r=null;return e&&-1<e.indexOf(".")&&(i=e.split(".").pop(),n.previewFileIconSettings&&(r=n.previewFileIconSettings[i]||n.previewFileIconSettings[i.toLowerCase()]||null),n.previewFileExtSettings&&X.each(n.previewFileExtSettings,function(e,t){n.previewFileIconSettings[e]&&t(i)&&(r=n.previewFileIconSettings[e])})),r||n.previewFileIcon},_parseFilePreviewIcon:function(e,t){var i=this._getPreviewIcon(t),n=e;return-1<n.indexOf("{previewFileIcon}")&&(n=n.setTokens({previewFileIconClass:this.previewFileIconClass,previewFileIcon:i})),n},_raise:function(e,t){var i=X.Event(e);if(void 0!==t?this.$element.trigger(i,t):this.$element.trigger(i),i.isDefaultPrevented()||!1===i.result)return!1;switch(e){case"filebatchuploadcomplete":case"filebatchuploadsuccess":case"fileuploaded":case"fileclear":case"filecleared":case"filereset":case"fileerror":case"filefoldererror":case"fileuploaderror":case"filebatchuploaderror":case"filedeleteerror":case"filecustomerror":case"filesuccessremove":break;default:this.ajaxAborted||(this.ajaxAborted=i.result)}return!0},_listenFullScreen:function(e){var t,i,n=this.$modal;n&&n.length&&(t=n&&n.find(".btn-fullscreen"),i=n&&n.find(".btn-borderless"),t.length&&i.length&&(t.removeClass("active").attr("aria-pressed","false"),i.removeClass("active").attr("aria-pressed","false"),e?t.addClass("active").attr("aria-pressed","true"):i.addClass("active").attr("aria-pressed","true"),n.hasClass("file-zoom-fullscreen")||e?this._maximizeZoomDialog():i.removeClass("active").attr("aria-pressed","false")))},_listen:function(){var e=this,t=e.$element,i=e.$form,n=e.$container;e._handler(t,"click",function(e){t.hasClass("file-no-browse")&&(t.data("zoneClicked")?t.data("zoneClicked",!1):e.preventDefault())}),e._handler(t,"change",X.proxy(e._change,e)),e.showBrowse&&e._handler(e.$btnFile,"click",X.proxy(e._browse,e)),e._handler(n.find(".fileinput-remove:not([disabled])"),"click",X.proxy(e.clear,e)),e._handler(n.find(".fileinput-cancel"),"click",X.proxy(e.cancel,e)),e._handler(n.find(".fileinput-pause"),"click",X.proxy(e.pause,e)),e._initDragDrop(),e._handler(i,"reset",X.proxy(e.clear,e)),e.isAjaxUpload||e._handler(i,"submit",X.proxy(e._submitForm,e)),e._handler(e.$container.find(".fileinput-upload"),"click",X.proxy(e._uploadClick,e)),e._handler(X(window),"resize",function(){e._listenFullScreen(screen.width===window.innerWidth&&screen.height===window.innerHeight)}),e._handler(X(document),"webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",function(){e._listenFullScreen(Q.checkFullScreen())}),e._autoFitContent(),e._initClickable(),e._refreshPreview()},_autoFitContent:function(){var i,e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,n=this,t=e<400?n.previewSettingsSmall||n.defaults.previewSettingsSmall:n.previewSettings||n.defaults.previewSettings;X.each(t,function(e,t){i=".file-preview-frame .file-preview-"+e,n.$preview.find(i+".kv-preview-data,"+i+" .kv-preview-data").css(t)})},_scanDroppedItems:function(t,i,n){n=n||"";function e(e){s._log(Q.logMessages.badDroppedFiles),s._log(e)}var r,a,o,s=this;t.isFile?t.file(function(e){i.push(e)},e):t.isDirectory&&(a=t.createReader(),(o=function(){a.readEntries(function(e){if(e&&0<e.length){for(r=0;r<e.length;r++)s._scanDroppedItems(e[r],i,n+t.name+"/");o()}return null},e)})())},_initDragDrop:function(){var e=this,t=e.$dropZone;e.dropZoneEnabled&&e.showPreview&&(e._handler(t,"dragenter dragover",X.proxy(e._zoneDragEnter,e)),e._handler(t,"dragleave",X.proxy(e._zoneDragLeave,e)),e._handler(t,"drop",X.proxy(e._zoneDrop,e)),e._handler(X(document),"dragenter dragover drop",e._zoneDragDropInit))},_zoneDragDropInit:function(e){e.stopPropagation(),e.preventDefault()},_zoneDragEnter:function(e){var t=e.originalEvent.dataTransfer,i=-1<X.inArray("Files",t.types);if(this._zoneDragDropInit(e),this.isDisabled||!i)return e.originalEvent.dataTransfer.effectAllowed="none",void(e.originalEvent.dataTransfer.dropEffect="none");this._raise("fileDragEnter",{sourceEvent:e,files:t.types.Files})&&Q.addCss(this.$dropZone,"file-highlighted")},_zoneDragLeave:function(e){this._zoneDragDropInit(e),this.isDisabled||this._raise("fileDragLeave",{sourceEvent:e})&&this.$dropZone.removeClass("file-highlighted")},_zoneDrop:function(e){function t(){n.isAjaxUpload?n._change(e,o):(n.changeTriggered=!0,r.get(0).files=o,setTimeout(function(){n.changeTriggered=!1,r.trigger("change"+n.namespace)},n.processDelay)),n.$dropZone.removeClass("file-highlighted")}var i,n=this,r=n.$element,a=e.originalEvent.dataTransfer,o=a.files,s=a.items,l=Q.getDragDropFolders(s);if(e.preventDefault(),!n.isDisabled&&!Q.isEmpty(o)&&n._raise("fileDragDrop",{sourceEvent:e,files:o}))if(0<l){if(!n.isAjaxUpload)return void n._showFolderError(l);for(o=[],i=0;i<s.length;i++){var u=s[i].webkitGetAsEntry();u&&n._scanDroppedItems(u,o)}setTimeout(function(){t()},500)}else t()},_uploadClick:function(e){var t,i=this.$container.find(".fileinput-upload"),n=!i.hasClass("disabled")&&Q.isEmpty(i.attr("disabled"));e&&e.isDefaultPrevented()||(this.isAjaxUpload?(e.preventDefault(),n&&this.upload()):n&&"submit"!==i.attr("type")&&((t=i.closest("form")).length&&t.trigger("submit"),e.preventDefault()))},_submitForm:function(){return this._isFileSelectionValid()&&!this._abort({})},_clearPreview:function(){var n=this;(n.showUploadedThumbs?n.getFrames(":not(.file-preview-success)"):n.getFrames()).each(function(){var e=X(this),t=e.attr("id"),i=n._getZoom(t);e.remove(),Q.cleanZoomCache(i)}),n.getFrames().length&&n.showPreview||n._resetUpload(),n._validateDefaultPreview()},_initSortable:function(){var e,r=this,t=r.$preview,i="."+Q.SORT_CSS,a=r.reversePreviewOrder;window.KvSortable&&0!==t.find(i).length&&(e={handle:".drag-handle-init",dataIdAttr:"data-preview-id",scroll:!1,draggable:i,onSort:function(e){var t=e.oldIndex,i=e.newIndex,n=0;r.initialPreview=Q.moveArray(r.initialPreview,t,i,a),r.initialPreviewConfig=Q.moveArray(r.initialPreviewConfig,t,i,a),r.previewCache.init(),r.getFrames(".file-preview-initial").each(function(){X(this).attr("data-fileindex",Q.INIT_FLAG+n),n++}),r._raise("filesorted",{previewId:X(e.item).attr("id"),oldIndex:t,newIndex:i,stack:r.initialPreviewConfig})}},t.data("kvsortable")&&t.kvsortable("destroy"),X.extend(!0,e,r.fileActionSettings.dragSettings),t.kvsortable(e))},_setPreviewContent:function(e){this.$preview.html(e),this._autoFitContent()},_initPreviewImageOrientations:function(){var a=this,o=0;a.autoOrientImageInitial&&a.getFrames(".file-preview-initial").each(function(){var e,t,i,n=X(this),r=a.initialPreviewConfig[o];r&&r.exif&&r.exif.Orientation&&(i=n.attr("id"),e=n.find(">.kv-file-content img"),t=a._getZoom(i," >.kv-file-content img"),a.setImageOrientation(e,t,r.exif.Orientation,n)),o++})},_initPreview:function(e){var t,i=this,n=i.initialCaption||"";if(!i.previewCache.count(!0))return i._clearPreview(),void(e?i._setCaption(n):i._initCaption());t=i.previewCache.out(),n=e&&i.initialCaption?i.initialCaption:t.caption,i._setPreviewContent(t.content),i._setInitThumbAttr(),i._setCaption(n),i._initSortable(),Q.isEmpty(t.content)||i.$container.removeClass("file-input-new"),i._initPreviewImageOrientations()},_getZoomButton:function(e){var t=this.previewZoomButtonIcons[e],i=this.previewZoomButtonClasses[e],n=' title="'+(this.previewZoomButtonTitles[e]||"")+'" '+("close"===e?' data-dismiss="modal" aria-hidden="true"':"");return"fullscreen"!==e&&"borderless"!==e&&"toggleheader"!==e||(n+=' data-toggle="button" aria-pressed="false" autocomplete="off"'),'<button type="button" class="'+i+" btn-"+e+'"'+n+">"+t+"</button>"},_getModalContent:function(){var e=this;return e._getLayoutTemplate("modal").setTokens({rtl:e.rtl?" kv-rtl":"",zoomFrameClass:e.frameClass,heading:e.msgZoomModalHeading,prev:e._getZoomButton("prev"),next:e._getZoomButton("next"),toggleheader:e._getZoomButton("toggleheader"),fullscreen:e._getZoomButton("fullscreen"),borderless:e._getZoomButton("borderless"),close:e._getZoomButton("close")})},_listenModalEvent:function(n){var r=this,a=r.$modal;a.on(n+".bs.modal",function(e){var t=a.find(".btn-fullscreen"),i=a.find(".btn-borderless");r._raise("filezoom"+n,{sourceEvent:e,previewId:a.data("previewId"),modal:a}),"shown"===n&&(i.removeClass("active").attr("aria-pressed","false"),t.removeClass("active").attr("aria-pressed","false"),a.hasClass("file-zoom-fullscreen")&&(r._maximizeZoomDialog(),Q.checkFullScreen()?t.addClass("active").attr("aria-pressed","true"):i.addClass("active").attr("aria-pressed","true")))})},_initZoom:function(){var e,i=this,t=i._getLayoutTemplate("modalMain"),n="#"+Q.MODAL_ID;i.showPreview&&(i.$modal=X(n),i.$modal&&i.$modal.length||(e=X(document.createElement("div")).html(t).insertAfter(i.$container),i.$modal=X(n).insertBefore(e),e.remove()),Q.initModal(i.$modal),i.$modal.html(i._getModalContent()),X.each(Q.MODAL_EVENTS,function(e,t){i._listenModalEvent(t)}))},_initZoomButtons:function(){var e,t,i=this.$modal.data("previewId")||"",n=this.getFrames().toArray(),r=n.length,a=this.$modal.find(".btn-prev"),o=this.$modal.find(".btn-next");if(n.length<2)return a.hide(),void o.hide();a.show(),o.show(),r&&(e=X(n[0]),t=X(n[r-1]),a.removeAttr("disabled"),o.removeAttr("disabled"),e.length&&e.attr("id")===i&&a.attr("disabled",!0),t.length&&t.attr("id")===i&&o.attr("disabled",!0))},_maximizeZoomDialog:function(){var e=this.$modal,t=e.find(".modal-header:visible"),i=e.find(".modal-footer:visible"),n=e.find(".modal-body"),r=X(window).height();e.addClass("file-zoom-fullscreen"),t&&t.length&&(r-=t.outerHeight(!0)),i&&i.length&&(r-=i.outerHeight(!0)),n&&n.length&&(r-=n.outerHeight(!0)-n.height()),e.find(".kv-zoom-body").height(r)},_resizeZoomDialog:function(e){var t=this,i=t.$modal,n=i.find(".btn-fullscreen"),r=i.find(".btn-borderless");if(i.hasClass("file-zoom-fullscreen"))Q.toggleFullScreen(!1),e?n.hasClass("active")||(i.removeClass("file-zoom-fullscreen"),t._resizeZoomDialog(!0),r.hasClass("active")&&r.removeClass("active").attr("aria-pressed","false")):n.hasClass("active")?n.removeClass("active").attr("aria-pressed","false"):(i.removeClass("file-zoom-fullscreen"),t.$modal.find(".kv-zoom-body").css("height",t.zoomModalHeight));else{if(!e)return void t._maximizeZoomDialog();Q.toggleFullScreen(!0)}i.focus()},_setZoomContent:function(e,t){var i,n,r,a,o,s,l,u,c=this,d=e.attr("id"),f=c._getZoom(d),p=c.$modal,h=p.find(".btn-fullscreen"),g=p.find(".btn-borderless"),m=p.find(".btn-toggleheader");n=f.attr("data-template")||"generic",r=(i=f.find(".kv-file-content")).length?i.html():"",a=(e.data("caption")||"")+" "+(e.data("size")||""),p.find(".kv-zoom-title").attr("title",X("<div/>").html(a).text()).html(a),o=p.find(".kv-zoom-body"),p.removeClass("kv-single-content"),t?(u=o.addClass("file-thumb-loading").clone().insertAfter(o),o.html(r).hide(),u.fadeOut("fast",function(){o.fadeIn("fast",function(){o.removeClass("file-thumb-loading")}),u.remove()})):o.html(r),(l=c.previewZoomSettings[n])&&(s=o.find(".kv-preview-data"),Q.addCss(s,"file-zoom-detail"),X.each(l,function(e,t){s.css(e,t),(s.attr("width")&&"width"===e||s.attr("height")&&"height"===e)&&s.removeAttr(e)})),p.data("previewId",d),c._handler(p.find(".btn-prev"),"click",function(){c._zoomSlideShow("prev",d)}),c._handler(p.find(".btn-next"),"click",function(){c._zoomSlideShow("next",d)}),c._handler(h,"click",function(){c._resizeZoomDialog(!0)}),c._handler(g,"click",function(){c._resizeZoomDialog(!1)}),c._handler(m,"click",function(){function e(e){var t=c.$modal.find(".kv-zoom-body"),i=c.zoomModalHeight;p.hasClass("file-zoom-fullscreen")&&(i=t.outerHeight(!0),e||(i-=n.outerHeight(!0))),t.css("height",e?i+e:i)}var t,n=p.find(".modal-header"),i=p.find(".modal-body .floating-buttons"),r=n.find(".kv-zoom-actions");n.is(":visible")?(t=n.outerHeight(!0),n.slideUp("slow",function(){r.find(".btn").appendTo(i),e(t)})):(i.find(".btn").appendTo(r),n.slideDown("slow",function(){e()})),p.focus()}),c._handler(p,"keydown",function(e){var t=e.which||e.keyCode,i=X(this).find(".btn-prev"),n=X(this).find(".btn-next"),r=X(this).data("previewId"),a=c.rtl?39:37,o=c.rtl?37:39;t===a&&i.length&&!i.attr("disabled")&&c._zoomSlideShow("prev",r),t===o&&n.length&&!n.attr("disabled")&&c._zoomSlideShow("next",r)})},_zoomPreview:function(e){var t,i=this.$modal;if(!e.length)throw"Cannot zoom to detailed preview!";Q.initModal(i),i.html(this._getModalContent()),t=e.closest(Q.FRAMES),this._setZoomContent(t),i.modal("show"),this._initZoomButtons()},_zoomSlideShow:function(e,t){var i,n,r,a,o=this,s=o.$modal.find(".kv-zoom-actions .btn-"+e),l=o.getFrames().toArray(),u=[],c=l.length;if(!s.attr("disabled")){for(n=0;n<c;n++)(r=X(l[n]))&&r.length&&r.find(".kv-file-zoom:visible").length&&u.push(l[n]);for(c=u.length,n=0;n<c;n++)if(X(u[n]).attr("id")===t){a="prev"===e?n-1:n+1;break}a<0||c<=a||!u[a]||((i=X(u[a])).length&&o._setZoomContent(i,!0),o._initZoomButtons(),o._raise("filezoom"+e,{previewId:t,modal:o.$modal}))}},_initZoomButton:function(){var t=this;t.$preview.find(".kv-file-zoom").each(function(){var e=X(this);t._handler(e,"click",function(){t._zoomPreview(e)})})},_inputFileCount:function(){return this.$element.get(0).files.length},_refreshPreview:function(){var e,t=this;(t._inputFileCount()||t.isAjaxUpload)&&t.showPreview&&t.isPreviewable&&(t.isAjaxUpload&&0<t.fileManager.count()?(e=X.extend(!0,{},t.fileManager.stack),t.fileManager.clear(),t._clearFileInput()):e=t.$element.get(0).files,e&&e.length&&(t.readFiles(e),t._setFileDropZoneTitle()))},_clearObjects:function(e){e.find("video audio").each(function(){this.pause(),X(this).remove()}),e.find("img object div").each(function(){X(this).remove()})},_clearFileInput:function(){var e,t,i,n=this.$element;this._inputFileCount()&&(e=n.closest("form"),t=X(document.createElement("form")),i=X(document.createElement("div")),n.before(i),e.length?e.after(t):i.after(t),t.append(n).trigger("reset"),i.before(n).remove(),t.remove())},_resetUpload:function(){var e=this;e.uploadCache=[],e.$btnUpload.removeAttr("disabled"),e._setProgress(0),e._hideProgress(),e._resetErrors(!1),e._initAjax(),e.fileManager.clearImages(),e._resetCanvas(),e.overwriteInitial&&(e.initialPreview=[],e.initialPreviewConfig=[],e.initialPreviewThumbTags=[],e.previewCache.data={content:[],config:[],tags:[]})},_resetCanvas:function(){var e=this;e.canvas&&e.imageCanvasContext&&e.imageCanvasContext.clearRect(0,0,e.canvas.width,e.canvas.height)},_hasInitialPreview:function(){return!this.overwriteInitial&&this.previewCache.count(!0)},_resetPreview:function(){var e,t,i=this;i.previewCache.count(!0)?(e=i.previewCache.out(),i._setPreviewContent(e.content),i._setInitThumbAttr(),t=i.initialCaption?i.initialCaption:e.caption,i._setCaption(t)):(i._clearPreview(),i._initCaption()),i.showPreview&&(i._initZoom(),i._initSortable())},_clearDefaultPreview:function(){this.$preview.find(".file-default-preview").remove()},_validateDefaultPreview:function(){var e=this;e.showPreview&&!Q.isEmpty(e.defaultPreviewContent)&&(e._setPreviewContent('<div class="file-default-preview">'+e.defaultPreviewContent+"</div>"),e.$container.removeClass("file-input-new"),e._initClickable())},_resetPreviewThumbs:function(e){var t,i=this;if(e)return i._clearPreview(),void i.clearFileStack();i._hasInitialPreview()?(t=i.previewCache.out(),i._setPreviewContent(t.content),i._setInitThumbAttr(),i._setCaption(t.caption),i._initPreviewActions()):i._clearPreview()},_getLayoutTemplate:function(e){var t=this.layoutTemplates[e];return Q.isEmpty(this.customLayoutTags)?t:Q.replaceTags(t,this.customLayoutTags)},_getPreviewTemplate:function(e){var t=this.previewTemplates,i=t[e]||t.other;return Q.isEmpty(this.customPreviewTags)?i:Q.replaceTags(i,this.customPreviewTags)},_getOutData:function(e,t,i,n){var r=this;return t=t||{},i=i||{},{formdata:e,files:n=n||r.fileManager.list(),filenames:r.filenames,filescount:r.getFilesCount(),extra:r._getExtraData(),response:i,reader:r.reader,jqXHR:t}},_getMsgSelected:function(e){var t=1===e?this.fileSingle:this.filePlural;return 0<e?this.msgSelected.replace("{n}",e).replace("{files}",t):this.msgNoFilesSelected},_getFrame:function(e,t){var i=Q.getFrameElement(this.$preview,e);return!this.showPreview||t||i.length||this._log(Q.logMessages.invalidThumb,{id:e}),i},_getZoom:function(e,t){var i=Q.getZoomElement(this.$preview,e,t);return this.showPreview&&!i.length&&this._log(Q.logMessages.invalidThumb,{id:e}),i},_getThumbs:function(e){return e=e||"",this.getFrames(":not(.file-preview-initial)"+e)},_getThumbId:function(e){return this.previewInitId+"-"+e},_getExtraData:function(e,t){var i=this.uploadExtraData;return"function"==typeof this.uploadExtraData&&(i=this.uploadExtraData(e,t)),i},_initXhr:function(e,a,o){var s=this,l=s.fileManager,t=function(e){var t=0,i=e.total,n=e.loaded||e.position,r=l.getUploadStats(a,n,i);e.lengthComputable&&!s.enableResumableUpload&&(t=Q.round(n/i*100)),a?s._setFileUploadStats(a,t,o,r):s._setProgress(t,null,null,s._getStats(r)),s._raise("fileajaxprogress",[r])};return e.upload&&(s.progressDelay&&(t=Q.debounce(t,s.progressDelay)),e.upload.addEventListener("progress",t,!1)),e},_initAjaxSettings:function(){this._ajaxSettings=X.extend(!0,{},this.ajaxSettings),this._ajaxDeleteSettings=X.extend(!0,{},this.ajaxDeleteSettings)},_mergeAjaxCallback:function(e,t,i){var n,r=this._ajaxSettings,a=this.mergeAjaxCallbacks;"delete"===i&&(r=this._ajaxDeleteSettings,a=this.mergeAjaxDeleteCallbacks),n=r[e],r[e]=a&&"function"==typeof n?"before"===a?function(){n.apply(this,arguments),t.apply(this,arguments)}:function(){t.apply(this,arguments),n.apply(this,arguments)}:t},_ajaxSubmit:function(e,t,i,n,r,a,o,s){var l,u,c,d,f=this;f._raise("filepreajax",[r,a,o])&&(r.append("initialPreview",JSON.stringify(f.initialPreview)),r.append("initialPreviewConfig",JSON.stringify(f.initialPreviewConfig)),r.append("initialPreviewThumbTags",JSON.stringify(f.initialPreviewThumbTags)),f._initAjaxSettings(),f._mergeAjaxCallback("beforeSend",e),f._mergeAjaxCallback("success",t),f._mergeAjaxCallback("complete",i),f._mergeAjaxCallback("error",n),"function"==typeof(s=s||f.uploadUrlThumb||f.uploadUrl)&&(s=s()),"object"==typeof(c=f._getExtraData(a,o)||{})&&X.each(c,function(e,t){r.append(e,t)}),u={xhr:function(){var e=X.ajaxSettings.xhr();return f._initXhr(e,a,f.fileManager.count())},url:f._encodeURI(s),type:"POST",dataType:"json",data:r,cache:!1,processData:!1,contentType:!1},l=X.extend(!0,{},u,f._ajaxSettings),f.ajaxQueue.push(l),d=function(){var e,t;f.ajaxCurrentThreads<f.maxAjaxThreads&&void 0!==(e=f.ajaxQueue.shift())&&(f.ajaxCurrentThreads++,t=X.ajax(e).done(function(){clearInterval(f.ajaxQueueIntervalId),f.ajaxCurrentThreads--}),f.ajaxRequests.push(t))},f.ajaxQueueIntervalId=setInterval(d,f.queueDelay))},_mergeArray:function(e,t){var i=Q.cleanArray(this[e]),n=Q.cleanArray(t);this[e]=i.concat(n)},_initUploadSuccess:function(e,t,i){var n,r,a,o,s,l,u,c,d,f,p=this;p.showPreview&&"object"==typeof e&&!X.isEmptyObject(e)&&void 0!==e.initialPreview&&0<e.initialPreview.length&&(p.hasInitData=!0,l=e.initialPreview||[],u=e.initialPreviewConfig||[],c=e.initialPreviewThumbTags||[],n=void 0===e.append||e.append,0<l.length&&!Q.isArray(l)&&(l=l.split(p.initialPreviewDelimiter)),l.length&&(p._mergeArray("initialPreview",l),p._mergeArray("initialPreviewConfig",u),p._mergeArray("initialPreviewThumbTags",c)),void 0!==t?i?(d=t.attr("id"),null!==(f=p._getUploadCacheIndex(d))&&(p.uploadCache[f]={id:d,content:l[0],config:u[0]||[],tags:c[0]||[],append:n})):(a=p.previewCache.add(l[0],u[0],c[0],n),r=p.previewCache.get(a,!1),(s=(o=X(document.createElement("div")).html(r).hide().insertAfter(t)).find(".kv-zoom-cache"))&&s.length&&s.insertAfter(t),t.fadeOut("slow",function(){var e=o.find(".file-preview-frame");e&&e.length&&e.insertBefore(t).fadeIn("slow").css("display:inline-block"),p._initPreviewActions(),p._clearFileInput(),Q.cleanZoomCache(p._getZoom(t.attr("id"))),t.remove(),o.remove(),p._initSortable()})):(p.previewCache.set(l,u,c,n),p._initPreview(),p._initPreviewActions())),p._resetCaption()},_getUploadCacheIndex:function(e){var t,i=this.uploadCache.length;for(t=0;t<i;t++)if(this.uploadCache[t].id===e)return t;return null},_initSuccessThumbs:function(){var n=this;n.showPreview&&n._getThumbs(Q.FRAMES+".file-preview-success").each(function(){var i=X(this),e=i.find(".kv-file-remove");e.removeAttr("disabled"),n._handler(e,"click",function(){var e=i.attr("id"),t=n._raise("filesuccessremove",[e,i.attr("data-fileindex")]);Q.cleanMemory(i),!1!==t&&i.fadeOut("slow",function(){Q.cleanZoomCache(n._getZoom(e)),i.remove(),n.getFrames().length||n.reset()})})})},_updateInitialPreview:function(){var i=this,e=i.uploadCache;i.showPreview&&(X.each(e,function(e,t){i.previewCache.add(t.content,t.config,t.tags,t.append)}),i.hasInitData&&(i._initPreview(),i._initPreviewActions()))},_uploadSingle:function(r,a,o){var s,l,e,u,t,c,d,i,f,n,p,h,g,m=this,v=m.fileManager,b=v.count(),y=new FormData,w=m._getThumbId(a),x=0<b||!X.isEmptyObject(m.uploadExtraData),_=m.ajaxOperations.uploadThumb,C=v.getFile(a),T={id:w,index:r,fileId:a},E=m.fileManager.getFileName(a,!0);m.enableResumableUpload||(m.showPreview&&(l=m.fileManager.getThumb(a),d=l.find(".file-thumb-progress"),u=l.find(".kv-file-upload"),t=l.find(".kv-file-remove"),d.show()),0===b||!x||m.showPreview&&u&&u.hasClass("disabled")||m._abort(T)||(g=function(){c?v.errors.push(a):v.removeFile(a),v.setProcessed(a),v.isProcessed()&&(m.fileBatchCompleted=!0)},e=function(){var i;m.fileBatchCompleted&&setTimeout(function(){var e=0===v.count(),t=v.errors.length;m._updateInitialPreview(),m.unlock(e),e&&m._clearFileInput(),i=m.$preview.find(".file-preview-initial"),m.uploadAsync&&i.length&&(Q.addCss(i,Q.SORT_CSS),m._initSortable()),m._raise("filebatchuploadcomplete",[v.stack,m._getExtraData()]),m.retryErrorUploads&&0!==t||v.clear(),m._setProgress(101),m.ajaxAborted=!1},m.processDelay)},i=function(e){s=m._getOutData(y,e),v.initStats(a),m.fileBatchCompleted=!1,o||(m.ajaxAborted=!1),m.showPreview&&(l.hasClass("file-preview-success")||(m._setThumbStatus(l,"Loading"),Q.addCss(l,"file-uploading")),u.attr("disabled",!0),t.attr("disabled",!0)),o||m.lock(),-1!==v.errors.indexOf(a)&&delete v.errors[a],m._raise("filepreupload",[s,w,r]),X.extend(!0,T,s),m._abort(T)&&(e.abort(),o||(m._setThumbStatus(l,"New"),l.removeClass("file-uploading"),u.removeAttr("disabled"),t.removeAttr("disabled"),m.unlock()),m._setProgressCancelled())},n=function(e,t,i){var n=m.showPreview&&l.attr("id")?l.attr("id"):w;s=m._getOutData(y,i,e),X.extend(!0,T,s),setTimeout(function(){Q.isEmpty(e)||Q.isEmpty(e.error)?(m.showPreview&&(m._setThumbStatus(l,"Success"),u.hide(),m._initUploadSuccess(e,l,o),m._setProgress(101,d)),m._raise("fileuploaded",[s,n,r]),o?g():m.fileManager.remove(l)):(c=!0,f=m._parseError(_,i,m.msgUploadError,m.fileManager.getFileName(a)),m._showFileError(f,T),m._setPreviewError(l,!0),m.retryErrorUploads||u.hide(),o&&g(),m._setProgress(101,m._getFrame(n).find(".file-thumb-progress"),m.msgUploadError))},m.processDelay)},p=function(){setTimeout(function(){m.showPreview&&(u.removeAttr("disabled"),t.removeAttr("disabled"),l.removeClass("file-uploading")),o?e():(m.unlock(!1),m._clearFileInput()),m._initSuccessThumbs()},m.processDelay)},h=function(t,e,i){f=m._parseError(_,t,i,m.fileManager.getFileName(a)),c=!0,setTimeout(function(){var e;o&&g(),m.fileManager.setProgress(a,100),m._setPreviewError(l,!0),m.retryErrorUploads||u.hide(),X.extend(!0,T,m._getOutData(y,t)),m._setProgress(101,m.$progress,m.msgAjaxProgressError.replace("{operation}",_)),e=m.showPreview&&l?l.find(".file-thumb-progress"):"",m._setProgress(101,e,m.msgUploadError),m._showFileError(f,T)},m.processDelay)},y.append(m.uploadFileAttr,C.file,E),m._setUploadData(y,{fileId:a}),m._ajaxSubmit(i,n,p,h,y,a,r)))},_uploadBatch:function(){var e,t,i,n,s,l,u=this,r=u.fileManager,a=r.total(),o=0<a||!X.isEmptyObject(u.uploadExtraData),c=new FormData,d=u.ajaxOperations.uploadBatch;if(0!==a&&o&&!u._abort({})){l=function(){u.fileManager.clear(),u._clearFileInput()},e=function(e){u.lock(),r.initStats();var t=u._getOutData(c,e);u.ajaxAborted=!1,u.showPreview&&u._getThumbs().each(function(){var e=X(this),t=e.find(".kv-file-upload"),i=e.find(".kv-file-remove");e.hasClass("file-preview-success")||(u._setThumbStatus(e,"Loading"),Q.addCss(e,"file-uploading")),t.attr("disabled",!0),i.attr("disabled",!0)}),u._raise("filebatchpreupload",[t]),u._abort(t)&&(e.abort(),u._getThumbs().each(function(){var e=X(this),t=e.find(".kv-file-upload"),i=e.find(".kv-file-remove");e.hasClass("file-preview-loading")&&(u._setThumbStatus(e,"New"),e.removeClass("file-uploading")),t.removeAttr("disabled"),i.removeAttr("disabled")}),u._setProgressCancelled())},t=function(e,t,i){var n=u._getOutData(c,i,e),r=0,a=u._getThumbs(":not(.file-preview-success)"),o=Q.isEmpty(e)||Q.isEmpty(e.errorkeys)?[]:e.errorkeys;Q.isEmpty(e)||Q.isEmpty(e.error)?(u._raise("filebatchuploadsuccess",[n]),l(),u.showPreview?(a.each(function(){var e=X(this);u._setThumbStatus(e,"Success"),e.removeClass("file-uploading"),e.find(".kv-file-upload").hide().removeAttr("disabled")}),u._initUploadSuccess(e)):u.reset(),u._setProgress(101)):(u.showPreview&&(a.each(function(){var e=X(this);e.removeClass("file-uploading"),e.find(".kv-file-upload").removeAttr("disabled"),e.find(".kv-file-remove").removeAttr("disabled"),0===o.length||-1!==X.inArray(r,o)?(u._setPreviewError(e,!0),u.retryErrorUploads||(e.find(".kv-file-upload").hide(),u.fileManager.remove(e))):(e.find(".kv-file-upload").hide(),u._setThumbStatus(e,"Success"),u.fileManager.remove(e)),e.hasClass("file-preview-error")&&!u.retryErrorUploads||r++}),u._initUploadSuccess(e)),s=u._parseError(d,i,u.msgUploadError),u._showFileError(s,n,"filebatchuploaderror"),u._setProgress(101,u.$progress,u.msgUploadError))},n=function(){u.unlock(),u._initSuccessThumbs(),u._clearFileInput(),u._raise("filebatchuploadcomplete",[u.fileManager.stack,u._getExtraData()])},i=function(e,t,i){var n=u._getOutData(c,e);s=u._parseError(d,e,i),u._showFileError(s,n,"filebatchuploaderror"),u.uploadFileCount=a-1,u.showPreview&&(u._getThumbs().each(function(){var e=X(this);e.removeClass("file-uploading"),u.fileManager.getFile(e.attr("data-fileid"))&&u._setPreviewError(e)}),u._getThumbs().removeClass("file-uploading"),u._getThumbs(" .kv-file-upload").removeAttr("disabled"),u._getThumbs(" .kv-file-delete").removeAttr("disabled"),u._setProgress(101,u.$progress,u.msgAjaxProgressError.replace("{operation}",d)))};var f=0;X.each(u.fileManager.stack,function(e,t){Q.isEmpty(t.file)||c.append(u.uploadFileAttr,t.file,t.nameFmt||"untitled_"+f),f++}),u._ajaxSubmit(e,t,n,i,c)}},_uploadExtraOnly:function(){var e,t,i,n,r,a=this,o={},s=new FormData,l=a.ajaxOperations.uploadExtra;a._abort(o)||(e=function(e){a.lock();var t=a._getOutData(s,e);a._raise("filebatchpreupload",[t]),a._setProgress(50),o.data=t,o.xhr=e,a._abort(o)&&(e.abort(),a._setProgressCancelled())},t=function(e,t,i){var n=a._getOutData(s,i,e);Q.isEmpty(e)||Q.isEmpty(e.error)?(a._raise("filebatchuploadsuccess",[n]),a._clearFileInput(),a._initUploadSuccess(e),a._setProgress(101)):(r=a._parseError(l,i,a.msgUploadError),a._showFileError(r,n,"filebatchuploaderror"))},i=function(){a.unlock(),a._clearFileInput(),a._raise("filebatchuploadcomplete",[a.fileManager.stack,a._getExtraData()])},n=function(e,t,i){var n=a._getOutData(s,e);r=a._parseError(l,e,i),o.data=n,a._showFileError(r,n,"filebatchuploaderror"),a._setProgress(101,a.$progress,a.msgAjaxProgressError.replace("{operation}",l))},a._ajaxSubmit(e,t,i,n,s))},_deleteFileIndex:function(e){var t=this,i=e.attr("data-fileindex"),n=t.reversePreviewOrder;i.substring(0,5)===Q.INIT_FLAG&&(i=parseInt(i.replace(Q.INIT_FLAG,"")),t.initialPreview=Q.spliceArray(t.initialPreview,i,n),t.initialPreviewConfig=Q.spliceArray(t.initialPreviewConfig,i,n),t.initialPreviewThumbTags=Q.spliceArray(t.initialPreviewThumbTags,i,n),t.getFrames().each(function(){var e=X(this),t=e.attr("data-fileindex");t.substring(0,5)===Q.INIT_FLAG&&(t=parseInt(t.replace(Q.INIT_FLAG,"")),i<t&&(t--,e.attr("data-fileindex",Q.INIT_FLAG+t)))}))},_resetCaption:function(){var o=this;setTimeout(function(){var e,t,i,n=o.previewCache.count(!0),r=o.fileManager.count(),a=o.showPreview&&o.getFrames(":not(.file-preview-success):not(.file-preview-error)").length;0!==r||0!==n||a?(e=1<(t=n+r)?o._getMsgSelected(t):(i=o.fileManager.getFirstFile())?i.nameFmt:"_",o._setCaption(e)):o.reset()},o.processDelay)},_initFileActions:function(){var a=this;a.showPreview&&(a._initZoomButton(),a.getFrames(" .kv-file-remove").each(function(){var e,t=X(this),i=t.closest(Q.FRAMES),n=i.attr("id"),r=i.attr("data-fileindex");a._handler(t,"click",function(){if(!1===a._raise("filepreremove",[n,r])||!a._validateMinCount())return!1;e=i.hasClass("file-preview-error"),Q.cleanMemory(i),i.fadeOut("slow",function(){Q.cleanZoomCache(a._getZoom(n)),a.fileManager.remove(i),a._clearObjects(i),i.remove(),n&&e&&a.$errorContainer.find('li[data-thumb-id="'+n+'"]').fadeOut("fast",function(){X(this).remove(),a._errorsExist()||a._resetErrors()}),a._clearFileInput(),a._resetCaption(),a._raise("fileremoved",[n,r])})})}),a.getFrames(" .kv-file-upload").each(function(){var i=X(this);a._handler(i,"click",function(){var e=i.closest(Q.FRAMES),t=e.attr("data-fileid");a._hideProgress(),e.hasClass("file-preview-error")&&!a.retryErrorUploads||a._uploadSingle(a.fileManager.getIndex(t),t,!1)})}))},_initPreviewActions:function(){function m(){var e=v.isAjaxUpload?v.previewCache.count(!0):v._inputFileCount();v.getFrames().length||e||(v._setCaption(""),v.reset(),v.initialCaption="")}var v=this,e=v.$preview,b=v.deleteExtraData||{},t=Q.FRAMES+" .kv-file-remove",i=v.fileActionSettings,y=i.removeClass,w=i.removeErrorClass;v._initZoomButton(),e.find(t).each(function(){var a,e,t,i,o=X(this),n=o.data("url")||v.deleteUrl,s=o.data("key"),l=v.ajaxOperations.deleteThumb;if(!Q.isEmpty(n)&&void 0!==s){"function"==typeof n&&(n=n());var r,u,c,d,f,p=o.closest(Q.FRAMES),h=v.previewCache.data,g=p.attr("data-fileindex");g=parseInt(g.replace(Q.INIT_FLAG,"")),c=Q.isEmpty(h.config)&&Q.isEmpty(h.config[g])?null:h.config[g],f=Q.isEmpty(c)||Q.isEmpty(c.extra)?b:c.extra,d=c.filename||c.caption||"","function"==typeof f&&(f=f()),u={id:o.attr("id"),key:s,extra:f},e=function(e){v.ajaxAborted=!1,v._raise("filepredelete",[s,e,f]),v._abort()?e.abort():(o.removeClass(w),Q.addCss(p,"file-uploading"),Q.addCss(o,"disabled "+y))},t=function(e,t,i){var n,r;if(!Q.isEmpty(e)&&!Q.isEmpty(e.error))return u.jqXHR=i,u.response=e,a=v._parseError(l,i,v.msgDeleteError,d),v._showFileError(a,u,"filedeleteerror"),p.removeClass("file-uploading"),o.removeClass("disabled "+y).addClass(w),void m();p.removeClass("file-uploading").addClass("file-deleted"),p.fadeOut("slow",function(){g=parseInt(p.attr("data-fileindex").replace(Q.INIT_FLAG,"")),v.previewCache.unset(g),v._deleteFileIndex(p),n=v.previewCache.count(!0),r=0<n?v._getMsgSelected(n):"",v._setCaption(r),v._raise("filedeleted",[s,i,f]),Q.cleanZoomCache(v._getZoom(p.attr("id"))),v._clearObjects(p),p.remove(),m()})},i=function(e,t,i){var n=v._parseError(l,e,i,d);u.jqXHR=e,u.response={},v._showFileError(n,u,"filedeleteerror"),p.removeClass("file-uploading"),o.removeClass("disabled "+y).addClass(w),m()},v._initAjaxSettings(),v._mergeAjaxCallback("beforeSend",e,"delete"),v._mergeAjaxCallback("success",t,"delete"),v._mergeAjaxCallback("error",i,"delete"),r=X.extend(!0,{},{url:v._encodeURI(n),type:"POST",dataType:"json",data:X.extend(!0,{},{key:s},f)},v._ajaxDeleteSettings),v._handler(o,"click",function(){if(!v._validateMinCount())return!1;v.ajaxAborted=!1,v._raise("filebeforedelete",[s,f]),v.ajaxAborted instanceof Promise?v.ajaxAborted.then(function(e){e||X.ajax(r)}):v.ajaxAborted||X.ajax(r)})}})},_hideFileIcon:function(){this.overwriteInitial&&this.$captionContainer.removeClass("icon-visible")},_showFileIcon:function(){Q.addCss(this.$captionContainer,"icon-visible")},_getSize:function(e,t){var i,n,r=parseFloat(e),a=this.fileSizeGetter;return X.isNumeric(e)&&X.isNumeric(r)?(n="function"==typeof a?a(r):0===r?"0.00 B":(i=Math.floor(Math.log(r)/Math.log(1024)),t=t||["B","KB","MB","GB","TB","PB","EB","ZB","YB"],+(r/Math.pow(1024,i)).toFixed(2)+" "+t[i]),this._getLayoutTemplate("size").replace("{sizeText}",n)):""},_getFileType:function(e){return this.mimeTypeAliases[e]||e},_generatePreviewTemplate:function(s,e,l,u,c,d,t,i,f,n,p,h,g,r){var a,o,m=this,v=m.slug(l),b="",y="",w=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,x=v,_=v,C="type-default",T=n||m._renderFileFooter(s,v,i,"auto",t),E=m.preferIconicPreview,S=m.preferIconicZoomPreview,k=E?"other":s;return(a=w<400?m.previewSettingsSmall[k]||m.defaults.previewSettingsSmall[k]:m.previewSettings[k]||m.defaults.previewSettings[k])&&X.each(a,function(e,t){y+=e+":"+t+";"}),o=function(e,t,i,n){var r=i?"zoom-"+c:c,a=m._getPreviewTemplate(e),o=(f||"")+" "+n;return m.frameClass&&(o=m.frameClass+" "+o),i&&(o=o.replace(" "+Q.SORT_CSS,"")),a=m._parseFilePreviewIcon(a,l),"text"===e&&(t=Q.htmlEncode(t)),"object"!==s||u||X.each(m.defaults.fileTypeSettings,function(e,t){"object"!==e&&"other"!==e&&t(l,u)&&(C="type-"+e)}),Q.isEmpty(g)||(void 0!==g.title&&null!==g.title&&(x=g.title),void 0!==g.alt&&null!==g.alt&&(x=g.alt)),a.setTokens({previewId:r,caption:v,title:x,alt:_,frameClass:o,type:m._getFileType(u),fileindex:p,fileid:d||"",typeCss:C,footer:T,data:t,template:h||s,style:y?'style="'+y+'"':""})},p=p||c.slice(c.lastIndexOf("-")+1),m.fileActionSettings.showZoom&&(b=o(S?"other":s,r||e,!0,"kv-zoom-thumb")),b="\n"+m._getLayoutTemplate("zoomCache").replace("{zoomContent}",b),"function"==typeof m.sanitizeZoomCache&&(b=m.sanitizeZoomCache(b)),o(E?"other":s,e,!1,"kv-preview-thumb")+b},_addToPreview:function(e,t){return this.reversePreviewOrder?e.prepend(t):e.append(t)},_previewDefault:function(e,t){var i=this,n=i.$preview;if(i.showPreview){var r,a=Q.getFileName(e),o=e?e.type:"",s=e.size||0,l=i._getFileName(e,""),u=!0===t&&!i.isAjaxUpload,c=Q.createObjectURL(e),d=i.fileManager.getId(e),f=i._getThumbId(d);i._clearDefaultPreview(),r=i._generatePreviewTemplate("other",c,a,o,f,d,u,s),i._addToPreview(n,r),i._setThumbAttr(f,l,s),!0===t&&i.isAjaxUpload&&i._setThumbStatus(i._getFrame(f),"Error")}},_previewFile:function(e,t,i,n,r){if(this.showPreview){var a,o=this,s=Q.getFileName(t),l=r.type,u=r.name,c=o._parseFileType(l,s),d=o.$preview,f=t.size||0,p="text"===c||"html"===c||"image"===c?i.target.result:n,h=o.fileManager.getId(t),g=o._getThumbId(h);"html"===c&&o.purifyHtml&&window.DOMPurify&&(p=window.DOMPurify.sanitize(p)),a=o._generatePreviewTemplate(c,p,s,l,g,h,!1,f),o._clearDefaultPreview(),o._addToPreview(d,a);var m=o._getFrame(g);o._validateImageOrientation(m.find("img"),t,g,h,u,l,f,p),o._setThumbAttr(g,u,f),o._initSortable()}},_setThumbAttr:function(e,t,i){var n=this._getFrame(e);n.length&&(i=i&&0<i?this._getSize(i):"",n.data({caption:t,size:i}))},_setInitThumbAttr:function(){var e,t,i,n,r=this.previewCache.data,a=this.previewCache.count(!0);if(0!==a)for(var o=0;o<a;o++)e=r.config[o],n=this.previewInitId+"-"+Q.INIT_FLAG+o,t=Q.ifSet("caption",e,Q.ifSet("filename",e)),i=Q.ifSet("size",e),this._setThumbAttr(n,t,i)},_slugDefault:function(e){return Q.isEmpty(e,!0)?"":String(e).replace(/[\[\]\/\{}:;#%=\(\)\*\+\?\\\^\$\|<>&"']/g,"_")},_updateFileDetails:function(e,t){var i,n,r,a,o=this,s=o.$element,l=Q.isIE(9)&&Q.findFileName(s.val())||s[0].files[0]&&s[0].files[0].name;i=!l&&0<o.fileManager.count()?o.fileManager.getFirstFile().nameFmt:l?o.slug(l):"_",n=o.isAjaxUpload?o.fileManager.count():e,a=o.previewCache.count(!0)+n,r=1===n?i:o._getMsgSelected(a),o.isError?(o.$previewContainer.removeClass("file-thumb-loading"),o.$previewStatus.html(""),o.$captionContainer.removeClass("icon-visible")):o._showFileIcon(),o._setCaption(r,o.isError),o.$container.removeClass("file-input-new file-input-ajax-new"),t||o._raise("fileselect",[e,i]),o.previewCache.count(!0)&&o._initPreviewActions()},_setThumbStatus:function(e,t){if(this.showPreview){var i="indicator"+t,n=i+"Title",r="file-preview-"+t.toLowerCase(),a=e.find(".file-upload-indicator"),o=this.fileActionSettings;e.removeClass("file-preview-success file-preview-error file-preview-paused file-preview-loading"),"Success"===t&&e.find(".file-drag-handle").remove(),a.html(o[i]),a.attr("title",o[n]),e.addClass(r),"Error"!==t||this.retryErrorUploads||e.find(".kv-file-upload").attr("disabled",!0)}},_setProgressCancelled:function(){this._setProgress(101,this.$progress,this.msgCancelled)},_setProgress:function(e,t,i,n){var r=this;if((t=t||r.$progress).length){var a,o=Math.min(e,100),s=r.progressUploadThreshold,l=e<=100?r.progressTemplate:r.progressCompleteTemplate,u=o<100?r.progressTemplate:i?r.paused?r.progressPauseTemplate:r.progressErrorTemplate:l;100<=e&&(n=""),Q.isEmpty(u)||(n=n||"",a=(a=s&&s<o&&e<=100?u.setTokens({percent:s,status:r.msgUploadThreshold}):u.setTokens({percent:o,status:100<e?r.msgUploadEnd:o+"%"})).setTokens({stats:n}),t.html(a),i&&t.find('[role="progressbar"]').html(i))}},_setFileDropZoneTitle:function(){var e,t=this,i=t.$container.find(".file-drop-zone"),n=t.dropZoneTitle;t.isClickable&&(e=Q.isEmpty(t.$element.attr("multiple"))?t.fileSingle:t.filePlural,n+=t.dropZoneClickTitle.replace("{files}",e)),i.find("."+t.dropZoneTitleClass).remove(),!t.showPreview||0===i.length||0<t.fileManager.count()||!t.dropZoneEnabled||!t.isAjaxUpload&&t.$element.files||(0===i.find(Q.FRAMES).length&&Q.isEmpty(t.defaultPreviewContent)&&i.prepend('<div class="'+t.dropZoneTitleClass+'">'+n+"</div>"),t.$container.removeClass("file-input-new"),Q.addCss(t.$container,"file-input-ajax-new"))},_getStats:function(e){var t,i;return this.showUploadStats&&e&&e.bitrate?(i=this._getLayoutTemplate("stats"),t=e.elapsed&&e.bps?this.msgPendingTime.setTokens({time:Q.getElapsed(Math.ceil(e.pendingBytes/e.bps))}):this.msgCalculatingTime,i.setTokens({uploadSpeed:e.bitrate,pendingTime:t})):""},_setResumableProgress:function(e,t,i){var n=this.resumableManager,r=i?n:this,a=i?i.find(".file-thumb-progress"):null;0===r.lastProgress&&(r.lastProgress=e),e<r.lastProgress&&(e=r.lastProgress),this._setProgress(e,a,null,this._getStats(t)),r.lastProgress=e},_toggleResumableProgress:function(e,t){var i=this.$progress;i&&i.length&&i.html(e.setTokens({percent:101,status:t,stats:""}))},_setFileUploadStats:function(e,t,i,n){var r=this,a=r.$progress;if(r.showPreview||a&&a.length){var o,s=r.fileManager,l=s.getThumb(e),u=r.resumableManager,c=0,d=s.getTotalSize(),f=X.extend(!0,{},n);if(r.enableResumableUpload){var p,h=n.loaded,g=u.getUploadedSize(),m=u.file.size;h+=g,p=s.uploadedSize+h,t=Q.round(100*h/m),n.pendingBytes=m-g,r._setResumableProgress(t,n,l),o=Math.floor(100*p/d),f.pendingBytes=d-p,r._setResumableProgress(o,f)}else s.setProgress(e,t),a=l&&l.length?l.find(".file-thumb-progress"):null,r._setProgress(t,a,null,r._getStats(n)),X.each(s.stats,function(e,t){c+=t.loaded}),f.pendingBytes=d-c,o=Q.round(c/d*100),r._setProgress(o,null,null,r._getStats(f))}},_validateMinCount:function(){var e=this,t=e.isAjaxUpload?e.fileManager.count():e._inputFileCount();return!(e.validateInitialCount&&0<e.minFileCount&&e._getFileCount(t-1)<e.minFileCount)||(e._noFilesError({}),!1)},_getFileCount:function(e,t){return void 0===t&&(t=this.validateInitialCount&&!this.overwriteInitial),t&&(e+=this.previewCache.count(!0)),e},_getFileId:function(e){return Q.getFileId(e,this.generateFileId)},_getFileName:function(e,t){var i=Q.getFileName(e);return i?this.slug(i):t},_getFileNames:function(t){return this.filenames.filter(function(e){return t?void 0!==e:null!=e})},_setPreviewError:function(e,t){var i=this,n=i.removeFromPreviewOnError&&!i.retryErrorUploads;t&&!n||i.fileManager.remove(e),i.showPreview&&(n?e.remove():(i._setThumbStatus(e,"Error"),i._refreshUploadButton(e)))},_refreshUploadButton:function(e){var t=e.find(".kv-file-upload"),i=this.fileActionSettings,n=i.uploadIcon,r=i.uploadTitle;t.length&&(this.retryErrorUploads&&(n=i.uploadRetryIcon,r=i.uploadRetryTitle),t.attr("title",r).html(n))},_checkDimensions:function(e,t,i,n,r,a,o){var s,l,u,c=this[("Small"===t?"min":"max")+"Image"+a];!Q.isEmpty(c)&&i.length&&(u=i[0],l="Width"===a?u.naturalWidth||u.width:u.naturalHeight||u.height,("Small"===t?c<=l:l<=c)||(s=this["msgImage"+a+t].setTokens({name:r,size:c}),this._showFileError(s,o),this._setPreviewError(n)))},_getExifObj:function(e){var t=null,i=Q.logMessages.exifWarning;if("data:image/jpeg;base64,"===e.slice(0,23)||"data:image/jpg;base64,"===e.slice(0,22)){try{t=window.piexif?window.piexif.load(e):null}catch(e){t=null,i=e&&e.message||""}return t||this._log(Q.logMessages.badExifParser,{details:i}),t}t=null},setImageOrientation:function(u,c,d,f){var p,h,e,g=this,t=!u||!u.length,i=!c||!c.length,m=!1,v=t&&f&&"image"===f.attr("data-template");t&&i||(e="load.fileinputimageorient",v?(u=c,c=null,u.css(g.previewSettings.image),h=X(document.createElement("div")).appendTo(f.find(".kv-file-content")),p=X(document.createElement("span")).insertBefore(u),u.css("visibility","hidden").removeClass("file-zoom-detail").appendTo(h)):m=!u.is(":visible"),u.off(e).on(e,function(){m&&(g.$preview.removeClass("hide-content"),f.find(".kv-file-content").css("visibility","hidden"));var e=u.get(0),t=c&&c.length?c.get(0):null,i=e.offsetHeight,n=e.offsetWidth,r=Q.getRotation(d);if(m&&(f.find(".kv-file-content").css("visibility","visible"),g.$preview.addClass("hide-content")),u.data("orientation",d),t&&c.data("orientation",d),d<5)return Q.setTransform(e,r),void Q.setTransform(t,r);var a=Math.atan(n/i),o=Math.sqrt(Math.pow(i,2)+Math.pow(n,2)),s=o?i/Math.cos(Math.PI/2+a)/o:1,l=" scale("+Math.abs(s)+")";Q.setTransform(e,r+l),Q.setTransform(t,r+l),v&&(u.css("visibility","visible").insertAfter(p).addClass("file-zoom-detail"),p.remove(),h.remove())}))},_validateImageOrientation:function(e,t,i,n,r,a,o,s){var l,u,c=this,d=c.autoOrientImage,f=Q.getZoomSelector(i," img");(u=(l=d?c._getExifObj(s):null)?l["0th"][piexif.ImageIFD.Orientation]:null)&&(c.setImageOrientation(e,X(f),u,c._getFrame(i)),c._raise("fileimageoriented",{$img:e,file:t})),c._validateImage(i,n,r,a,o,s,l)},_validateImage:function(e,t,i,n,r,a,o){var s,l,u=this,c=u.$preview,d=u._getFrame(e),f=d.attr("data-fileindex"),p=d.find("img");i=i||"Untitled",p.one("load",function(){l=d.width(),c.width()<l&&p.css("width","100%"),s={ind:f,id:e,fileId:t},u._checkDimensions(f,"Small",p,d,i,"Width",s),u._checkDimensions(f,"Small",p,d,i,"Height",s),u.resizeImage||(u._checkDimensions(f,"Large",p,d,i,"Width",s),u._checkDimensions(f,"Large",p,d,i,"Height",s)),u._raise("fileimageloaded",[e]),u.fileManager.addImage(t,{ind:f,img:p,thumb:d,pid:e,typ:n,siz:r,validated:!1,imgData:a,exifObj:o}),d.data("exif",o),u._validateAllImages()}).one("error",function(){u._raise("fileimageloaderror",[e])}).each(function(){this.complete?X(this).trigger("load"):this.error&&X(this).trigger("error")})},_validateAllImages:function(){var i,n=this,r={val:0},a=n.fileManager.getImageCount(),o=n.resizeIfSizeMoreThan;a===n.fileManager.totalImages&&(n._raise("fileimagesloaded"),n.resizeImage&&X.each(n.fileManager.loadedImages,function(e,t){t.validated||((i=t.siz)&&1e3*o<i&&n._getResizedImage(e,t,r,a),t.validated=!0)}))},_getResizedImage:function(e,t,i,n){var r,a,o,s,l,u,c,d,f,p=this,h=X(t.img)[0],g=h.naturalWidth,m=h.naturalHeight,v=1,b=p.maxImageWidth||g,y=p.maxImageHeight||m,w=!(!g||!m),x=p.imageCanvas,_=p.imageCanvasContext,C=t.typ,T=t.pid,E=t.ind,S=t.thumb,k=t.exifObj;if(l=function(e,t,i){p.isAjaxUpload?p._showFileError(e,t,i):p._showError(e,t,i),p._setPreviewError(S)},d={id:T,index:E,fileId:e},f=[e,T,E],(c=p.fileManager.getFile(e))&&w&&!(g<=b&&m<=y)||(w&&c&&p._raise("fileimageresized",f),i.val++,i.val===n&&p._raise("fileimagesresized"),w)){C=C||p.resizeDefaultImageType,a=b<g,o=y<m,v="width"===p.resizePreference?a?b/g:o?y/m:1:o?y/m:a?b/g:1,p._resetCanvas(),g*=v,m*=v,x.width=g,x.height=m;try{_.drawImage(h,0,0,g,m),s=x.toDataURL(C,p.resizeQuality),k&&(u=window.piexif.dump(k),s=window.piexif.insert(u,s)),r=Q.dataURI2Blob(s),p.fileManager.setFile(e,r),p._raise("fileimageresized",f),i.val++,i.val===n&&p._raise("fileimagesresized",[void 0,void 0]),r instanceof Blob||l(p.msgImageResizeError,d,"fileimageresizeerror")}catch(e){i.val++,i.val===n&&p._raise("fileimagesresized",[void 0,void 0]),l(p.msgImageResizeException.replace("{errors}",e.message),d,"fileimageresizeexception")}}else l(p.msgImageResizeError,d,"fileimageresizeerror")},_showProgress:function(){this.$progress&&this.$progress.length&&this.$progress.show()},_hideProgress:function(){this.$progress&&this.$progress.length&&this.$progress.hide()},_initBrowse:function(e){var t=this.$element;this.showBrowse?this.$btnFile=e.find(".btn-file").append(t):(t.appendTo(e).attr("tabindex",-1),Q.addCss(t,"file-no-browse"))},_initClickable:function(){var i,e,n=this;n.isClickable&&(i=n.$dropZone,n.isAjaxUpload||(e=n.$preview.find(".file-default-preview")).length&&(i=e),Q.addCss(i,"clickable"),i.attr("tabindex",-1),n._handler(i,"click",function(e){var t=X(e.target);X(n.elErrorContainer+":visible").length||t.parents(".file-preview-thumbnails").length&&!t.parents(".file-default-preview").length||(n.$element.data("zoneClicked",!0).trigger("click"),i.blur())}))},_initCaption:function(){var e=this.initialCaption||"";return this.overwriteInitial||Q.isEmpty(e)?(this.$caption.val(""),!1):(this._setCaption(e),!0)},_setCaption:function(e,t){var i,n,r,a,o,s,l=this;if(l.$caption.length){if(l.$captionContainer.removeClass("icon-visible"),t)i=X("<div>"+l.msgValidationError+"</div>").text(),o=(a=l.fileManager.count())?(s=l.fileManager.getFirstFile(),1===a&&s?s.nameFmt:l._getMsgSelected(a)):l._getMsgSelected(l.msgNo),n=Q.isEmpty(e)?o:e,r='<span class="'+l.msgValidationErrorClass+'">'+l.msgValidationErrorIcon+"</span>";else{if(Q.isEmpty(e))return;n=i=X("<div>"+e+"</div>").text(),r=l._getLayoutTemplate("fileIcon")}l.$captionContainer.addClass("icon-visible"),l.$caption.attr("title",i).val(n),l.$captionIcon.html(r)}},_createContainer:function(){var e=this,t={class:"file-input file-input-new"+(e.rtl?" kv-rtl":"")},i=X(document.createElement("div")).attr(t).html(e._renderMain());return i.insertBefore(e.$element),e._initBrowse(i),e.theme&&i.addClass("theme-"+e.theme),i},_refreshContainer:function(){var e=this,t=e.$container;e.$element.insertAfter(t),t.html(e._renderMain()),e._initBrowse(t),e._validateDisabled()},_validateDisabled:function(){this.$caption.attr({readonly:this.isDisabled})},_renderMain:function(){var e=this,t=e.dropZoneEnabled?" file-drop-zone":"file-drop-disabled",i=e.showClose?e._getLayoutTemplate("close"):"",n=e.showPreview?e._getLayoutTemplate("preview").setTokens({class:e.previewClass,dropClass:t}):"",r=e.isDisabled?e.captionClass+" file-caption-disabled":e.captionClass,a=e.captionTemplate.setTokens({class:r+" kv-fileinput-caption"});return e.mainTemplate.setTokens({class:e.mainClass+(!e.showBrowse&&e.showCaption?" no-browse":""),preview:n,close:i,caption:a,upload:e._renderButton("upload"),remove:e._renderButton("remove"),cancel:e._renderButton("cancel"),pause:e._renderButton("pause"),browse:e._renderButton("browse")})},_renderButton:function(e){var t=this,i=t._getLayoutTemplate("btnDefault"),n=t[e+"Class"],r=t[e+"Title"],a=t[e+"Icon"],o=t[e+"Label"],s=t.isDisabled?" disabled":"",l="button";switch(e){case"remove":if(!t.showRemove)return"";break;case"cancel":if(!t.showCancel)return"";n+=" kv-hidden";break;case"pause":if(!t.showPause)return"";n+=" kv-hidden";break;case"upload":if(!t.showUpload)return"";t.isAjaxUpload&&!t.isDisabled?i=t._getLayoutTemplate("btnLink").replace("{href}",t.uploadUrl):l="submit";break;case"browse":if(!t.showBrowse)return"";i=t._getLayoutTemplate("btnBrowse");break;default:return""}return n+="browse"===e?" btn-file":" fileinput-"+e+" fileinput-"+e+"-button",Q.isEmpty(o)||(o=' <span class="'+t.buttonLabelClass+'">'+o+"</span>"),i.setTokens({type:l,css:n,title:r,status:s,icon:a,label:o})},_renderThumbProgress:function(){return'<div class="file-thumb-progress kv-hidden">'+this.progressInfoTemplate.setTokens({percent:101,status:this.msgUploadBegin,stats:""})+"</div>"},_renderFileFooter:function(e,t,i,n,r){var a,o,s=this,l=s.fileActionSettings,u=l.showRemove,c=l.showDrag,d=l.showUpload,f=l.showZoom,p=s._getLayoutTemplate("footer"),h=s._getLayoutTemplate("indicator"),g=r?l.indicatorError:l.indicatorNew,m=r?l.indicatorErrorTitle:l.indicatorNewTitle,v=h.setTokens({indicator:g,indicatorTitle:m});return o={type:e,caption:t,size:i=s._getSize(i),width:n,progress:"",indicator:v},s.isAjaxUpload?(o.progress=s._renderThumbProgress(),o.actions=s._renderFileActions(o,d,!1,u,f,c,!1,!1,!1)):o.actions=s._renderFileActions(o,!1,!1,!1,f,c,!1,!1,!1),a=p.setTokens(o),a=Q.replaceTags(a,s.previewThumbTags)},_renderFileActions:function(e,t,i,n,r,a,o,s,l,u,c,d){var f=this;if(!e.type&&u&&(e.type="image"),f.enableResumableUpload?t=!1:"function"==typeof t&&(t=t(e)),"function"==typeof i&&(i=i(e)),"function"==typeof n&&(n=n(e)),"function"==typeof r&&(r=r(e)),"function"==typeof a&&(a=a(e)),!(t||i||n||r||a))return"";var p,h=!1===s?"":' data-url="'+s+'"',g="",m="",v=!1===l?"":' data-key="'+l+'"',b="",y="",w="",x=f._getLayoutTemplate("actions"),_=f.fileActionSettings,C=f.otherActionButtons.setTokens({dataKey:v,key:l}),T=o?_.removeClass+" disabled":_.removeClass;return n&&(b=f._getLayoutTemplate("actionDelete").setTokens({removeClass:T,removeIcon:_.removeIcon,removeTitle:_.removeTitle,dataUrl:h,dataKey:v,key:l})),t&&(y=f._getLayoutTemplate("actionUpload").setTokens({uploadClass:_.uploadClass,uploadIcon:_.uploadIcon,uploadTitle:_.uploadTitle})),i&&(w=(w=f._getLayoutTemplate("actionDownload").setTokens({downloadClass:_.downloadClass,downloadIcon:_.downloadIcon,downloadTitle:_.downloadTitle,downloadUrl:c||f.initialPreviewDownloadUrl})).setTokens({filename:d,key:l})),r&&(g=f._getLayoutTemplate("actionZoom").setTokens({zoomClass:_.zoomClass,zoomIcon:_.zoomIcon,zoomTitle:_.zoomTitle})),a&&u&&(p="drag-handle-init "+_.dragClass,m=f._getLayoutTemplate("actionDrag").setTokens({dragClass:p,dragTitle:_.dragTitle,dragIcon:_.dragIcon})),x.setTokens({delete:b,upload:y,download:w,zoom:g,drag:m,other:C})},_browse:function(e){var t=this;e&&e.isDefaultPrevented()||!t._raise("filebrowse")||(t.isError&&!t.isAjaxUpload&&t.clear(),t.focusCaptionOnBrowse&&t.$captionContainer.focus())},_change:function(e){var c=this;if(!c.changeTriggered){var t,i,n,r,a=c.$element,o=1<arguments.length,d=c.isAjaxUpload,f=o?arguments[1]:a.get(0).files,s=c.fileManager.count(),l=Q.isEmpty(a.attr("multiple")),u=!d&&l?1:c.maxFileCount,p=c.maxTotalFileCount,h=0<p&&u<p,g=l&&0<s,m=function(e,t,i){var n,r,a,o,s,l,u=i?c.msgTotalFilesTooMany:c.msgFilesTooMany;u=u.replace("{m}",t).replace("{n}",e),c.isError=(n=u,o=a=r=null,s=X.extend(!0,{},c._getOutData(null,{},{},f),{id:a,index:o}),l={id:a,index:o,file:r,files:f},d?c._showFileError(n,s):c._showError(n,l)),c.$captionContainer.removeClass("icon-visible"),c._setCaption("",!0),c.$container.removeClass("file-input-new file-input-ajax-new")};if(c.reader=null,c._resetUpload(),c._hideFileIcon(),c.dropZoneEnabled&&c.$container.find(".file-drop-zone ."+c.dropZoneTitleClass).remove(),d||(f=e.target&&void 0===e.target.files?e.target.value?[{name:e.target.value.replace(/^.+\\/,"")}]:[]:e.target.files||{}),t=f,Q.isEmpty(t)||0===t.length)return d||c.clear(),void c._raise("fileselectnone");if(c._resetErrors(),r=t.length,n=d?c.fileManager.count()+r:r,i=c._getFileCount(n,!h&&void 0),0<u&&u<i){if(!c.autoReplace||u<r)return void m(c.autoReplace&&u<r?r:i,u);u<i&&c._resetPreviewThumbs(d)}else{if(h&&(i=c._getFileCount(n,!0),0<p&&p<i)){if(!c.autoReplace||u<r)return void m(c.autoReplace&&p<r?r:i,p,!0);u<i&&c._resetPreviewThumbs(d)}!d||g?(c._resetPreviewThumbs(!1),g&&c.clearFileStack()):!d||0!==s||c.previewCache.count(!0)&&!c.overwriteInitial||c._resetPreviewThumbs(!0)}c.readFiles(t)}},_abort:function(e){var t,i=this;return i.ajaxAborted&&"object"==typeof i.ajaxAborted&&void 0!==i.ajaxAborted.message?((t=X.extend(!0,{},i._getOutData(null),e)).abortData=i.ajaxAborted.data||{},t.abortMessage=i.ajaxAborted.message,i._setProgress(101,i.$progress,i.msgCancelled),i._showFileError(i.ajaxAborted.message,t,"filecustomerror"),i.cancel(),!0):!!i.ajaxAborted},_resetFileStack:function(){var n=this,r=0;n._getThumbs().each(function(){var e=X(this),t=e.attr("data-fileindex"),i=e.attr("id");"-1"!==t&&-1!==t&&(n.fileManager.getFile(e.attr("data-fileid"))?e.attr({"data-fileindex":"-1"}):(e.attr({"data-fileindex":r}),r++),n._getZoom(i).attr({"data-fileindex":e.attr("data-fileindex")}))})},_isFileSelectionValid:function(e){var t=this;return e=e||0,t.required&&!t.getFilesCount()?(t.$errorContainer.html(""),t._showFileError(t.msgFileRequired),!1):!(0<t.minFileCount&&t._getFileCount(e)<t.minFileCount)||(t._noFilesError({}),!1)},_canPreview:function(e){var t=this;if(!(e&&t.showPreview&&t.$preview&&t.$preview.length))return!1;var i,n,r,a=e.name||"",o=e.type||"",s=(e.size||0)/1e3,l=t._parseFileType(o,a),u=t.allowedPreviewTypes,c=t.allowedPreviewMimeTypes,d=t.allowedPreviewExtensions||[],f=t.disabledPreviewTypes,p=t.disabledPreviewMimeTypes,h=t.disabledPreviewExtensions||[],g=t.maxFilePreviewSize&&parseFloat(t.maxFilePreviewSize)||0,m=new RegExp("\\.("+d.join("|")+")$","i"),v=new RegExp("\\.("+h.join("|")+")$","i");return i=!u||-1!==u.indexOf(l),n=!c||-1!==c.indexOf(o),r=!d.length||Q.compare(a,m),!(f&&-1!==f.indexOf(l)||p&&-1!==p.indexOf(o)||h.length&&Q.compare(a,v)||g&&!isNaN(g)&&g<s)&&(i||n||r)},addToStack:function(e,t){this.fileManager.add(e,t)},clearFileStack:function(){var e=this;return e.fileManager.clear(),e._initResumableUpload(),e.enableResumableUpload?(null===e.showPause&&(e.showPause=!0),null===e.showCancel&&(e.showCancel=!1)):(e.showPause=!1,null===e.showCancel&&(e.showCancel=!0)),e.$element},getFileStack:function(){return this.fileManager.stack},getFileList:function(){return this.fileManager.list()},getFilesCount:function(e){var t=this,i=t.isAjaxUpload?t.fileManager.count():t._inputFileCount();return e&&(i+=t.previewCache.count(!0)),t._getFileCount(i)},readFiles:function(D){this.reader=new FileReader;function j(e,t,i,n,r,a){var o,s=X.extend(!0,{},M._getOutData(null,{},{},D),{id:i,index:n,fileId:r}),l={id:i,index:n,fileId:r,file:t,files:D};(a=a||M.removeFromPreviewOnError)||M._previewDefault(t,!0),o=M._getFrame(i,!0),M.isAjaxUpload?setTimeout(function(){z(n+1)},M.processDelay):(M.unlock(),q=0),a&&o.length?o.remove():(M._initFileActions(),o.find(".kv-file-upload").remove()),M.isError=M.isAjaxUpload?M._showFileError(e,s):M._showError(e,l),M._updateFileDetails(q)}var z,M=this,$=M.$element,U=M.reader,L=M.$previewContainer,N=M.$previewStatus,R=M.msgLoading,O=M.msgProgress,B=M.previewInitId,q=D.length,H=M.fileTypeSettings,Z=M.allowedFileTypes,W=Z?Z.length:0,V=M.allowedFileExtensions,G=Q.isEmpty(V)?"":V.join(", ");M.fileManager.clearImages(),X.each(D,function(e,t){var i=M.fileTypeSettings.image;i&&i(t.type)&&M.fileManager.totalImages++}),(z=function(c){var e,t=M.$errorContainer,i=M.fileManager;if(Q.isEmpty($.attr("multiple"))&&(q=1),q<=c)return M.unlock(),M.duplicateErrors.length&&(e="<li>"+M.duplicateErrors.join("</li><li>")+"</li>",0===t.find("ul").length?t.html(M.errorCloseButton+"<ul>"+e+"</ul>"):t.find("ul").append(e),t.fadeIn(M.fadeDelay),M._handler(t.find(".kv-error-close"),"click",function(){t.fadeOut(M.fadeDelay)}),M.duplicateErrors=[]),M.isAjaxUpload?(M._raise("filebatchselected",[i.stack]),0!==i.count()||M.isError||M.reset()):M._raise("filebatchselected",[D]),L.removeClass("file-thumb-loading"),void N.html("");M.lock(!0);function d(){var e=O.setTokens({index:c+1,files:q,percent:50,name:T});setTimeout(function(){N.html(e),M._updateFileDetails(q),z(c+1)},M.processDelay),M._raise("fileloaded",[y,w,c,U])&&M.isAjaxUpload&&i.add(y)}var n,f,r,a,o,s,l,u,p,h,g,m,v,b,y=D[c],w=B+"-"+M._getFileId(y),x=H.text,_=H.image,C=H.html,T=M._getFileName(y,""),E=(y&&y.size||0)/1e3,S="",k=Q.createObjectURL(y),P=0,F="",I=0;if(y){if(u=i.getId(y),0<W)for(f=0;f<W;f++)s=Z[f],l=M.msgFileTypes[s]||s,F+=0===f?l:", "+l;if(!1!==T){if(0===T.length)return r=M.msgInvalidFileName.replace("{name}",Q.htmlEncode(Q.getFileName(y),"[unknown]")),void j(r,y,w,c,u);if(Q.isEmpty(V)||(S=new RegExp("\\.("+V.join("|")+")$","i")),n=E.toFixed(2),M.isAjaxUpload&&i.exists(u)||M._getFrame(w,!0).length){var A={id:w,index:c,fileId:u,file:y,files:D};return r=M.msgDuplicateFile.setTokens({name:T,size:n}),void(M.isAjaxUpload?setTimeout(function(){M.duplicateErrors.push(r),M._raise("fileduplicateerror",[y,u,T,n,w,c]),z(c+1),M._updateFileDetails(q)},M.processDelay):(M._showError(r,A),M.unlock(),q=0,M._clearFileInput(),M.reset(),M._updateFileDetails(q)))}if(0<M.maxFileSize&&E>M.maxFileSize)return r=M.msgSizeTooLarge.setTokens({name:T,size:n,maxSize:M.maxFileSize}),void j(r,y,w,c,u);if(null!==M.minFileSize&&E<=Q.getNum(M.minFileSize))return r=M.msgSizeTooSmall.setTokens({name:T,size:n,minSize:M.minFileSize}),void j(r,y,w,c,u);if(!Q.isEmpty(Z)&&Q.isArray(Z)){for(f=0;f<Z.length;f+=1)a=Z[f],P+=(h=H[a])&&"function"==typeof h&&h(y.type,Q.getFileName(y))?1:0;if(0===P)return r=M.msgInvalidFileType.setTokens({name:T,types:F}),void j(r,y,w,c,u)}if(0===P&&!Q.isEmpty(V)&&Q.isArray(V)&&!Q.isEmpty(S)&&(o=Q.compare(T,S),0===(P+=Q.isEmpty(o)?0:o.length)))return r=M.msgInvalidFileExtension.setTokens({name:T,extensions:G}),void j(r,y,w,c,u);if(!M._canPreview(y))return p=M.isAjaxUpload&&M._raise("filebeforeload",[y,c,U]),M.isAjaxUpload&&p&&i.add(y),M.showPreview&&p&&(L.addClass("file-thumb-loading"),M._previewDefault(y),M._initFileActions()),void setTimeout(function(){p&&M._updateFileDetails(q),z(c+1),M._raise("fileloaded",[y,w,c])},10);g=x(y.type,T),m=C(y.type,T),v=_(y.type,T),N.html(R.replace("{index}",c+1).replace("{files}",q)),L.addClass("file-thumb-loading"),U.onerror=function(e){M._errorHandler(e,T)},U.onload=function(e){var t,i,n,r,a,o,s,l,u=[];if(i={name:T,type:y.type},X.each(H,function(e,t){"object"!==e&&"other"!==e&&"function"==typeof t&&t(y.type,T)&&I++}),0===I){for(n=new Uint8Array(e.target.result),f=0;f<n.length;f++)r=n[f].toString(16),u.push(r);if(t=u.join("").toLowerCase().substring(0,8),o=Q.getMimeType(t,"",""),Q.isEmpty(o)&&(a=Q.arrayBuffer2String(U.result),o=Q.isSvg(a)?"image/svg+xml":Q.getMimeType(t,a,y.type)),i={name:T,type:o},g=x(o,""),m=C(o,""),v=_(o,""),(b=g||m)||v)return s=b,(l=new FileReader).onerror=function(e){M._errorHandler(e,T)},l.onload=function(e){M.isAjaxUpload&&!M._raise("filebeforeload",[y,c,U])||(M._previewFile(c,y,e,k,i),M._initFileActions(),d())},void(s?l.readAsText(y,M.textEncoding):l.readAsDataURL(y))}M.isAjaxUpload&&!M._raise("filebeforeload",[y,c,U])||(M._previewFile(c,y,e,k,i),M._initFileActions(),d())},U.onprogress=function(e){if(e.lengthComputable){var t=e.loaded/e.total*100,i=Math.ceil(t);r=O.setTokens({index:c+1,files:q,percent:i,name:T}),setTimeout(function(){N.html(r)},M.processDelay)}},g||m?U.readAsText(y,M.textEncoding):v?U.readAsDataURL(y):U.readAsArrayBuffer(y)}else z(c+1)}})(0),M._updateFileDetails(q,!0)},lock:function(e){var t=this,i=t.$container;return t._resetErrors(),t.disable(),!e&&t.showCancel&&i.find(".fileinput-cancel").show(),!e&&t.showPause&&i.find(".fileinput-pause").show(),t._raise("filelock",[t.fileManager.stack,t._getExtraData()]),t.$element},unlock:function(e){var t=this,i=t.$container;return void 0===e&&(e=!0),t.enable(),i.removeClass("is-locked"),t.showCancel&&i.find(".fileinput-cancel").hide(),t.showPause&&i.find(".fileinput-pause").hide(),e&&t._resetFileStack(),t._raise("fileunlock",[t.fileManager.stack,t._getExtraData()]),t.$element},resume:function(){var e=this,t=!1,i=e.resumableManager;return e.enableResumableUpload&&(e.paused?e._toggleResumableProgress(e.progressPauseTemplate,e.msgUploadResume):t=!0,e.paused=!1,t&&e._toggleResumableProgress(e.progressInfoTemplate,e.msgUploadBegin),setTimeout(function(){i.upload()},e.processDelay)),e.$element},pause:function(){var e,a=this,t=a.resumableManager,i=a.ajaxRequests,n=i.length,o=t.getProgress(),s=a.fileActionSettings;if(!a.enableResumableUpload)return a.$element;if(t.chunkIntervalId&&clearInterval(t.chunkIntervalId),a.ajaxQueueIntervalId&&clearInterval(a.ajaxQueueIntervalId),a._raise("fileuploadpaused",[a.fileManager,t]),0<n)for(e=0;e<n;e+=1)a.paused=!0,i[e].abort();return a.showPreview&&a._getThumbs().each(function(){var e,t=X(this),i=t.attr("data-fileid"),n=a._getLayoutTemplate("stats"),r=t.find(".file-upload-indicator");t.removeClass("file-uploading"),r.attr("title")===s.indicatorLoadingTitle&&(a._setThumbStatus(t,"Paused"),e=n.setTokens({pendingTime:a.msgPaused,uploadSpeed:""}),a.paused=!0,a._setProgress(o,t.find(".file-thumb-progress"),o+"%",e)),a.fileManager.getFile(i)||t.find(".kv-file-remove").removeClass("disabled").removeAttr("disabled")}),a._setProgress(101,a.$progress,a.msgPaused),a.$element},cancel:function(){var e,n=this,t=n.ajaxRequests,i=n.resumableManager,r=t.length;if(n.enableResumableUpload&&i.chunkIntervalId?(clearInterval(i.chunkIntervalId),i.reset(),n._raise("fileuploadcancelled",[n.fileManager,i])):n._raise("fileuploadcancelled",[n.fileManager]),n.ajaxQueueIntervalId&&clearInterval(n.ajaxQueueIntervalId),n._initAjax(),0<r)for(e=0;e<r;e+=1)n.cancelling=!0,t[e].abort();return n._getThumbs().each(function(){var e=X(this),t=e.attr("data-fileid"),i=e.find(".file-thumb-progress");e.removeClass("file-uploading"),n._setProgress(0,i),i.hide(),n.fileManager.getFile(t)||(e.find(".kv-file-upload").removeClass("disabled").removeAttr("disabled"),e.find(".kv-file-remove").removeClass("disabled").removeAttr("disabled")),n.unlock()}),setTimeout(function(){n._setProgressCancelled()},n.processDelay),n.$element},clear:function(){var e,t=this;if(t._raise("fileclear"))return t.$btnUpload.removeAttr("disabled"),t._getThumbs().find("video,audio,img").each(function(){Q.cleanMemory(X(this))}),t._clearFileInput(),t._resetUpload(),t.clearFileStack(),t._resetErrors(!0),t._hasInitialPreview()?(t._showFileIcon(),t._resetPreview(),t._initPreviewActions(),t.$container.removeClass("file-input-new")):(t._getThumbs().each(function(){t._clearObjects(X(this))}),t.isAjaxUpload&&(t.previewCache.data={}),t.$preview.html(""),e=!t.overwriteInitial&&0<t.initialCaption.length?t.initialCaption:"",t.$caption.attr("title","").val(e),Q.addCss(t.$container,"file-input-new"),t._validateDefaultPreview()),0===t.$container.find(Q.FRAMES).length&&(t._initCaption()||t.$captionContainer.removeClass("icon-visible")),t._hideFileIcon(),t.focusCaptionOnClear&&t.$captionContainer.focus(),t._setFileDropZoneTitle(),t._raise("filecleared"),t.$element},reset:function(){var e=this;if(e._raise("filereset"))return e.lastProgress=0,e._resetPreview(),e.$container.find(".fileinput-filename").text(""),Q.addCss(e.$container,"file-input-new"),e.getFrames().length&&e.$container.removeClass("file-input-new"),e.clearFileStack(),e._setFileDropZoneTitle(),e.$element},disable:function(){var e=this,t=e.$container;return e.isDisabled=!0,e._raise("filedisabled"),e.$element.attr("disabled","disabled"),t.addClass("is-locked"),Q.addCss(t.find(".btn-file"),"disabled"),t.find(".kv-fileinput-caption").addClass("file-caption-disabled"),t.find(".fileinput-remove, .fileinput-upload, .file-preview-frame button").attr("disabled",!0),e._initDragDrop(),e.$element},enable:function(){var e=this,t=e.$container;return e.isDisabled=!1,e._raise("fileenabled"),e.$element.removeAttr("disabled"),t.removeClass("is-locked"),t.find(".kv-fileinput-caption").removeClass("file-caption-disabled"),t.find(".fileinput-remove, .fileinput-upload, .file-preview-frame button").removeAttr("disabled"),t.find(".btn-file").removeClass("disabled"),e._initDragDrop(),e.$element},upload:function(){var t,e,i=this,n=i.fileManager,r=n.count(),a=!X.isEmptyObject(i._getExtraData());if(i.isAjaxUpload&&!i.isDisabled&&i._isFileSelectionValid(r)){if(i.lastProgress=0,i._resetUpload(),0!==r||a)return i.cancelling=!1,i._showProgress(),i.lock(),0===r&&a?(i._setProgress(2),void i._uploadExtraOnly()):i.enableResumableUpload?i.resume():((i.uploadAsync||i.enableResumableUpload)&&(e=i._getOutData(null),i._raise("filebatchpreupload",[e]),i.fileBatchCompleted=!1,i.uploadCache=[],X.each(i.getFileStack(),function(e){var t=i._getThumbId(e);i.uploadCache.push({id:t,content:null,config:null,tags:null,append:!0})}),i.$preview.find(".file-preview-initial").removeClass(Q.SORT_CSS),i._initSortable()),i._setProgress(2),i.hasInitData=!1,i.uploadAsync?(t=0,void X.each(n.stack,function(e){i._uploadSingle(t,e,!0),t++})):(i._uploadBatch(),i.$element));i._showFileError(i.msgUploadEmpty)}},destroy:function(){var e=this,t=e.$form,i=e.$container,n=e.$element,r=e.namespace;return X(document).off(r),X(window).off(r),t&&t.length&&t.off(r),e.isAjaxUpload&&e._clearFileInput(),e._cleanup(),e._initPreviewCache(),n.insertBefore(i).off(r).removeData(),i.off().remove(),n},refresh:function(e){var t=this,i=t.$element;return e="object"!=typeof e||Q.isEmpty(e)?t.options:X.extend(!0,{},t.options,e),t._init(e,!0),t._listen(),i},zoom:function(e){var t=this,i=t._getFrame(e),n=t.$modal;i&&(Q.initModal(n),n.html(t._getModalContent()),t._setZoomContent(i),n.modal("show"),t._initZoomButtons())},getExif:function(e){var t=this._getFrame(e);return t&&t.data("exif")||null},getFrames:function(e){var t;return e=e||"",t=this.$preview.find(Q.FRAMES+e),this.reversePreviewOrder&&(t=X(t.get().reverse())),t},getPreview:function(){return{content:this.initialPreview,config:this.initialPreviewConfig,tags:this.initialPreviewThumbTags}}},X.fn.fileinput=function(l){if(Q.hasFileAPISupport()||Q.isIE(9)){var u=Array.apply(null,arguments),c=[];switch(u.shift(),this.each(function(){var e,t=X(this),i=t.data("fileinput"),n="object"==typeof l&&l,r=n.theme||t.data("theme"),a={},o={},s=n.language||t.data("language")||X.fn.fileinput.defaults.language||"en";i||(r&&(o=X.fn.fileinputThemes[r]||{}),"en"===s||Q.isEmpty(X.fn.fileinputLocales[s])||(a=X.fn.fileinputLocales[s]||{}),e=X.extend(!0,{},X.fn.fileinput.defaults,o,X.fn.fileinputLocales.en,a,n,t.data()),i=new d(this,e),t.data("fileinput",i)),"string"==typeof l&&c.push(i[l].apply(i,u))}),c.length){case 0:return this;case 1:return c[0];default:return c}}},X.fn.fileinput.defaults={language:"en",showCaption:!0,showBrowse:!0,showPreview:!0,showRemove:!0,showUpload:!0,showUploadStats:!0,showCancel:null,showPause:null,showClose:!0,showUploadedThumbs:!0,showConsoleLogs:!0,browseOnZoneClick:!1,autoReplace:!1,autoOrientImage:function(){var e=window.navigator.userAgent,t=!!e.match(/WebKit/i);return!(!!e.match(/iP(od|ad|hone)/i)&&t&&!e.match(/CriOS/i))},autoOrientImageInitial:!0,required:!1,rtl:!1,hideThumbnailContent:!1,encodeUrl:!0,focusCaptionOnBrowse:!0,focusCaptionOnClear:!0,generateFileId:null,previewClass:"",captionClass:"",frameClass:"krajee-default",mainClass:"file-caption-main",mainTemplate:null,purifyHtml:!0,fileSizeGetter:null,initialCaption:"",initialPreview:[],initialPreviewDelimiter:"*$$*",initialPreviewAsData:!1,initialPreviewFileType:"image",initialPreviewConfig:[],initialPreviewThumbTags:[],previewThumbTags:{},initialPreviewShowDelete:!0,initialPreviewDownloadUrl:"",removeFromPreviewOnError:!1,deleteUrl:"",deleteExtraData:{},overwriteInitial:!0,sanitizeZoomCache:function(e){var t=X(document.createElement("div")).append(e);return t.find("input,select,.file-thumbnail-footer").remove(),t.html()},previewZoomButtonIcons:{prev:'<i class="glyphicon glyphicon-triangle-left"></i>',next:'<i class="glyphicon glyphicon-triangle-right"></i>',toggleheader:'<i class="glyphicon glyphicon-resize-vertical"></i>',fullscreen:'<i class="glyphicon glyphicon-fullscreen"></i>',borderless:'<i class="glyphicon glyphicon-resize-full"></i>',close:'<i class="glyphicon glyphicon-remove"></i>'},previewZoomButtonClasses:{prev:"btn btn-navigate",next:"btn btn-navigate",toggleheader:"btn btn-sm btn-kv btn-default btn-outline-secondary",fullscreen:"btn btn-sm btn-kv btn-default btn-outline-secondary",borderless:"btn btn-sm btn-kv btn-default btn-outline-secondary",close:"btn btn-sm btn-kv btn-default btn-outline-secondary"},previewTemplates:{},previewContentTemplates:{},preferIconicPreview:!1,preferIconicZoomPreview:!1,allowedFileTypes:null,allowedFileExtensions:null,allowedPreviewTypes:void 0,allowedPreviewMimeTypes:null,allowedPreviewExtensions:null,disabledPreviewTypes:void 0,disabledPreviewExtensions:["msi","exe","com","zip","rar","app","vb","scr"],disabledPreviewMimeTypes:null,defaultPreviewContent:null,customLayoutTags:{},customPreviewTags:{},previewFileIcon:'<i class="glyphicon glyphicon-file"></i>',previewFileIconClass:"file-other-icon",previewFileIconSettings:{},previewFileExtSettings:{},buttonLabelClass:"hidden-xs",browseIcon:'<i class="glyphicon glyphicon-folder-open"></i>&nbsp;',browseClass:"btn btn-primary",removeIcon:'<i class="glyphicon glyphicon-trash"></i>',removeClass:"btn btn-default btn-secondary",cancelIcon:'<i class="glyphicon glyphicon-ban-circle"></i>',cancelClass:"btn btn-default btn-secondary",pauseIcon:'<i class="glyphicon glyphicon-pause"></i>',pauseClass:"btn btn-default btn-secondary",uploadIcon:'<i class="glyphicon glyphicon-upload"></i>',uploadClass:"btn btn-default btn-secondary",uploadUrl:null,uploadUrlThumb:null,uploadAsync:!0,uploadParamNames:{chunkCount:"chunkCount",chunkIndex:"chunkIndex",chunkSize:"chunkSize",chunkSizeStart:"chunkSizeStart",chunksUploaded:"chunksUploaded",fileBlob:"fileBlob",fileId:"fileId",fileName:"fileName",fileRelativePath:"fileRelativePath",fileSize:"fileSize",retryCount:"retryCount"},maxAjaxThreads:5,fadeDelay:800,processDelay:100,queueDelay:10,progressDelay:0,enableResumableUpload:!1,resumableUploadOptions:{fallback:null,testUrl:null,chunkSize:2048,maxThreads:4,maxRetries:3,showErrorLog:!0},uploadExtraData:{},zoomModalHeight:480,minImageWidth:null,minImageHeight:null,maxImageWidth:null,maxImageHeight:null,resizeImage:!1,resizePreference:"width",resizeQuality:.92,resizeDefaultImageType:"image/jpeg",resizeIfSizeMoreThan:0,minFileSize:0,maxFileSize:0,maxFilePreviewSize:25600,minFileCount:0,maxFileCount:0,maxTotalFileCount:0,validateInitialCount:!1,msgValidationErrorClass:"text-danger",msgValidationErrorIcon:'<i class="glyphicon glyphicon-exclamation-sign"></i> ',msgErrorClass:"file-error-message",progressThumbClass:"progress-bar progress-bar-striped active",progressClass:"progress-bar bg-success progress-bar-success progress-bar-striped active",progressInfoClass:"progress-bar bg-info progress-bar-info progress-bar-striped active",progressCompleteClass:"progress-bar bg-success progress-bar-success",progressPauseClass:"progress-bar bg-primary progress-bar-primary progress-bar-striped active",progressErrorClass:"progress-bar bg-danger progress-bar-danger",progressUploadThreshold:99,previewFileType:"image",elCaptionContainer:null,elCaptionText:null,elPreviewContainer:null,elPreviewImage:null,elPreviewStatus:null,elErrorContainer:null,errorCloseButton:Q.closeButton("kv-error-close"),slugCallback:null,dropZoneEnabled:!0,dropZoneTitleClass:"file-drop-zone-title",fileActionSettings:{},otherActionButtons:"",textEncoding:"UTF-8",ajaxSettings:{},ajaxDeleteSettings:{},showAjaxErrorDetails:!0,mergeAjaxCallbacks:!1,mergeAjaxDeleteCallbacks:!1,retryErrorUploads:!0,reversePreviewOrder:!1,usePdfRenderer:function(){var e=!!window.MSInputMethodContext&&!!document.documentMode;return!!navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/i)||e},pdfRendererUrl:"",pdfRendererTemplate:'<iframe class="kv-preview-data file-preview-pdf" src="{renderer}?file={data}" {style}></iframe>'},X.fn.fileinputLocales.en={fileSingle:"file",filePlural:"files",browseLabel:"Browse &hellip;",removeLabel:"Remove",removeTitle:"Clear all unprocessed files",cancelLabel:"Cancel",cancelTitle:"Abort ongoing upload",pauseLabel:"Pause",pauseTitle:"Pause ongoing upload",uploadLabel:"Upload",uploadTitle:"Upload selected files",msgNo:"No",msgNoFilesSelected:"No files selected",msgCancelled:"Cancelled",msgPaused:"Paused",msgPlaceholder:"Select {files}...",msgZoomModalHeading:"Detailed Preview",msgFileRequired:"You must select a file to upload.",msgSizeTooSmall:'File "{name}" (<b>{size} KB</b>) is too small and must be larger than <b>{minSize} KB</b>.',msgSizeTooLarge:'File "{name}" (<b>{size} KB</b>) exceeds maximum allowed upload size of <b>{maxSize} KB</b>.',msgFilesTooLess:"You must select at least <b>{n}</b> {files} to upload.",msgFilesTooMany:"Number of files selected for upload <b>({n})</b> exceeds maximum allowed limit of <b>{m}</b>.",msgTotalFilesTooMany:"You can upload a maximum of <b>{m}</b> files (<b>{n}</b> files detected).",msgFileNotFound:'File "{name}" not found!',msgFileSecured:'Security restrictions prevent reading the file "{name}".',msgFileNotReadable:'File "{name}" is not readable.',msgFilePreviewAborted:'File preview aborted for "{name}".',msgFilePreviewError:'An error occurred while reading the file "{name}".',msgInvalidFileName:'Invalid or unsupported characters in file name "{name}".',msgInvalidFileType:'Invalid type for file "{name}". Only "{types}" files are supported.',msgInvalidFileExtension:'Invalid extension for file "{name}". Only "{extensions}" files are supported.',msgFileTypes:{image:"image",html:"HTML",text:"text",video:"video",audio:"audio",flash:"flash",pdf:"PDF",object:"object"},msgUploadAborted:"The file upload was aborted",msgUploadThreshold:"Processing...",msgUploadBegin:"Initializing...",msgUploadEnd:"Done",msgUploadResume:"Resuming upload...",msgUploadEmpty:"No valid data available for upload.",msgUploadError:"Upload Error",msgDeleteError:"Delete Error",msgProgressError:"Error",msgValidationError:"Validation Error",msgLoading:"Loading file {index} of {files} &hellip;",msgProgress:"Loading file {index} of {files} - {name} - {percent}% completed.",msgSelected:"{n} {files} selected",msgFoldersNotAllowed:"Drag & drop files only! {n} folder(s) dropped were skipped.",msgImageWidthSmall:'Width of image file "{name}" must be at least {size} px.',msgImageHeightSmall:'Height of image file "{name}" must be at least {size} px.',msgImageWidthLarge:'Width of image file "{name}" cannot exceed {size} px.',msgImageHeightLarge:'Height of image file "{name}" cannot exceed {size} px.',msgImageResizeError:"Could not get the image dimensions to resize.",msgImageResizeException:"Error while resizing the image.<pre>{errors}</pre>",msgAjaxError:"Something went wrong with the {operation} operation. Please try again later!",msgAjaxProgressError:"{operation} failed",msgDuplicateFile:'File "{name}" of same size "{size} KB" has already been selected earlier. Skipping duplicate selection.',msgResumableUploadRetriesExceeded:"Upload aborted beyond <b>{max}</b> retries for file <b>{file}</b>! Error Details: <pre>{error}</pre>",msgPendingTime:"{time} remaining",msgCalculatingTime:"calculating time remaining",ajaxOperations:{deleteThumb:"file delete",uploadThumb:"file upload",uploadBatch:"batch file upload",uploadExtra:"form data upload"},dropZoneTitle:"Drag & drop files here &hellip;",dropZoneClickTitle:"<br>(or click to select {files})",previewZoomButtonTitles:{prev:"View previous file",next:"View next file",toggleheader:"Toggle header",fullscreen:"Toggle full screen",borderless:"Toggle borderless mode",close:"Close detailed preview"}},X.fn.fileinput.Constructor=d,X(document).ready(function(){var e=X("input.file[type=file]");e.length&&e.fileinput()})}),function(){"use strict";window.jQuery.fn.fileinputLocales.fr={fileSingle:"fichier",filePlural:"fichiers",browseLabel:"Parcourir&hellip;",removeLabel:"Retirer",removeTitle:"Retirer les fichiers sÃ©lectionnÃ©s",cancelLabel:"Annuler",cancelTitle:"Annuler l'envoi en cours",pauseLabel:"Pause",pauseTitle:"Pause ongoing upload",uploadLabel:"TransfÃ©rer",uploadTitle:"TransfÃ©rer les fichiers sÃ©lectionnÃ©s",msgNo:"Non",msgNoFilesSelected:"",msgPaused:"Paused",msgCancelled:"AnnulÃ©",msgPlaceholder:"SÃ©lectionner le(s) {files}...",msgZoomModalHeading:"AperÃ§u dÃ©taillÃ©",msgFileRequired:"Vous devez sÃ©lectionner un fichier Ã  uploader.",msgSizeTooSmall:'Le fichier "{name}" (<b>{size} KB</b>) est infÃ©rieur Ã  la taille minimale de <b>{minSize} KB</b>.',msgSizeTooLarge:'Le fichier "{name}" (<b>{size} Ko</b>) dÃ©passe la taille maximale autorisÃ©e qui est de <b>{maxSize} Ko</b>.',msgFilesTooLess:"Vous devez sÃ©lectionner au moins <b>{n}</b> {files} Ã  transmettre.",msgFilesTooMany:"Le nombre de fichier sÃ©lectionnÃ© <b>({n})</b> dÃ©passe la quantitÃ© maximale autorisÃ©e qui est de <b>{m}</b>.",msgTotalFilesTooMany:"You can upload a maximum of <b>{m}</b> files (<b>{n}</b> files detected).",msgFileNotFound:'Le fichier "{name}" est introuvable !',msgFileSecured:'Des restrictions de sÃ©curitÃ© vous empÃªchent d\'accÃ©der au fichier "{name}".',msgFileNotReadable:'Le fichier "{name}" est illisible.',msgFilePreviewAborted:'PrÃ©visualisation du fichier "{name}" annulÃ©e.',msgFilePreviewError:'Une erreur est survenue lors de la lecture du fichier "{name}".',msgInvalidFileName:'CaractÃ¨res invalides ou non supportÃ©s dans le nom de fichier "{name}".',msgInvalidFileType:'Type de document invalide pour "{name}". Seulement les documents de type "{types}" sont autorisÃ©s.',msgInvalidFileExtension:'Extension invalide pour le fichier "{name}". Seules les extensions "{extensions}" sont autorisÃ©es.',msgFileTypes:{image:"image",html:"HTML",text:"text",video:"video",audio:"audio",flash:"flash",pdf:"PDF",object:"object"},msgUploadAborted:"Le transfert du fichier a Ã©tÃ© interrompu",msgUploadThreshold:"En cours...",msgUploadBegin:"Initialisation...",msgUploadEnd:"TerminÃ©",msgUploadResume:"Resuming upload...",msgUploadEmpty:"Aucune donnÃ©e valide disponible pour transmission.",msgUploadError:"Upload Error",msgDeleteError:"Delete Error",msgProgressError:"Erreur",msgValidationError:"Erreur de validation",msgLoading:"Transmission du fichier {index} sur {files}&hellip;",msgProgress:"Transmission du fichier {index} sur {files} - {name} - {percent}%.",msgSelected:"{n} {files} sÃ©lectionnÃ©(s)",msgFoldersNotAllowed:"Glissez et dÃ©posez uniquement des fichiers ! {n} rÃ©pertoire(s) exclu(s).",msgImageWidthSmall:"La largeur de l'image \"{name}\" doit Ãªtre d'au moins {size} px.",msgImageHeightSmall:"La hauteur de l'image \"{name}\" doit Ãªtre d'au moins {size} px.",msgImageWidthLarge:'La largeur de l\'image "{name}" ne peut pas dÃ©passer {size} px.',msgImageHeightLarge:'La hauteur de l\'image "{name}" ne peut pas dÃ©passer {size} px.',msgImageResizeError:"Impossible d'obtenir les dimensions de l'image Ã  redimensionner.",msgImageResizeException:"Erreur lors du redimensionnement de l'image.<pre>{errors}</pre>",msgAjaxError:"Une erreur s'est produite pendant l'opÃ©ration de {operation}. Veuillez rÃ©essayer plus tard.",msgAjaxProgressError:'L\'opÃ©ration "{operation}" a Ã©chouÃ©',msgDuplicateFile:'File "{name}" of same size "{size} KB" has already been selected earlier. Skipping duplicate selection.',msgResumableUploadRetriesExceeded:"Upload aborted beyond <b>{max}</b> retries for file <b>{file}</b>! Error Details: <pre>{error}</pre>",msgPendingTime:"{time} remaining",msgCalculatingTime:"calculating time remaining",ajaxOperations:{deleteThumb:"suppression du fichier",uploadThumb:"transfert du fichier",uploadBatch:"transfert des fichiers",uploadExtra:"soumission des donnÃ©es de formulaire"},dropZoneTitle:"Glissez et dÃ©posez les fichiers ici&hellip;",dropZoneClickTitle:"<br>(ou cliquez pour sÃ©lectionner manuellement)",fileActionSettings:{removeTitle:"Supprimer le fichier",uploadTitle:"TransfÃ©rer le fichier",uploadRetryTitle:"Relancer le transfert",zoomTitle:"Voir les dÃ©tails",dragTitle:"DÃ©placer / RÃ©arranger",indicatorNewTitle:"Pas encore transfÃ©rÃ©",indicatorSuccessTitle:"PostÃ©",indicatorErrorTitle:"Ajouter erreur",indicatorPausedTitle:"Upload Paused",indicatorLoadingTitle:"En cours..."},previewZoomButtonTitles:{prev:"Voir le fichier prÃ©cÃ©dent",next:"Voir le fichier suivant",toggleheader:"Masquer le titre",fullscreen:"Mode plein Ã©cran",borderless:"Mode cinÃ©ma",close:"Fermer l'aperÃ§u"}}}(),function(l){"use strict";function a(e,t){this.$element=l(e),this.options=l.extend({},this.defaults(),t),this.render()}a.VERSION="3.6.0",a.DEFAULTS={on:"On",off:"Off",onstyle:"primary",offstyle:"light",size:"normal",style:"",width:null,height:null},a.prototype.defaults=function(){return{on:this.$element.attr("data-on")||a.DEFAULTS.on,off:this.$element.attr("data-off")||a.DEFAULTS.off,onstyle:this.$element.attr("data-onstyle")||a.DEFAULTS.onstyle,offstyle:this.$element.attr("data-offstyle")||a.DEFAULTS.offstyle,size:this.$element.attr("data-size")||a.DEFAULTS.size,style:this.$element.attr("data-style")||a.DEFAULTS.style,width:this.$element.attr("data-width")||a.DEFAULTS.width,height:this.$element.attr("data-height")||a.DEFAULTS.height}},a.prototype.render=function(){this._onstyle="btn-"+this.options.onstyle,this._offstyle="btn-"+this.options.offstyle;var e="large"===this.options.size||"lg"===this.options.size?"btn-lg":"small"===this.options.size||"sm"===this.options.size?"btn-sm":"mini"===this.options.size||"xs"===this.options.size?"btn-xs":"",t=l('<label for="'+this.$element.prop("id")+'" class="btn">').html(this.options.on).addClass(this._onstyle+" "+e),i=l('<label for="'+this.$element.prop("id")+'" class="btn">').html(this.options.off).addClass(this._offstyle+" "+e),n=l('<span class="toggle-handle btn btn-light">').addClass(e),r=l('<div class="toggle-group">').append(t,i,n),a=l('<div class="toggle btn" data-toggle="toggle" role="button">').addClass(this.$element.prop("checked")?this._onstyle:this._offstyle+" off").addClass(e).addClass(this.options.style);this.$element.wrap(a),l.extend(this,{$toggle:this.$element.parent(),$toggleOn:t,$toggleOff:i,$toggleGroup:r}),this.$toggle.append(r);var o=this.options.width||Math.max(t.outerWidth(),i.outerWidth())+n.outerWidth()/2,s=this.options.height||Math.max(t.outerHeight(),i.outerHeight());t.addClass("toggle-on"),i.addClass("toggle-off"),this.$toggle.css({width:o,height:s}),this.options.height&&(t.css("line-height",t.height()+"px"),i.css("line-height",i.height()+"px")),this.update(!0),this.trigger(!0)},a.prototype.toggle=function(){this.$element.prop("checked")?this.off():this.on()},a.prototype.on=function(e){if(this.$element.prop("disabled"))return!1;this.$toggle.removeClass(this._offstyle+" off").addClass(this._onstyle),this.$element.prop("checked",!0),e||this.trigger()},a.prototype.off=function(e){if(this.$element.prop("disabled"))return!1;this.$toggle.removeClass(this._onstyle).addClass(this._offstyle+" off"),this.$element.prop("checked",!1),e||this.trigger()},a.prototype.enable=function(){this.$toggle.removeClass("disabled"),this.$toggle.removeAttr("disabled"),this.$element.prop("disabled",!1)},a.prototype.disable=function(){this.$toggle.addClass("disabled"),this.$toggle.attr("disabled","disabled"),this.$element.prop("disabled",!0)},a.prototype.update=function(e){this.$element.prop("disabled")?this.disable():this.enable(),this.$element.prop("checked")?this.on(e):this.off(e)},a.prototype.trigger=function(e){this.$element.off("change.bs.toggle"),e||this.$element.change(),this.$element.on("change.bs.toggle",l.proxy(function(){this.update()},this))},a.prototype.destroy=function(){this.$element.off("change.bs.toggle"),this.$toggleGroup.remove(),this.$element.removeData("bs.toggle"),this.$element.unwrap()};var e=l.fn.bootstrapToggle;l.fn.bootstrapToggle=function(n){var r=Array.prototype.slice.call(arguments,1)[0];return this.each(function(){var e=l(this),t=e.data("bs.toggle"),i="object"==typeof n&&n;t||e.data("bs.toggle",t=new a(this,i)),"string"==typeof n&&t[n]&&"boolean"==typeof r?t[n](r):"string"==typeof n&&t[n]&&t[n]()})},l.fn.bootstrapToggle.Constructor=a,l.fn.toggle.noConflict=function(){return l.fn.bootstrapToggle=e,this},l(function(){l("input[type=checkbox][data-toggle^=toggle]").bootstrapToggle()}),l(document).on("click.bs.toggle","div[data-toggle^=toggle]",function(e){l(this).find("input[type=checkbox]").bootstrapToggle("toggle"),e.preventDefault()})}(jQuery);